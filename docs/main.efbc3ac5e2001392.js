"use strict";(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[179],{3604:(Se,x,F)=>{function N(t){return"function"==typeof t}function H(t){const r=t(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const z=H(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,i)=>`${i+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function q(t,e){if(t){const r=t.indexOf(e);0<=r&&t.splice(r,1)}}class k{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const o of r)o.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(N(n))try{n()}catch(o){e=o instanceof z?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{g(o)}catch(s){e=e??[],s instanceof z?e=[...e,...s.errors]:e.push(s)}}if(e)throw new z(e)}}add(e){var r;if(e&&e!==this)if(this.closed)g(e);else{if(e instanceof k){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}_hasParent(e){const{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){const{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&q(r,e)}remove(e){const{_finalizers:r}=this;r&&q(r,e),e instanceof k&&e._removeParent(this)}}k.EMPTY=(()=>{const t=new k;return t.closed=!0,t})();const T=k.EMPTY;function C(t){return t instanceof k||t&&"closed"in t&&N(t.remove)&&N(t.add)&&N(t.unsubscribe)}function g(t){N(t)?t():t.unsubscribe()}const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},D={setTimeout(t,e,...r){const{delegate:n}=D;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){const{delegate:e}=D;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function S(t){D.setTimeout(()=>{const{onUnhandledError:e}=y;if(!e)throw t;e(t)})}function b(){}const v=M("C",void 0,void 0);function M(t,e,r){return{kind:t,value:e,error:r}}let w=null;function B(t){if(y.useDeprecatedSynchronousErrorHandling){const e=!w;if(e&&(w={errorThrown:!1,error:null}),t(),e){const{errorThrown:r,error:n}=w;if(w=null,r)throw n}}else t()}class f extends k{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,C(e)&&e.add(this)):this.destination=W}static create(e,r,n){return new j(e,r,n)}next(e){this.isStopped?U(function p(t){return M("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?U(function m(t){return M("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?U(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const E=Function.prototype.bind;function V(t,e){return E.call(t,e)}class ${constructor(e){this.partialObserver=e}next(e){const{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){G(n)}}error(e){const{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){G(n)}else G(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){G(r)}}}class j extends f{constructor(e,r,n){let i;if(super(),N(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&y.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&V(e.next,o),error:e.error&&V(e.error,o),complete:e.complete&&V(e.complete,o)}):i=e}this.destination=new $(i)}}function G(t){y.useDeprecatedSynchronousErrorHandling?function u(t){y.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=t)}(t):S(t)}function U(t,e){const{onStoppedNotification:r}=y;r&&D.setTimeout(()=>r(t,e))}const W={closed:!0,next:b,error:function O(t){throw t},complete:b},Q="function"==typeof Symbol&&Symbol.observable||"@@observable";function re(t){return t}function R(t){return 0===t.length?re:1===t.length?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}let P=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){const o=function te(t){return t&&t instanceof f||function X(t){return t&&N(t.next)&&N(t.error)&&N(t.complete)}(t)&&C(t)}(r)?r:new j(r,n,i);return B(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Y(n))((i,o)=>{const s=new j({next:a=>{try{r(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[Q](){return this}pipe(...r){return R(r)(this)}toPromise(r){return new(r=Y(r))((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function Y(t){var e;return null!==(e=t??y.Promise)&&void 0!==e?e:Promise}const ne=H(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let he=(()=>{class t extends P{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new pe(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new ne}next(r){B(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){B(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){B(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:i,observers:o}=this;return n||i?T:(this.currentObservers=null,o.push(r),new k(()=>{this.currentObservers=null,q(o,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){const r=new P;return r.source=this,r}}return t.create=(e,r)=>new pe(e,r),t})();class pe extends he{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,e)}error(e){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,e)}complete(){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===r||r.call(e)}_subscribe(e){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(e))&&void 0!==n?n:T}}class ce extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){const{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}}function Me(t){return N(t?.lift)}function ve(t){return e=>{if(Me(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function J(t,e,r,n,i){return new ue(t,e,r,n,i)}class ue extends f{constructor(e,r,n,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(t,e){return ve((r,n)=>{let i=0;r.subscribe(J(n,o=>{n.next(t.call(e,o,i++))}))})}function Wn(t){return this instanceof Wn?(this.v=t,this):new Wn(t)}function Mm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Pn(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Tm=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Am(t){return N(t?.then)}function Im(t){return N(t[Q])}function xm(t){return Symbol.asyncIterator&&N(t?.[Symbol.asyncIterator])}function Nm(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Rm=function gE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Om(t){return N(t?.[Rm])}function Pm(t){return function Va(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(I){n[I]&&(i[I]=function(L){return new Promise(function(K,ee){o.push([I,L,K,ee])>1||a(I,L)})})}function a(I,L){try{!function l(I){I.value instanceof Wn?Promise.resolve(I.value.v).then(c,d):h(o[0][2],I)}(n[I](L))}catch(K){h(o[0][3],K)}}function c(I){a("next",I)}function d(I){a("throw",I)}function h(I,L){I(L),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const r=t.getReader();try{for(;;){const{value:n,done:i}=yield Wn(r.read());if(i)return yield Wn(void 0);yield yield Wn(n)}}finally{r.releaseLock()}})}function Fm(t){return N(t?.getReader)}function Dn(t){if(t instanceof P)return t;if(null!=t){if(Im(t))return function vE(t){return new P(e=>{const r=t[Q]();if(N(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Tm(t))return function _E(t){return new P(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}(t);if(Am(t))return function yE(t){return new P(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,S)})}(t);if(xm(t))return km(t);if(Om(t))return function bE(t){return new P(e=>{for(const r of t)if(e.next(r),e.closed)return;e.complete()})}(t);if(Fm(t))return function CE(t){return km(Pm(t))}(t)}throw Nm(t)}function km(t){return new P(e=>{(function DE(t,e){var r,n,i,o;return function Jt(t,e,r,n){return new(r||(r=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(h){s(h)}}function l(d){try{c(n.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):function i(o){return o instanceof r?o:new r(function(s){s(o)})}(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(r=Mm(t);!(n=yield r.next()).done;)if(e.next(n.value),e.closed)return}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(r=>e.error(r))})}function Tr(t,e,r,n=0,i=!1){const o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Vt(t,e,r=1/0){return N(e)?Vt((n,i)=>se((o,s)=>e(n,o,i,s))(Dn(t(n,i))),r):("number"==typeof e&&(r=e),ve((n,i)=>function wE(t,e,r,n,i,o,s,a){const l=[];let c=0,d=0,h=!1;const I=()=>{h&&!l.length&&!c&&e.complete()},L=ee=>c<n?K(ee):l.push(ee),K=ee=>{o&&e.next(ee),c++;let ie=!1;Dn(r(ee,d++)).subscribe(J(e,ae=>{i?.(ae),o?L(ae):e.next(ae)},()=>{ie=!0},void 0,()=>{if(ie)try{for(c--;l.length&&c<n;){const ae=l.shift();s?Tr(e,s,()=>K(ae)):K(ae)}I()}catch(ae){e.error(ae)}}))};return t.subscribe(J(e,L,()=>{h=!0,I()})),()=>{a?.()}}(n,i,t,r)))}function Ki(t=1/0){return Vt(re,t)}const sr=new P(t=>t.complete());function Ou(t){return t[t.length-1]}function Lm(t){return N(Ou(t))?t.pop():void 0}function rs(t){return function SE(t){return t&&N(t.schedule)}(Ou(t))?t.pop():void 0}function Vm(t,e=0){return ve((r,n)=>{r.subscribe(J(n,i=>Tr(n,t,()=>n.next(i),e),()=>Tr(n,t,()=>n.complete(),e),i=>Tr(n,t,()=>n.error(i),e)))})}function Bm(t,e=0){return ve((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function jm(t,e){if(!t)throw new Error("Iterable cannot be null");return new P(r=>{Tr(r,e,()=>{const n=t[Symbol.asyncIterator]();Tr(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function Tt(t,e){return e?function RE(t,e){if(null!=t){if(Im(t))return function TE(t,e){return Dn(t).pipe(Bm(e),Vm(e))}(t,e);if(Tm(t))return function IE(t,e){return new P(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}(t,e);if(Am(t))return function AE(t,e){return Dn(t).pipe(Bm(e),Vm(e))}(t,e);if(xm(t))return jm(t,e);if(Om(t))return function xE(t,e){return new P(r=>{let n;return Tr(r,e,()=>{n=t[Rm](),Tr(r,e,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){return void r.error(s)}o?r.complete():r.next(i)},0,!0)}),()=>N(n?.return)&&n.return()})}(t,e);if(Fm(t))return function NE(t,e){return jm(Pm(t),e)}(t,e)}throw Nm(t)}(t,e):Dn(t)}function xe(...t){return Tt(t,rs(t))}function Um(t={}){const{connector:e=(()=>new he),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,d=!1,h=!1;const I=()=>{a?.unsubscribe(),a=void 0},L=()=>{I(),s=l=void 0,d=h=!1},K=()=>{const ee=s;L(),ee?.unsubscribe()};return ve((ee,ie)=>{c++,!h&&!d&&I();const ae=l=l??e();ie.add(()=>{c--,0===c&&!h&&!d&&(a=Pu(K,i))}),ae.subscribe(ie),!s&&c>0&&(s=new j({next:oe=>ae.next(oe),error:oe=>{h=!0,I(),a=Pu(L,r,oe),ae.error(oe)},complete:()=>{d=!0,I(),a=Pu(L,n),ae.complete()}}),Dn(ee).subscribe(s))})(o)}}function Pu(t,e,...r){if(!0===e)return void t();if(!1===e)return;const n=new j({next:()=>{n.unsubscribe(),t()}});return Dn(e(...r)).subscribe(n)}function Kn(t,e){return ve((r,n)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&n.complete();r.subscribe(J(n,l=>{i?.unsubscribe();let c=0;const d=o++;Dn(t(l,d)).subscribe(i=J(n,h=>n.next(e?e(l,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function FE(t,e){return t===e}function Je(t){for(let e in t)if(t[e]===Je)return e;throw Error("Could not find renamed property on target object.")}function Ba(t,e){for(const r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function At(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(At).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const r=e.indexOf("\n");return-1===r?e:e.substring(0,r)}function Fu(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const kE=Je({__forward_ref__:Je});function at(t){return t.__forward_ref__=at,t.toString=function(){return At(this())},t}function Pe(t){return ku(t)?t():t}function ku(t){return"function"==typeof t&&t.hasOwnProperty(kE)&&t.__forward_ref__===at}function Lu(t){return t&&!!t.\u0275providers}class le extends Error{constructor(e,r){super(function ja(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,r)),this.code=e}}function Qe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function Le(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function Vu(t,e){throw new le(-201,!1)}function Fn(t,e){null==t&&function Ne(t,e,r,n){throw new Error(`ASSERTION ERROR: ${t}`+(null==n?"":` [Expected=> ${r} ${n} ${e} <=Actual]`))}(e,t,null,"!=")}function we(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ua(t){return $m(t,$a)||$m(t,Gm)}function $m(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ha(t){return t&&(t.hasOwnProperty(Bu)||t.hasOwnProperty(GE))?t[Bu]:null}const $a=Je({\u0275prov:Je}),Bu=Je({\u0275inj:Je}),Gm=Je({ngInjectableDef:Je}),GE=Je({ngInjectorDef:Je});var He=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(He||{});let ju;function un(t){const e=ju;return ju=t,e}function Wm(t,e,r){const n=Ua(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&He.Optional?null:void 0!==e?e:void Vu(At(t))}const ot=globalThis,is={},zu="__NG_DI_FLAG__",Ga="ngTempTokenPath",KE=/\n/gm,Ym="__source";let Yi;function Wr(t){const e=Yi;return Yi=t,e}function XE(t,e=He.Default){if(void 0===Yi)throw new le(-203,!1);return null===Yi?Wm(t,void 0,e):Yi.get(t,e&He.Optional?null:void 0,e)}function _e(t,e=He.Default){return(function zm(){return ju}()||XE)(Pe(t),e)}function be(t,e=He.Default){return _e(t,za(e))}function za(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wu(t){const e=[];for(let r=0;r<t.length;r++){const n=Pe(t[r]);if(Array.isArray(n)){if(0===n.length)throw new le(900,!1);let i,o=He.Default;for(let s=0;s<n.length;s++){const a=n[s],l=ZE(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(_e(i,o))}else e.push(_e(n))}return e}function os(t,e){return t[zu]=e,t.prototype[zu]=e,t}function ZE(t){return t[zu]}function Ar(t){return{toString:t}.toString()}var Wa=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Wa||{}),kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(kn||{});const ar={},Ye=[],Ka=Je({\u0275cmp:Je}),Ku=Je({\u0275dir:Je}),Yu=Je({\u0275pipe:Je}),Xm=Je({\u0275mod:Je}),Ir=Je({\u0275fac:Je}),ss=Je({__NG_ELEMENT_ID__:Je}),Zm=Je({__NG_ENV_ID__:Je});function Qm(t,e,r){let n=t.length;for(;;){const i=t.indexOf(e,r);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===n||t.charCodeAt(i+o)<=32)return i}r=i+1}}function qu(t,e,r){let n=0;for(;n<r.length;){const i=r[n];if("number"==typeof i){if(0!==i)break;n++;const o=r[n++],s=r[n++],a=r[n++];t.setAttribute(e,s,a,o)}else{const o=i,s=r[++n];eg(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),n++}}return n}function Jm(t){return 3===t||4===t||6===t}function eg(t){return 64===t.charCodeAt(0)}function as(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){const i=e[n];"number"==typeof i?r=i:0===r||tg(t,r,i,null,-1===r||2===r?e[++n]:null)}}return t}function tg(t,e,r,n,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==i&&(t[o+1]=i));if(n===t[o+1])return void(t[o+2]=i)}o++,null!==n&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,r),null!==n&&t.splice(o++,0,n),null!==i&&t.splice(o++,0,i)}const ng="ng-template";function eS(t,e,r){let n=0,i=!0;for(;n<t.length;){let o=t[n++];if("string"==typeof o&&i){const s=t[n++];if(r&&"class"===o&&-1!==Qm(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;n<t.length&&"string"==typeof(o=t[n++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function rg(t){return 4===t.type&&t.value!==ng}function tS(t,e,r){return e===(4!==t.type||r?t.value:ng)}function nS(t,e,r){let n=4;const i=t.attrs||[],o=function oS(t){for(let e=0;e<t.length;e++)if(Jm(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!tS(t,l,r)||""===l&&1===e.length){if(Yn(n))return!1;s=!0}}else{const c=8&n?l:e[++a];if(8&n&&null!==t.attrs){if(!eS(t.attrs,c,r)){if(Yn(n))return!1;s=!0}continue}const h=rS(8&n?"class":l,i,rg(t),r);if(-1===h){if(Yn(n))return!1;s=!0;continue}if(""!==c){let I;I=h>o?"":i[h+1].toLowerCase();const L=8&n?I:null;if(L&&-1!==Qm(L,c,0)||2&n&&c!==I){if(Yn(n))return!1;s=!0}}}}else{if(!s&&!Yn(n)&&!Yn(l))return!1;if(s&&Yn(l))continue;s=!1,n=l|1&n}}return Yn(n)||s}function Yn(t){return 0==(1&t)}function rS(t,e,r,n){if(null===e)return-1;let i=0;if(n||!r){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function sS(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const n=t[r];if("number"==typeof n)return-1;if(n===e)return r;r++}return-1}(e,t)}function ig(t,e,r=!1){for(let n=0;n<e.length;n++)if(nS(t,e[n],r))return!0;return!1}function og(t,e){return t?":not("+e.trim()+")":e}function lS(t){let e=t[0],r=1,n=2,i="",o=!1;for(;r<t.length;){let s=t[r];if("string"==typeof s)if(2&n){const a=t[++r];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?i+="."+s:4&n&&(i+=" "+s);else""!==i&&!Yn(s)&&(e+=og(o,i),i=""),n=s,o=o||!Yn(n);r++}return""!==i&&(e+=og(o,i)),e}function Xu(t){return Ar(()=>{const e=ag(t),r={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Wa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,styles:t.styles||Ye,_:null,schemas:t.schemas||null,tView:null,id:""};lg(r);const n=t.dependencies;return r.directiveDefs=Ya(n,!1),r.pipeDefs=Ya(n,!0),r.id=function gS(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(r),r})}function hS(t){return ze(t)||jt(t)}function fS(t){return null!==t}function Wt(t){return Ar(()=>({type:t.type,bootstrap:t.bootstrap||Ye,declarations:t.declarations||Ye,imports:t.imports||Ye,exports:t.exports||Ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function sg(t,e){if(null==t)return ar;const r={};for(const n in t)if(t.hasOwnProperty(n)){let i=t[n],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),r[i]=n,e&&(e[i]=o)}return r}function Fe(t){return Ar(()=>{const e=ag(t);return lg(e),e})}function ze(t){return t[Ka]||null}function jt(t){return t[Ku]||null}function en(t){return t[Yu]||null}function En(t,e){const r=t[Xm]||null;if(!r&&!0===e)throw new Error(`Type ${At(t)} does not have '\u0275mod' property.`);return r}function ag(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ar,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ye,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sg(t.inputs,e),outputs:sg(t.outputs)}}function lg(t){t.features?.forEach(e=>e(t))}function Ya(t,e){if(!t)return null;const r=e?en:hS;return()=>("function"==typeof t?t():t).map(n=>r(n)).filter(fS)}const Dt=0,Ce=1,Be=2,ft=3,qn=4,ls=5,Kt=6,Xi=7,wt=8,Kr=9,Zi=10,Ve=11,cs=12,cg=13,Qi=14,Et=15,us=16,Ji=17,lr=18,ds=19,ug=20,Yr=21,xr=22,qa=23,Xa=24,$e=25,Zu=1,dg=2,cr=7,eo=9,Ut=11;function hn(t){return Array.isArray(t)&&"object"==typeof t[Zu]}function fn(t){return Array.isArray(t)&&!0===t[Zu]}function Qu(t){return 0!=(4&t.flags)}function gi(t){return t.componentOffset>-1}function Qa(t){return 1==(1&t.flags)}function Xn(t){return!!t.template}function Ju(t){return 0!=(512&t[Be])}function vi(t,e){return t.hasOwnProperty(Ir)?t[Ir]:null}let DS=ot.WeakRef??class CS{constructor(e){this.ref=e}deref(){return this.ref}},ES=0,ur=null,Ja=!1;function Rt(t){const e=ur;return ur=t,e}class gg{constructor(){this.id=ES++,this.ref=function wS(t){return new DS(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,r]of this.producers){const n=r.producerNode.deref();if(null!=n&&r.atTrackingVersion===this.trackingVersion){if(n.producerPollStatus(r.seenValueVersion))return!0}else this.producers.delete(e),n?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Ja;Ja=!0;try{for(const[r,n]of this.consumers){const i=n.consumerNode.deref();null!=i&&i.trackingVersion===n.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(r),i?.producers.delete(this.id))}}finally{Ja=e}}producerAccessed(){if(Ja)throw new Error("");if(null===ur)return;let e=ur.producers.get(this.id);void 0===e?(e={consumerNode:ur.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ur.trackingVersion},ur.producers.set(this.id,e),this.consumers.set(ur.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=ur.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ur?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let vg=null;const yg=()=>{};class AS extends gg{constructor(e,r,n){super(),this.watch=e,this.schedule=r,this.dirty=!1,this.cleanupFn=yg,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=n}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Rt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=yg,this.watch(this.registerOnCleanup)}finally{Rt(e)}}cleanup(){this.cleanupFn()}}class IS{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ln(){return bg}function bg(t){return t.type.prototype.ngOnChanges&&(t.setInput=NS),xS}function xS(){const t=Dg(this),e=t?.current;if(e){const r=t.previous;if(r===ar)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function NS(t,e,r,n){const i=this.declaredInputs[r],o=Dg(t)||function RS(t,e){return t[Cg]=e}(t,{previous:ar,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new IS(l&&l.currentValue,e,a===ar),t[n]=e}Ln.ngInherit=!0;const Cg="__ngSimpleChanges__";function Dg(t){return t[Cg]||null}const dr=function(t,e,r){};function lt(t){for(;Array.isArray(t);)t=t[Dt];return t}function pn(t,e){return lt(e[t.index])}function Sg(t,e){return t.data[e]}function Sn(t,e){const r=e[t];return hn(r)?r:r[Dt]}function qr(t,e){return null==e?null:t[e]}function Mg(t){t[Ji]=0}function BS(t){1024&t[Be]||(t[Be]|=1024,Ag(t,1))}function Tg(t){1024&t[Be]&&(t[Be]&=-1025,Ag(t,-1))}function Ag(t,e){let r=t[ft];if(null===r)return;r[ls]+=e;let n=r;for(r=r[ft];null!==r&&(1===e&&1===n[ls]||-1===e&&0===n[ls]);)r[ls]+=e,n=r,r=r[ft]}const Re={lFrame:Bg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ng(){return Re.bindingsEnabled}function de(){return Re.lFrame.lView}function We(){return Re.lFrame.tView}function od(t){return Re.lFrame.contextLView=t,t[wt]}function sd(t){return Re.lFrame.contextLView=null,t}function Ht(){let t=Rg();for(;null!==t&&64===t.type;)t=t.parent;return t}function Rg(){return Re.lFrame.currentTNode}function hr(t,e){const r=Re.lFrame;r.currentTNode=t,r.isParent=e}function ad(){return Re.lFrame.isParent}function ZS(t,e){const r=Re.lFrame;r.bindingIndex=r.bindingRootIndex=t,cd(e)}function cd(t){Re.lFrame.currentDirectiveIndex=t}function dd(t){Re.lFrame.currentQueryIndex=t}function JS(t){const e=t[Ce];return 2===e.type?e.declTNode:1===e.type?t[Kt]:null}function Lg(t,e,r){if(r&He.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||r&He.Host||(i=JS(o),null===i||(o=o[Qi],10&i.type))););if(null===i)return!1;e=i,t=o}const n=Re.lFrame=Vg();return n.currentTNode=e,n.lView=t,!0}function hd(t){const e=Vg(),r=t[Ce];Re.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function Vg(){const t=Re.lFrame,e=null===t?null:t.child;return null===e?Bg(t):e}function Bg(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function jg(){const t=Re.lFrame;return Re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ug=jg;function fd(){const t=jg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nn(){return Re.lFrame.selectedIndex}function _i(t){Re.lFrame.selectedIndex=t}let $g=!0;function rl(){return $g}function Xr(t){$g=t}function il(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){const o=t.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-r,s),a&&((t.contentHooks??=[]).push(r,a),(t.contentCheckHooks??=[]).push(r,a)),l&&(t.viewHooks??=[]).push(-r,l),c&&((t.viewHooks??=[]).push(r,c),(t.viewCheckHooks??=[]).push(r,c)),null!=d&&(t.destroyHooks??=[]).push(r,d)}}function ol(t,e,r){Gg(t,e,3,r)}function sl(t,e,r,n){(3&t[Be])===r&&Gg(t,e,r,n)}function pd(t,e){let r=t[Be];(3&r)===e&&(r&=8191,r+=1,t[Be]=r)}function Gg(t,e,r,n){const o=n??-1,s=e.length-1;let a=0;for(let l=void 0!==n?65535&t[Ji]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=n&&a>=n)break}else e[l]<0&&(t[Ji]+=65536),(a<o||-1==o)&&(aM(t,r,e,l),t[Ji]=(4294901760&t[Ji])+l+2),l++}function zg(t,e){dr(4,t,e);const r=Rt(null);try{e.call(t)}finally{Rt(r),dr(5,t,e)}}function aM(t,e,r,n){const i=r[n]<0,o=r[n+1],a=t[i?-r[n]:r[n]];i?t[Be]>>13<t[Ji]>>16&&(3&t[Be])===e&&(t[Be]+=8192,zg(a,o)):zg(a,o)}const io=-1;class ps{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function gd(t){return t!==io}function ms(t){return 32767&t}function gs(t,e){let r=function dM(t){return t>>16}(t),n=e;for(;r>0;)n=n[Qi],r--;return n}let vd=!0;function al(t){const e=vd;return vd=t,e}const Wg=255,Kg=5;let hM=0;const fr={};function ll(t,e){const r=Yg(t,e);if(-1!==r)return r;const n=e[Ce];n.firstCreatePass&&(t.injectorIndex=e.length,_d(n.data,t),_d(e,null),_d(n.blueprint,null));const i=cl(t,e),o=t.injectorIndex;if(gd(i)){const s=ms(i),a=gs(i,e),l=a[Ce].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function _d(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Yg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function cl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;null!==i;){if(n=t0(i),null===n)return io;if(r++,i=i[Qi],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return io}function yd(t,e,r){!function fM(t,e,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(ss)&&(n=r[ss]),null==n&&(n=r[ss]=hM++);const i=n&Wg;e.data[t+(i>>Kg)]|=1<<i}(t,e,r)}function qg(t,e,r){if(r&He.Optional||void 0!==t)return t;Vu()}function Xg(t,e,r,n){if(r&He.Optional&&void 0===n&&(n=null),!(r&(He.Self|He.Host))){const i=t[Kr],o=un(void 0);try{return i?i.get(e,n,r&He.Optional):Wm(e,n,r&He.Optional)}finally{un(o)}}return qg(n,0,r)}function Zg(t,e,r,n=He.Default,i){if(null!==t){if(2048&e[Be]&&!(n&He.Self)){const s=function yM(t,e,r,n,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Be]&&!(512&s[Be]);){const a=Qg(o,s,r,n|He.Self,fr);if(a!==fr)return a;let l=o.parent;if(!l){const c=s[ug];if(c){const d=c.get(r,fr,n);if(d!==fr)return d}l=t0(s),s=s[Qi]}o=l}return i}(t,e,r,n,fr);if(s!==fr)return s}const o=Qg(t,e,r,n,fr);if(o!==fr)return o}return Xg(e,r,n,i)}function Qg(t,e,r,n,i){const o=function gM(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ss)?t[ss]:void 0;return"number"==typeof e?e>=0?e&Wg:_M:e}(r);if("function"==typeof o){if(!Lg(e,t,n))return n&He.Host?qg(i,0,n):Xg(e,r,n,i);try{let s;if(s=o(n),null!=s||n&He.Optional)return s;Vu()}finally{Ug()}}else if("number"==typeof o){let s=null,a=Yg(t,e),l=io,c=n&He.Host?e[Et][Kt]:null;for((-1===a||n&He.SkipSelf)&&(l=-1===a?cl(t,e):e[a+8],l!==io&&e0(n,!1)?(s=e[Ce],a=ms(l),e=gs(l,e)):a=-1);-1!==a;){const d=e[Ce];if(Jg(o,a,d.data)){const h=mM(a,e,r,s,n,c);if(h!==fr)return h}l=e[a+8],l!==io&&e0(n,e[Ce].data[a+8]===c)&&Jg(o,a,e)?(s=d,a=ms(l),e=gs(l,e)):a=-1}}return i}function mM(t,e,r,n,i,o){const s=e[Ce],a=s.data[t+8],d=function ul(t,e,r,n,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,d=o>>20,I=i?a+d:t.directiveEnd;for(let L=n?a:a+d;L<I;L++){const K=s[L];if(L<l&&r===K||L>=l&&K.type===r)return L}if(i){const L=s[l];if(L&&Xn(L)&&L.type===r)return l}return null}(a,s,r,null==n?gi(a)&&vd:n!=s&&0!=(3&a.type),i&He.Host&&o===a);return null!==d?yi(e,s,d,a):fr}function yi(t,e,r,n){let i=t[r];const o=e.data;if(function lM(t){return t instanceof ps}(i)){const s=i;s.resolving&&function LE(t,e){const r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new le(-200,`Circular dependency in DI detected for ${t}${r}`)}(Qe(o[r]));const a=al(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?un(s.injectImpl):null;Lg(t,n,He.Default);try{i=t[r]=s.factory(void 0,o,t,n),e.firstCreatePass&&r>=n.directiveStart&&function sM(t,e,r){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(n){const s=bg(e);(r.preOrderHooks??=[]).push(t,s),(r.preOrderCheckHooks??=[]).push(t,s)}i&&(r.preOrderHooks??=[]).push(0-t,i),o&&((r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o))}(r,o[r],e)}finally{null!==c&&un(c),al(a),s.resolving=!1,Ug()}}return i}function Jg(t,e,r){return!!(r[e+(t>>Kg)]&1<<t)}function e0(t,e){return!(t&He.Self||t&He.Host&&e)}class rn{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return Zg(this._tNode,this._lView,e,za(n),r)}}function _M(){return new rn(Ht(),de())}function Ot(t){return Ar(()=>{const e=t.prototype.constructor,r=e[Ir]||bd(e),n=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){const o=i[Ir]||bd(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bd(t){return ku(t)?()=>{const e=bd(Pe(t));return e&&e()}:vi(t)}function t0(t){const e=t[Ce],r=e.type;return 2===r?e.declTNode:1===r?t[Kt]:null}const so="__parameters__";function lo(t,e,r){return Ar(()=>{const n=function Cd(t){return function(...r){if(t){const n=t(...r);for(const i in n)this[i]=n[i]}}}(e);function i(...o){if(this instanceof i)return n.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,d){const h=l.hasOwnProperty(so)?l[so]:Object.defineProperty(l,so,{value:[]})[so];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),l}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function uo(t,e){t.forEach(r=>Array.isArray(r)?uo(r,e):e(r))}function r0(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function hl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Mn(t,e,r){let n=ho(t,e);return n>=0?t[1|n]=r:(n=~n,function MM(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(1===i)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=r,t[e+1]=n}}(t,n,e,r)),n}function Dd(t,e){const r=ho(t,e);if(r>=0)return t[1|r]}function ho(t,e){return function o0(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){const o=n+(i-n>>1),s=t[o<<r];if(e===s)return o<<r;s>e?i=o:n=o+1}return~(i<<r)}(t,e,1)}const pl=os(lo("Optional"),8),ml=os(lo("SkipSelf"),4);function bl(t){return 128==(128&t.flags)}var Zr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zr||{});const Td=new Map;let XM=0;const Id="__ngContext__";function Yt(t,e){hn(e)?(t[Id]=e[ds],function QM(t){Td.set(t[ds],t)}(e)):t[Id]=e}let xd;function Nd(t,e){return xd(t,e)}function Ds(t){const e=t[ft];return fn(e)?e[ft]:e}function S0(t){return T0(t[cs])}function M0(t){return T0(t[qn])}function T0(t){for(;null!==t&&!fn(t);)t=t[qn];return t}function mo(t,e,r,n,i){if(null!=n){let o,s=!1;fn(n)?o=n:hn(n)&&(s=!0,n=n[Dt]);const a=lt(n);0===t&&null!==r?null==i?N0(e,r,a):bi(e,r,a,i||null,!0):1===t&&null!==r?bi(e,r,a,i||null,!0):2===t?function Tl(t,e,r){const n=Sl(t,e);n&&function vT(t,e,r,n){t.removeChild(e,r,n)}(t,n,e,r)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function bT(t,e,r,n,i){const o=r[cr];o!==lt(r)&&mo(e,t,n,o,i);for(let a=Ut;a<r.length;a++){const l=r[a];Es(l[Ce],l,t,e,n,o)}}(e,t,o,r,i)}}function wl(t,e,r){return t.createElement(e,r)}function I0(t,e){const r=t[eo],n=r.indexOf(e);Tg(e),r.splice(n,1)}function El(t,e){if(t.length<=Ut)return;const r=Ut+e,n=t[r];if(n){const i=n[us];null!==i&&i!==t&&I0(i,n),e>0&&(t[r-1][qn]=n[qn]);const o=hl(t,Ut+e);!function cT(t,e){Es(t,e,e[Ve],2,null,null),e[Dt]=null,e[Kt]=null}(n[Ce],n);const s=o[lr];null!==s&&s.detachView(o[Ce]),n[ft]=null,n[qn]=null,n[Be]&=-129}return n}function Od(t,e){if(!(256&e[Be])){const r=e[Ve];e[qa]?.destroy(),e[Xa]?.destroy(),r.destroyNode&&Es(t,e,r,3,null,null),function hT(t){let e=t[cs];if(!e)return Pd(t[Ce],t);for(;e;){let r=null;if(hn(e))r=e[cs];else{const n=e[Ut];n&&(r=n)}if(!r){for(;e&&!e[qn]&&e!==t;)hn(e)&&Pd(e[Ce],e),e=e[ft];null===e&&(e=t),hn(e)&&Pd(e[Ce],e),r=e&&e[qn]}e=r}}(e)}}function Pd(t,e){if(!(256&e[Be])){e[Be]&=-129,e[Be]|=256,function gT(t,e){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let n=0;n<r.length;n+=2){const i=e[r[n]];if(!(i instanceof ps)){const o=r[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];dr(4,a,l);try{l.call(a)}finally{dr(5,a,l)}}else{dr(4,i,o);try{o.call(i)}finally{dr(5,i,o)}}}}}(t,e),function mT(t,e){const r=t.cleanup,n=e[Xi];if(null!==r)for(let o=0;o<r.length-1;o+=2)if("string"==typeof r[o]){const s=r[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else r[o].call(n[r[o+1]]);null!==n&&(e[Xi]=null);const i=e[Yr];if(null!==i){e[Yr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Ce].type&&e[Ve].destroy();const r=e[us];if(null!==r&&fn(e[ft])){r!==e[ft]&&I0(r,e);const n=e[lr];null!==n&&n.detachView(t)}!function JM(t){Td.delete(t[ds])}(e)}}function Fd(t,e,r){return function x0(t,e,r){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return r[Dt];{const{componentOffset:i}=n;if(i>-1){const{encapsulation:o}=t.data[n.directiveStart+i];if(o===kn.None||o===kn.Emulated)return null}return pn(n,r)}}(t,e.parent,r)}function bi(t,e,r,n,i){t.insertBefore(e,r,n,i)}function N0(t,e,r){t.appendChild(e,r)}function R0(t,e,r,n,i){null!==n?bi(t,e,r,n,i):N0(t,e,r)}function Sl(t,e){return t.parentNode(e)}let kd,jd,F0=function P0(t,e,r){return 40&t.type?pn(t,r):null};function Ml(t,e,r,n){const i=Fd(t,n,e),o=e[Ve],a=function O0(t,e,r){return F0(t,e,r)}(n.parent||e[Kt],n,e);if(null!=i)if(Array.isArray(r))for(let l=0;l<r.length;l++)R0(o,i,r[l],a,!1);else R0(o,i,r,a,!1);void 0!==kd&&kd(o,n,e,r,i)}function ws(t,e){if(null!==e){const r=e.type;if(3&r)return pn(e,t);if(4&r)return Ld(-1,t[e.index]);if(8&r){const n=e.child;if(null!==n)return ws(t,n);{const i=t[e.index];return fn(i)?Ld(-1,i):lt(i)}}if(32&r)return Nd(e,t)()||lt(t[e.index]);{const n=L0(t,e);return null!==n?Array.isArray(n)?n[0]:ws(Ds(t[Et]),n):ws(t,e.next)}}return null}function L0(t,e){return null!==e?t[Et][Kt].projection[e.projection]:null}function Ld(t,e){const r=Ut+t+1;if(r<e.length){const n=e[r],i=n[Ce].firstChild;if(null!==i)return ws(n,i)}return e[cr]}function Vd(t,e,r,n,i,o,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===e&&(a&&Yt(lt(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)Vd(t,e,r.child,n,i,o,!1),mo(e,t,i,a,o);else if(32&l){const c=Nd(r,n);let d;for(;d=c();)mo(e,t,i,d,o);mo(e,t,i,a,o)}else 16&l?B0(t,e,n,r,i,o):mo(e,t,i,a,o);r=s?r.projectionNext:r.next}}function Es(t,e,r,n,i,o){Vd(r,n,t.firstChild,e,i,o,!1)}function B0(t,e,r,n,i,o){const s=r[Et],l=s[Kt].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)mo(e,t,i,l[c],o);else{let c=l;const d=s[ft];bl(n)&&(c.flags|=128),Vd(t,e,c,d,i,o,!0)}}function j0(t,e,r){""===r?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function U0(t,e,r){const{mergedAttrs:n,classes:i,styles:o}=r;null!==n&&qu(t,e,n),null!==i&&j0(t,e,i),null!==o&&function DT(t,e,r){t.setAttribute(e,"style",r)}(t,e,o)}class z0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ge{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=we({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const As=new ge("ENVIRONMENT_INITIALIZER"),tv=new ge("INJECTOR",-1),nv=new ge("INJECTOR_DEF_TYPES");class Wd{get(e,r=is){if(r===is){const n=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw n.name="NullInjectorError",n}return r}}function qT(...t){return{\u0275providers:rv(0,t),\u0275fromNgModule:!0}}function rv(t,...e){const r=[],n=new Set;let i;const o=s=>{r.push(s)};return uo(e,s=>{const a=s;Nl(a,o,[],n)&&(i||=[],i.push(a))}),void 0!==i&&iv(i,o),r}function iv(t,e){for(let r=0;r<t.length;r++){const{ngModule:n,providers:i}=t[r];Yd(i,o=>{e(o,n)})}}function Nl(t,e,r,n){if(!(t=Pe(t)))return!1;let i=null,o=Ha(t);const s=!o&&ze(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=Ha(l),!o)return!1;i=l}const a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Nl(c,e,r,n)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;n.add(i);try{uo(o.imports,d=>{Nl(d,e,r,n)&&(c||=[],c.push(d))})}finally{}void 0!==c&&iv(c,e)}if(!a){const c=vi(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ye},i),e({provide:nv,useValue:i,multi:!0},i),e({provide:As,useValue:()=>_e(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=t;Yd(l,d=>{e(d,c)})}}}return i!==t&&void 0!==t.providers}function Yd(t,e){for(let r of t)Lu(r)&&(r=r.\u0275providers),Array.isArray(r)?Yd(r,e):e(r)}const XT=Je({provide:String,useValue:Je});function qd(t){return null!==t&&"object"==typeof t&&XT in t}function Ci(t){return"function"==typeof t}const Xd=new ge("Set Injector scope."),Rl={},QT={};let Zd;function Ol(){return void 0===Zd&&(Zd=new Wd),Zd}class Tn{}class Pl extends Tn{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jd(e,s=>this.processProvider(s)),this.records.set(tv,yo(void 0,this)),i.has("environment")&&this.records.set(Tn,yo(void 0,this));const o=this.records.get(Xd);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nv.multi,Ye,He.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const r=Wr(this),n=un(void 0);try{return e()}finally{Wr(r),un(n)}}get(e,r=is,n=He.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Zm))return e[Zm](this);n=za(n);const o=Wr(this),s=un(void 0);try{if(!(n&He.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function rA(t){return"function"==typeof t||"object"==typeof t&&t instanceof ge}(e)&&Ua(e);l=c&&this.injectableDefInScope(c)?yo(Qd(e),Rl):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(n&He.Self?Ol():this.parent).get(e,r=n&He.Optional&&r===is?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[Ga]=a[Ga]||[]).unshift(At(e)),o)throw a;return function QE(t,e,r,n){const i=t[Ga];throw e[Ym]&&i.unshift(e[Ym]),t.message=function JE(t,e,r,n=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):At(a)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(KE,"\n  ")}`}("\n"+t.message,i,r,n),t.ngTokenPath=i,t[Ga]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{un(s),Wr(o)}}resolveInjectorInitializers(){const e=Wr(this),r=un(void 0);try{const i=this.get(As.multi,Ye,He.Self);for(const o of i)o()}finally{Wr(e),un(r)}}toString(){const e=[],r=this.records;for(const n of r.keys())e.push(At(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(e){let r=Ci(e=Pe(e))?e:Pe(e&&e.provide);const n=function eA(t){return qd(t)?yo(void 0,t.useValue):yo(av(t),Rl)}(e);if(Ci(e)||!0!==e.multi)this.records.get(r);else{let i=this.records.get(r);i||(i=yo(void 0,Rl,!0),i.factory=()=>Wu(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){return r.value===Rl&&(r.value=QT,r.value=r.factory()),"object"==typeof r.value&&r.value&&function nA(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(e){if(!e.providedIn)return!1;const r=Pe(e.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){const r=this._onDestroyHooks.indexOf(e);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Qd(t){const e=Ua(t),r=null!==e?e.factory:vi(t);if(null!==r)return r;if(t instanceof ge)throw new le(204,!1);if(t instanceof Function)return function JT(t){const e=t.length;if(e>0)throw function ys(t,e){const r=[];for(let n=0;n<t;n++)r.push(e);return r}(e,"?"),new le(204,!1);const r=function $E(t){return t&&(t[$a]||t[Gm])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new le(204,!1)}function av(t,e,r){let n;if(Ci(t)){const i=Pe(t);return vi(i)||Qd(i)}if(qd(t))n=()=>Pe(t.useValue);else if(function sv(t){return!(!t||!t.useFactory)}(t))n=()=>t.useFactory(...Wu(t.deps||[]));else if(function ov(t){return!(!t||!t.useExisting)}(t))n=()=>_e(Pe(t.useExisting));else{const i=Pe(t&&(t.useClass||t.provide));if(!function tA(t){return!!t.deps}(t))return vi(i)||Qd(i);n=()=>new i(...Wu(t.deps))}return n}function yo(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function Jd(t,e){for(const r of t)Array.isArray(r)?Jd(r,e):r&&Lu(r)?Jd(r.\u0275providers,e):e(r)}const Fl=new ge("AppId",{providedIn:"root",factory:()=>iA}),iA="ng",lv=new ge("Platform Initializer"),Jr=new ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cv=new ge("AnimationModuleType"),eh=new ge("CSP nonce",{providedIn:"root",factory:()=>function vo(){if(void 0!==jd)return jd;if(typeof document<"u")return document;throw new le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let dv=(t,e,r)=>null;function ah(t,e,r=!1){return dv(t,e,r)}class pA{}class pv{}class gA{resolveComponentFactory(e){throw function mA(t){const e=Error(`No component factory found for ${At(t)}.`);return e.ngComponent=t,e}(e)}}let Ul=(()=>{class e{}return e.NULL=new gA,e})();function vA(){return Co(Ht(),de())}function Co(t,e){return new gn(pn(t,e))}let gn=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=vA,e})();class Rs{}let Pr=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function yA(){const t=de(),r=Sn(Ht().index,t);return(hn(r)?r:t)[Ve]}(),e})(),bA=(()=>{var t;class e{}return(t=e).\u0275prov=we({token:t,providedIn:"root",factory:()=>null}),e})();class Di{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const CA=new Di("16.2.0"),uh={};function yv(t,e=null,r=null,n){const i=bv(t,e,r,n);return i.resolveInjectorInitializers(),i}function bv(t,e=null,r=null,n,i=new Set){const o=[r||Ye,qT(t)];return n=n||("object"==typeof t?void 0:At(t)),new Pl(o,e||Ol(),n||null,i)}let An=(()=>{var t;class e{static create(n,i){if(Array.isArray(n))return yv({name:""},i,n,"");{const o=n.name??"";return yv({name:o},n.parent,n.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=is,t.NULL=new Wd,t.\u0275prov=we({token:t,providedIn:"any",factory:()=>_e(tv)}),t.__NG_ELEMENT_ID__=-1,e})();function Fr(t){return t instanceof Function?t():t}let fh=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new le(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const n of this.callbacks)n.invoke()}finally{this.runningCallbacks=!1;for(const n of this.deferredCallbacks)this.callbacks.add(n);this.deferredCallbacks.clear()}}register(n){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(n)}unregister(n){this.callbacks.delete(n),this.deferredCallbacks.delete(n)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=we({token:t,providedIn:"root",factory:()=>new t}),e})();function Os(t){for(;t;){t[Be]|=64;const e=Ds(t);if(Ju(t)&&!e)return t;t=e}return null}function ph(t){return t.ngOriginalError}class wi{constructor(){this._console=console}handleError(e){const r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&ph(e);for(;r&&ph(r);)r=ph(r);return r||null}}const Sv=new ge("",{providedIn:"root",factory:()=>!1});class Iv extends gg{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Os(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,r,n){const i=Rt(this);this.trackingVersion++;try{e(r,n)}finally{Rt(i)}}destroy(){this.trackingVersion++}}let $l=null;function xv(){return $l??=new Iv,$l}function Nv(t,e){return t[e]??xv()}function Rv(t,e){const r=xv();r.hasReadASignal&&(t[e]=$l,r.lView=t,$l=new Iv)}const je={};function Pv(t,e,r,n){if(!n)if(3==(3&e[Be])){const o=t.preOrderCheckHooks;null!==o&&ol(e,o,r)}else{const o=t.preOrderHooks;null!==o&&sl(e,o,0,r)}_i(r)}function fe(t,e=He.Default){const r=de();return null===r?_e(t,e):Zg(Ht(),r,Pe(t),e)}function Gl(t,e,r,n,i,o,s,a,l,c,d){const h=e.blueprint.slice();return h[Dt]=i,h[Be]=140|n,(null!==c||t&&2048&t[Be])&&(h[Be]|=2048),Mg(h),h[ft]=h[Qi]=t,h[wt]=r,h[Zi]=s||t&&t[Zi],h[Ve]=a||t&&t[Ve],h[Kr]=l||t&&t[Kr]||null,h[Kt]=o,h[ds]=function ZM(){return XM++}(),h[xr]=d,h[ug]=c,h[Et]=2==e.type?t[Et]:h,h}function Eo(t,e,r,n,i){let o=t.data[e];if(null===o)o=function mh(t,e,r,n,i){const o=Rg(),s=ad(),l=t.data[e]=function GA(t,e,r,n,i,o){let s=e?e.injectorIndex:-1,a=0;return function no(){return null!==Re.skipHydrationRootTNode}()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,r,e,n,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,r,n,i),function XS(){return Re.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=r,o.value=n,o.attrs=i;const s=function fs(){const t=Re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return hr(o,!0),o}function Ps(t,e,r,n){if(0===r)return-1;const i=e.length;for(let o=0;o<r;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function kv(t,e,r,n,i){const o=Nv(e,qa),s=nn(),a=2&n;try{if(_i(-1),a&&e.length>$e&&Pv(t,e,$e,!1),dr(a?2:0,i),a)o.runInContext(r,n,i);else{const c=Rt(null);try{r(n,i)}finally{Rt(c)}}}finally{a&&null===e[qa]&&Rv(e,qa),_i(s),dr(a?3:1,i)}}function gh(t,e,r){if(Qu(e)){const n=Rt(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{Rt(n)}}}function Lv(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=yh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function yh(t,e,r,n,i,o,s,a,l,c,d){const h=$e+n,I=h+i,L=function VA(t,e){const r=[];for(let n=0;n<e;n++)r.push(n<t?null:je);return r}(h,I),K="function"==typeof c?c():c;return L[Ce]={type:t,blueprint:L,template:r,queries:null,viewQuery:a,declTNode:e,data:L.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:K,incompleteFirstPass:!1,ssrId:d}}let Vv=t=>null;function Bv(t,e,r,n){for(let i in t)if(t.hasOwnProperty(i)){r=null===r?{}:r;const o=t[i];null===n?jv(r,e,i,o):n.hasOwnProperty(i)&&jv(r,e,n[i],o)}return r}function jv(t,e,r,n){t.hasOwnProperty(r)?t[r].push(e,n):t[r]=[e,n]}function Uv(t,e,r,n,i,o){for(let c=0;c<n.length;c++)yd(ll(r,e),t,n[c].type);!function n3(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}(r,t.data.length,n.length);for(let c=0;c<n.length;c++){const d=n[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=Ps(t,e,n.length,null);for(let c=0;c<n.length;c++){const d=n[c];r.mergedAttrs=as(r.mergedAttrs,d.hostAttrs),r3(t,r,e,l,d),t3(l,d,i),null!==d.contentQueries&&(r.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(r.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function zA(t,e,r){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,c=null;for(let d=e.directiveStart;d<i;d++){const h=o[d],I=r?r.get(h):null,K=I?I.outputs:null;l=Bv(h.inputs,d,l,I?I.inputs:null),c=Bv(h.outputs,d,c,K);const ee=null===l||null===s||rg(e)?null:a3(l,d,s);a.push(ee)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,r,o)}function Hv(t,e,r){const n=r.directiveStart,i=r.directiveEnd,o=r.index,s=function QS(){return Re.lFrame.currentDirectiveIndex}();try{_i(o);for(let a=n;a<i;a++){const l=t.data[a],c=e[a];cd(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&QA(l,c)}}finally{_i(-1),cd(s)}}function QA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ch(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function t3(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;Xn(e)&&(r[""]=t)}}function r3(t,e,r,n,i){t.data[n]=i;const o=i.factory||(i.factory=vi(i.type)),s=new ps(o,Xn(i),fe);t.blueprint[n]=s,r[n]=s,function qA(t,e,r,n,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function XA(t){let e=t.length;for(;e>0;){const r=t[--e];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,o)}}(t,e,n,Ps(t,r,i.hostVars,je),i)}function s3(t,e,r,n,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)$v(n,r,s[a++],s[a++],s[a++])}function $v(t,e,r,n,i){const o=Rt(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(i=s[n].call(e,i)),null!==t.setInput?t.setInput(e,i,r,n):e[n]=i}finally{Rt(o)}}function a3(t,e,r){let n=null,i=0;for(;i<r.length;){const o=r[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===n&&(n=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){n.push(o,s[a+1],r[i+1]);break}}i+=2}else i+=2;else i+=4}return n}function zv(t,e){const r=t.contentQueries;if(null!==r)for(let n=0;n<r.length;n+=2){const o=r[n+1];if(-1!==o){const s=t.data[o];dd(r[n]),s.contentQueries(2,e[o],o)}}}function zl(t,e){return t[cs]?t[cg][qn]=e:t[cs]=e,t[cg]=e,e}function wh(t,e,r){dd(0);const n=Rt(null);try{e(t,r)}finally{Rt(n)}}function qv(t,e){const r=t[Kr],n=r?r.get(wi,null):null;n&&n.handleError(e)}function Eh(t,e,r,n,i){for(let o=0;o<r.length;){const s=r[o++],a=r[o++];$v(t.data[s],e[s],n,a,i)}}function l3(t,e){const r=Sn(e,t),n=r[Ce];!function c3(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}(n,r);const i=r[Dt];null!==i&&null===r[xr]&&(r[xr]=ah(i,r[Kr])),Sh(n,r,r[wt])}function Sh(t,e,r){hd(e);try{const n=t.viewQuery;null!==n&&wh(1,n,r);const i=t.template;null!==i&&kv(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zv(t,e),t.staticViewQueries&&wh(2,t.viewQuery,r);const o=t.components;null!==o&&function u3(t,e){for(let r=0;r<e.length;r++)l3(t,e[r])}(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[Be]&=-5,fd()}}let Xv=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(n,i,o){const s=typeof Zone>"u"?null:Zone.current,a=new AS(n,d=>{this.all.has(d)&&this.queue.set(d,s)},o);let l;this.all.add(a),a.notify();const c=()=>{a.cleanup(),l?.(),this.all.delete(a),this.queue.delete(a)};return l=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,i]of this.queue)this.queue.delete(n),i?i.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=we({token:t,providedIn:"root",factory:()=>new t}),e})();function Wl(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Fu(i,a):2==o&&(n=Fu(n,a+": "+e[++s]+";"))}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}function Fs(t,e,r,n,i=!1){for(;null!==r;){const o=e[r.index];if(null!==o&&n.push(lt(o)),fn(o)){for(let a=Ut;a<o.length;a++){const l=o[a],c=l[Ce].firstChild;null!==c&&Fs(l[Ce],l,c,n)}o[cr]!==o[Dt]&&n.push(o[cr])}const s=r.type;if(8&s)Fs(t,e,r.child,n);else if(32&s){const a=Nd(r,e);let l;for(;l=a();)n.push(l)}else if(16&s){const a=L0(e,r);if(Array.isArray(a))n.push(...a);else{const l=Ds(e[Et]);Fs(l[Ce],l,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function Kl(t,e,r,n=!0){const i=e[Zi],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{Zv(t,e,t.template,r)}catch(l){throw n&&qv(e,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function Zv(t,e,r,n){const i=e[Be];if(256!=(256&i)){e[Zi].effectManager?.flush(),hd(e);try{Mg(e),function Pg(t){return Re.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&kv(t,e,r,2,n);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&ol(e,c,null)}else{const c=t.preOrderHooks;null!==c&&sl(e,c,0,null),pd(e,0)}if(function f3(t){for(let e=S0(t);null!==e;e=M0(e)){if(!e[dg])continue;const r=e[eo];for(let n=0;n<r.length;n++){BS(r[n])}}}(e),Qv(e,2),null!==t.contentQueries&&zv(t,e),s){const c=t.contentCheckHooks;null!==c&&ol(e,c)}else{const c=t.contentHooks;null!==c&&sl(e,c,1),pd(e,1)}!function LA(t,e){const r=t.hostBindingOpCodes;if(null===r)return;const n=Nv(e,Xa);try{for(let i=0;i<r.length;i++){const o=r[i];if(o<0)_i(~o);else{const s=o,a=r[++i],l=r[++i];ZS(a,s),n.runInContext(l,2,e[s])}}}finally{null===e[Xa]&&Rv(e,Xa),_i(-1)}}(t,e);const a=t.components;null!==a&&e_(e,a,0);const l=t.viewQuery;if(null!==l&&wh(2,l,n),s){const c=t.viewCheckHooks;null!==c&&ol(e,c)}else{const c=t.viewHooks;null!==c&&sl(e,c,2),pd(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Be]&=-73,Tg(e)}finally{fd()}}}function Qv(t,e){for(let r=S0(t);null!==r;r=M0(r))for(let n=Ut;n<r.length;n++)Jv(r[n],e)}function p3(t,e,r){Jv(Sn(e,t),r)}function Jv(t,e){if(!function LS(t){return 128==(128&t[Be])}(t))return;const r=t[Ce];if(80&t[Be]&&0===e||1024&t[Be]||2===e)Zv(r,t,r.template,t[wt]);else if(t[ls]>0){Qv(t,1);const i=t[Ce].components;null!==i&&e_(t,i,1)}}function e_(t,e,r){for(let n=0;n<e.length;n++)p3(t,e[n],r)}class ks{get rootNodes(){const e=this._lView,r=e[Ce];return Fs(r,e,r.firstChild,[])}constructor(e,r){this._lView=e,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wt]}set context(e){this._lView[wt]=e}get destroyed(){return 256==(256&this._lView[Be])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ft];if(fn(e)){const r=e[8],n=r?r.indexOf(this):-1;n>-1&&(El(e,n),hl(r,n))}this._attachedToViewContainer=!1}Od(this._lView[Ce],this._lView)}onDestroy(e){!function Ig(t,e){if(256==(256&t[Be]))throw new le(911,!1);null===t[Yr]&&(t[Yr]=[]),t[Yr].push(e)}(this._lView,e)}markForCheck(){Os(this._cdRefInjectingView||this._lView)}detach(){this._lView[Be]&=-129}reattach(){this._lView[Be]|=128}detectChanges(){Kl(this._lView[Ce],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dT(t,e){Es(t,e,e[Ve],2,null,null)}(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=e}}class m3 extends ks{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Kl(e[Ce],e,e[wt],!1)}checkNoChanges(){}get context(){return null}}class t_ extends Ul{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const r=ze(e);return new Ls(r,this.ngModule)}}function n_(t){const e=[];for(let r in t)t.hasOwnProperty(r)&&e.push({propName:t[r],templateName:r});return e}class v3{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=za(n);const i=this.injector.get(e,uh,n);return i!==uh||r===uh?i:this.parentInjector.get(e,r,n)}}class Ls extends pv{get inputs(){const e=this.componentDef,r=e.inputTransforms,n=n_(e.inputs);if(null!==r)for(const i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return n_(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=function cS(t){return t.map(lS).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){let o=(i=i||this.ngModule)instanceof Tn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new v3(e,o):e,a=s.get(Rs,null);if(null===a)throw new le(407,!1);const h={rendererFactory:a,sanitizer:s.get(bA,null),effectManager:s.get(Xv,null),afterRenderEventManager:s.get(fh,null)},I=a.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",K=n?function BA(t,e,r,n){const o=n.get(Sv,!1)||r===kn.ShadowDom,s=t.selectRootElement(e,o);return function jA(t){Vv(t)}(s),s}(I,n,this.componentDef.encapsulation,s):wl(I,L,function g3(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(L)),ae=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let oe=null;null!==K&&(oe=ah(K,s,!0));const ye=yh(0,null,null,1,0,null,null,null,null,null,null),me=Gl(null,ye,null,ae,null,null,h,I,s,null,oe);let Oe,rt;hd(me);try{const nt=this.componentDef;let $t,yn=null;nt.findHostDirectiveDefs?($t=[],yn=new Map,nt.findHostDirectiveDefs(nt,$t,yn),$t.push(nt)):$t=[nt];const ir=function y3(t,e){const r=t[Ce],n=$e;return t[n]=e,Eo(r,n,2,"#host",null)}(me,K),Nu=function b3(t,e,r,n,i,o,s){const a=i[Ce];!function C3(t,e,r,n){for(const i of t)e.mergedAttrs=as(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Wl(e,e.mergedAttrs,!0),null!==r&&U0(n,r,e))}(n,t,e,s);let l=null;null!==e&&(l=ah(e,i[Kr]));const c=o.rendererFactory.createRenderer(e,r);let d=16;r.signals?d=4096:r.onPush&&(d=64);const h=Gl(i,Lv(r),null,d,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&Ch(a,t,n.length-1),zl(i,h),i[t.index]=h}(ir,K,nt,$t,me,h,I);rt=Sg(ye,$e),K&&function w3(t,e,r,n){if(n)qu(t,r,["ng-version",CA.full]);else{const{attrs:i,classes:o}=function uS(t){const e=[],r=[];let n=1,i=2;for(;n<t.length;){let o=t[n];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++n]):8===i&&r.push(o);else{if(!Yn(i))break;i=o}n++}return{attrs:e,classes:r}}(e.selectors[0]);i&&qu(t,r,i),o&&o.length>0&&j0(t,r,o.join(" "))}}(I,nt,K,n),void 0!==r&&function E3(t,e,r){const n=t.projection=[];for(let i=0;i<e.length;i++){const o=r[i];n.push(null!=o?Array.from(o):null)}}(rt,this.ngContentSelectors,r),Oe=function D3(t,e,r,n,i,o){const s=Ht(),a=i[Ce],l=pn(s,i);Uv(a,i,s,r,null,n);for(let d=0;d<r.length;d++)Yt(yi(i,a,s.directiveStart+d,s),i);Hv(a,i,s),l&&Yt(l,i);const c=yi(i,a,s.directiveStart+s.componentOffset,s);if(t[wt]=i[wt]=c,null!==o)for(const d of o)d(c,e);return gh(a,s,t),c}(Nu,nt,$t,yn,me,[S3]),Sh(ye,me,null)}finally{fd()}return new _3(this.componentType,Oe,Co(rt,me),me,rt)}}class _3 extends pA{constructor(e,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new m3(i),this.componentType=e}setInput(e,r){const n=this._tNode.inputs;let i;if(null!==n&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;const o=this._rootLView;Eh(o[Ce],o,i,e,r),this.previousInputValues.set(e,r),Os(Sn(this._tNode.index,o))}}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function S3(){const t=Ht();il(de()[Ce],t)}function et(t){let e=function r_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const n=[t];for(;e;){let i;if(Xn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new le(903,!1);i=e.\u0275dir}if(i){if(r){n.push(i);const s=t;s.inputs=Yl(t.inputs),s.inputTransforms=Yl(t.inputTransforms),s.declaredInputs=Yl(t.declaredInputs),s.outputs=Yl(t.outputs);const a=i.hostBindings;a&&I3(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&T3(t,l),c&&A3(t,c),Ba(t.inputs,i.inputs),Ba(t.declaredInputs,i.declaredInputs),Ba(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Ba(s.inputTransforms,i.inputTransforms)),Xn(i)&&i.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===et&&(r=!1)}}e=Object.getPrototypeOf(e)}!function M3(t){let e=0,r=null;for(let n=t.length-1;n>=0;n--){const i=t[n];i.hostVars=e+=i.hostVars,i.hostAttrs=as(i.hostAttrs,r=as(r,i.hostAttrs))}}(n)}function Yl(t){return t===ar?{}:t===Ye?[]:t}function T3(t,e){const r=t.viewQuery;t.viewQuery=r?(n,i)=>{e(n,i),r(n,i)}:e}function A3(t,e){const r=t.contentQueries;t.contentQueries=r?(n,i,o)=>{e(n,i,o),r(n,i,o)}:e}function I3(t,e){const r=t.hostBindings;t.hostBindings=r?(n,i)=>{e(n,i),r(n,i)}:e}function qt(t,e,r){return!Object.is(t[e],r)&&(t[e]=r,!0)}function Hs(t){return function to(t,e){return t[e]}(function qS(){return Re.lFrame.contextLView}(),$e+t)}function Rh(t,e,r){const n=de();return qt(n,function ro(){return Re.lFrame.bindingIndex++}(),e)&&function In(t,e,r,n,i,o,s,a){const l=pn(e,r);let d,c=e.inputs;!a&&null!=c&&(d=c[n])?(Eh(t,r,d,n,i),gi(e)&&function KA(t,e){const r=Sn(e,t);16&r[Be]||(r[Be]|=64)}(r,e.index)):3&e.type&&(n=function WA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),i=null!=s?s(i,e.value||"",n):i,o.setProperty(l,n,i))}(We(),function gt(){const t=Re.lFrame;return Sg(t.tView,t.selectedIndex)}(),n,t,e,n[Ve],r,!1),Rh}function Oh(t,e,r,n,i){const s=i?"class":"style";Eh(t,r,e.inputs[s],s,n)}function Pt(t,e,r,n){const i=de(),o=We(),s=$e+t,a=i[Ve],l=o.firstCreatePass?function oI(t,e,r,n,i,o){const s=e.consts,l=Eo(e,t,2,n,qr(s,i));return function bh(t,e,r,n){if(Ng()){const i=null===n?null:{"":-1},o=function JA(t,e){const r=t.directiveRegistry;let n=null,i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];if(ig(e,s.selectors,!1))if(n||(n=[]),Xn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s),Ch(t,e,a.length)}else n.unshift(s),Ch(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return null===n?null:[n,i]}(t,r);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Uv(t,e,r,s,i,a),i&&function e3(t,e,r){if(e){const n=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=r[e[i+1]];if(null==o)throw new le(-301,!1);n.push(e[i],o)}}}(r,n,i)}r.mergedAttrs=as(r.mergedAttrs,r.attrs)}(e,r,l,qr(s,o)),null!==l.attrs&&Wl(l,l.attrs,!1),null!==l.mergedAttrs&&Wl(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,r,n):o.data[s],c=D_(o,i,l,a,e,t);i[s]=c;const d=Qa(l);return hr(l,!0),U0(a,c,l),32!=(32&l.flags)&&rl()&&Ml(o,i,c,l),0===function US(){return Re.lFrame.elementDepthCount}()&&Yt(c,i),function HS(){Re.lFrame.elementDepthCount++}(),d&&(function vh(t,e,r){Ng()&&(function ZA(t,e,r,n){const i=r.directiveStart,o=r.directiveEnd;gi(r)&&function o3(t,e,r){const n=pn(e,t),i=Lv(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=zl(t,Gl(t,i,null,s,n,e,null,t[Zi].rendererFactory.createRenderer(n,r),null,null,null));t[e.index]=a}(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||ll(r,e),Yt(n,e);const s=r.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],c=yi(e,t,a,r);Yt(c,e),null!==s&&s3(0,a-i,c,l,0,s),Xn(l)&&(Sn(r.index,e)[wt]=yi(e,t,a,r))}}(t,e,r,pn(r,e)),64==(64&r.flags)&&Hv(t,e,r))}(o,i,l),gh(o,l,i)),null!==n&&function _h(t,e,r=pn){const n=e.localNames;if(null!==n){let i=e.index+1;for(let o=0;o<n.length;o+=2){const s=n[o+1],a=-1===s?r(e,t):t[s];t[i++]=a}}}(i,l),Pt}function Ft(){let t=Ht();ad()?function ld(){Re.lFrame.isParent=!1}():(t=t.parent,hr(t,!1));const e=t;(function GS(t){return Re.skipHydrationRootTNode===t})(e)&&function YS(){Re.skipHydrationRootTNode=null}(),function $S(){Re.lFrame.elementDepthCount--}();const r=We();return r.firstCreatePass&&(il(r,t),Qu(t)&&r.queries.elementEnd(t)),null!=e.classesWithoutHost&&function cM(t){return 0!=(8&t.flags)}(e)&&Oh(r,e,de(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function uM(t){return 0!=(16&t.flags)}(e)&&Oh(r,e,de(),e.stylesWithoutHost,!1),Ft}function Xt(t,e,r,n){return Pt(t,e,r,n),Ft(),Xt}let D_=(t,e,r,n,i,o)=>(Xr(!0),wl(n,i,function Hg(){return Re.lFrame.currentNamespace}()));function $s(t){return!!t&&"function"==typeof t.then}function M_(t){return!!t&&"function"==typeof t.subscribe}function ct(t,e,r,n){const i=de(),o=We(),s=Ht();return function A_(t,e,r,n,i,o,s){const a=Qa(n),c=t.firstCreatePass&&function Kv(t){return t.cleanup||(t.cleanup=[])}(t),d=e[wt],h=function Wv(t){return t[Xi]||(t[Xi]=[])}(e);let I=!0;if(3&n.type||s){const ee=pn(n,e),ie=s?s(ee):ee,ae=h.length,oe=s?me=>s(lt(me[n.index])):n.index;let ye=null;if(!s&&a&&(ye=function dI(t,e,r,n){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===r&&i[o+1]===n){const a=e[Xi],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,n.index)),null!==ye)(ye.__ngLastListenerFn__||ye).__ngNextListenerFn__=o,ye.__ngLastListenerFn__=o,I=!1;else{o=x_(n,e,d,o,!1);const me=r.listen(ie,i,o);h.push(o,me),c&&c.push(i,oe,ae,ae+1)}}else o=x_(n,e,d,o,!1);const L=n.outputs;let K;if(I&&null!==L&&(K=L[i])){const ee=K.length;if(ee)for(let ie=0;ie<ee;ie+=2){const Oe=e[K[ie]][K[ie+1]].subscribe(o),rt=h.length;h.push(o,Oe),c&&c.push(i,n.index,rt,-(rt+1))}}}(o,i,i[Ve],s,t,e,n),ct}function I_(t,e,r,n){try{return dr(6,e,r),!1!==r(n)}catch(i){return qv(t,i),!1}finally{dr(7,e,r)}}function x_(t,e,r,n,i){return function o(s){if(s===Function)return n;Os(t.componentOffset>-1?Sn(t.index,e):e);let l=I_(e,r,n,s),c=o.__ngNextListenerFn__;for(;c;)l=I_(e,r,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function ec(t,e){return t<<17|e<<2}function ei(t){return t>>17&32767}function Lh(t){return 2|t}function Si(t){return(131068&t)>>2}function Vh(t,e){return-131069&t|e<<2}function Bh(t){return 1|t}function j_(t,e,r,n,i){const o=t[r+1],s=null===e;let a=n?ei(o):Si(o),l=!1;for(;0!==a&&(!1===l||s);){const d=t[a+1];CI(t[a],e)&&(l=!0,t[a+1]=n?Bh(d):Lh(d)),a=n?ei(d):Si(d)}l&&(t[r+1]=n?Lh(o):Bh(o))}function CI(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ho(t,e)>=0}function tc(t,e){return function Zn(t,e,r,n){const i=de(),o=We(),s=function Rr(t){const e=Re.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}(2);o.firstUpdatePass&&function q_(t,e,r,n){const i=t.data;if(null===i[r+1]){const o=i[nn()],s=function Y_(t,e){return e>=t.expandoStartIndex}(t,r);(function J_(t,e){return 0!=(t.flags&(e?8:16))})(o,n)&&null===e&&!s&&(e=!1),e=function xI(t,e,r,n){const i=function ud(t){const e=Re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=n?e.residualClasses:e.residualStyles;if(null===i)0===(n?e.classBindings:e.styleBindings)&&(r=Gs(r=jh(null,t,e,r,n),e.attrs,n),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(r=jh(i,t,e,r,n),null===o){let l=function NI(t,e,r){const n=r?e.classBindings:e.styleBindings;if(0!==Si(n))return t[ei(n)]}(t,e,n);void 0!==l&&Array.isArray(l)&&(l=jh(null,t,e,l[1],n),l=Gs(l,e.attrs,n),function RI(t,e,r,n){t[ei(r?e.classBindings:e.styleBindings)]=n}(t,e,n,l))}else o=function OI(t,e,r){let n;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)n=Gs(n,t[o].hostAttrs,r);return Gs(n,e.attrs,r)}(t,e,n)}return void 0!==o&&(n?e.residualClasses=o:e.residualStyles=o),r}(i,o,e,n),function yI(t,e,r,n,i,o){let s=o?e.classBindings:e.styleBindings,a=ei(s),l=Si(s);t[n]=r;let d,c=!1;if(Array.isArray(r)?(d=r[1],(null===d||ho(r,d)>0)&&(c=!0)):d=r,i)if(0!==l){const I=ei(t[a+1]);t[n+1]=ec(I,a),0!==I&&(t[I+1]=Vh(t[I+1],n)),t[a+1]=function vI(t,e){return 131071&t|e<<17}(t[a+1],n)}else t[n+1]=ec(a,0),0!==a&&(t[a+1]=Vh(t[a+1],n)),a=n;else t[n+1]=ec(l,0),0===a?a=n:t[l+1]=Vh(t[l+1],n),l=n;c&&(t[n+1]=Lh(t[n+1])),j_(t,d,n,!0),j_(t,d,n,!1),function bI(t,e,r,n,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ho(o,e)>=0&&(r[n+1]=Bh(r[n+1]))}(e,d,t,n,o),s=ec(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,r,s,n)}}(o,t,s,n),e!==je&&qt(i,s,e)&&function Z_(t,e,r,n,i,o,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],d=function _I(t){return 1==(1&t)}(c)?Q_(l,e,r,i,Si(c),s):void 0;nc(d)||(nc(o)||function gI(t){return 2==(2&t)}(c)&&(o=Q_(l,null,r,i,a,s)),function CT(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let o=-1===n.indexOf("-")?void 0:Zr.DashCase;null==i?t.removeStyle(r,n,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zr.Important),t.setStyle(r,n,i,o))}}(n,s,function nl(t,e){return lt(e[t])}(nn(),r),i,o))}(o,o.data[nn()],i,i[Ve],t,i[s+1]=function LI(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=At(function Qr(t){return t instanceof z0?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,r),n,s)}(t,e,null,!0),tc}function jh(t,e,r,n,i){let o=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(o=e[a],n=Gs(n,o.hostAttrs,i),o!==t);)a++;return null!==t&&(r.directiveStylingLast=a),n}function Gs(t,e,r){const n=r?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Mn(t,s,!!r||e[++o]))}return void 0===t?null:t}function Q_(t,e,r,n,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),d=c?l[1]:l,h=null===d;let I=r[i+1];I===je&&(I=h?Ye:void 0);let L=h?Dd(I,n):d===n?I:void 0;if(c&&!nc(L)&&(L=Dd(l,n)),nc(L)&&(a=L,s))return a;const K=t[i+1];i=s?ei(K):Si(K)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Dd(l,n))}return a}function nc(t){return void 0!==t}function zs(t,e=""){const r=de(),n=We(),i=t+$e,o=n.firstCreatePass?Eo(n,i,1,e,null):n.data[i],s=ey(n,r,o,e,t);r[i]=s,rl()&&Ml(n,r,s,o),hr(o,!1)}let ey=(t,e,r,n,i)=>(Xr(!0),function Dl(t,e){return t.createText(e)}(e[Ve],n));const ko="en-US";let wy=ko;function Gh(t,e,r,n,i){if(t=Pe(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gh(t[o],e,r,n,i);else{const o=We(),s=de(),a=Ht();let l=Ci(t)?t:Pe(t.provide);const c=av(t),d=1048575&a.providerIndexes,h=a.directiveStart,I=a.providerIndexes>>20;if(Ci(t)||!t.multi){const L=new ps(c,i,fe),K=Wh(l,e,i?d:d+I,h);-1===K?(yd(ll(a,s),o,l),zh(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(L),s.push(L)):(r[K]=L,s[K]=L)}else{const L=Wh(l,e,d+I,h),K=Wh(l,e,d,d+I),ie=K>=0&&r[K];if(i&&!ie||!i&&!(L>=0&&r[L])){yd(ll(a,s),o,l);const ae=function i4(t,e,r,n,i){const o=new ps(t,r,fe);return o.multi=[],o.index=e,o.componentProviders=0,Yy(o,i,n&&!r),o}(i?r4:n4,r.length,i,n,c);!i&&ie&&(r[K].providerFactory=ae),zh(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(ae),s.push(ae)}else zh(o,t,L>-1?L:K,Yy(r[i?K:L],c,!i&&n));!i&&n&&ie&&r[K].componentProviders++}}}function zh(t,e,r,n){const i=Ci(e),o=function ZT(t){return!!t.useClass}(e);if(i||o){const l=(o?Pe(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(r);-1===d?c.push(r,[n,l]):c[d+1].push(n,l)}else c.push(r,l)}}}function Yy(t,e,r){return r&&t.componentProviders++,t.multi.push(e)-1}function Wh(t,e,r,n){for(let i=r;i<n;i++)if(e[i]===t)return i;return-1}function n4(t,e,r,n){return Kh(this.multi,[])}function r4(t,e,r,n){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=yi(r,r[Ce],this.providerFactory.index,n);o=a.slice(0,s),Kh(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Kh(i,o);return o}function Kh(t,e){for(let r=0;r<t.length;r++)e.push((0,t[r])());return e}function pt(t,e=[]){return r=>{r.providersResolver=(n,i)=>function t4(t,e,r){const n=We();if(n.firstCreatePass){const i=Xn(t);Gh(r,n.data,n.blueprint,i,!0),Gh(e,n.data,n.blueprint,i,!1)}}(n,i?i(t):t,e)}}class Ti{}class qy{}class Yh extends Ti{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new t_(this);const i=En(e);this._bootstrapComponents=Fr(i.bootstrap),this._r3Injector=bv(e,r,[{provide:Ti,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver},...n],At(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qh extends qy{constructor(e){super(),this.moduleType=e}create(e){return new Yh(this.moduleType,e,[])}}class Xy extends Ti{constructor(e){super(),this.componentFactoryResolver=new t_(this),this.instance=null;const r=new Pl([...e.providers,{provide:Ti,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver}],e.parent||Ol(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Xh(t,e,r=null){return new Xy({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}let a4=(()=>{var t;class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=rv(0,n.type),o=i.length>0?Xh([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=we({token:t,providedIn:"environment",factory:()=>new t(_e(Tn))}),e})();function Zy(t){t.getStandaloneInjector=e=>e.get(a4).getOrCreateStandaloneInjector(t)}function Qh(t){return e=>{setTimeout(t,void 0,e)}}const _t=class O4 extends he{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,r,n){let i=e,o=r||(()=>null),s=n;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Qh(o),i&&(i=Qh(i)),s&&(s=Qh(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof k&&e.add(a),a}};function k4(t,e,r,n=!0){const i=e[Ce];if(function fT(t,e,r,n){const i=Ut+n,o=r.length;n>0&&(r[i-1][qn]=e),n<o-Ut?(e[qn]=r[i],r0(r,Ut+n,e)):(r.push(e),e[qn]=null),e[ft]=r;const s=e[us];null!==s&&r!==s&&function pT(t,e){const r=t[eo];e[Et]!==e[ft][ft][Et]&&(t[dg]=!0),null===r?t[eo]=[e]:r.push(e)}(s,e);const a=e[lr];null!==a&&a.insertView(t),e[Be]|=128}(i,e,t,r),n){const o=Ld(r,t),s=e[Ve],a=Sl(s,t[cr]);null!==a&&function uT(t,e,r,n,i,o){n[Dt]=i,n[Kt]=e,Es(t,n,r,1,i,o)}(i,t[Kt],s,e,a,o)}}let Jn=(()=>{class e{}return e.__NG_ELEMENT_ID__=z4,e})();function z4(){return function mb(t,e){let r;const n=e[t.index];return fn(n)?r=n:(r=function Gv(t,e,r,n){return[t,!0,!1,e,null,0,n,r,null,null,null]}(n,e,null,t),e[t.index]=r,zl(e,r)),gb(r,e,t,n),new fb(r,t,e)}(Ht(),de())}const W4=Jn,fb=class extends W4{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new rn(this._hostTNode,this._hostLView)}get parentInjector(){const e=cl(this._hostTNode,this._hostLView);if(gd(e)){const r=gs(e,this._hostLView),n=ms(e);return new rn(r[Ce].data[n+8],r)}return new rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const r=pb(this._lContainer);return null!==r&&r[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,r,n){let i,o;"number"==typeof n?i=n:null!=n&&(i=n.index,o=n.injector);const a=e.createEmbeddedViewImpl(r||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,r,n,i,o){const s=e&&!function _s(t){return"function"==typeof t}(e);let a;if(s)a=r;else{const ee=r||{};a=ee.index,n=ee.injector,i=ee.projectableNodes,o=ee.environmentInjector||ee.ngModuleRef}const l=s?e:new Ls(ze(e)),c=n||this.parentInjector;if(!o&&null==l.ngModule){const ie=(s?c:this.parentInjector).get(Tn,null);ie&&(o=ie)}ze(l.componentType??{});const L=l.create(c,i,null,o);return this.insertImpl(L.hostView,a,false),L}insert(e,r){return this.insertImpl(e,r,!1)}insertImpl(e,r,n){const i=e._lView;if(function VS(t){return fn(t[ft])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[ft],d=new fb(c,c[Kt],c[ft]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(r),a=this._lContainer;return k4(a,i,s,!n),e.attachToViewContainerRef(),r0(ef(a),s,e),e}move(e,r){return this.insert(e,r)}indexOf(e){const r=pb(this._lContainer);return null!==r?r.indexOf(e):-1}remove(e){const r=this._adjustIndex(e,-1),n=El(this._lContainer,r);n&&(hl(ef(this._lContainer),r),Od(n[Ce],n))}detach(e){const r=this._adjustIndex(e,-1),n=El(this._lContainer,r);return n&&null!=hl(ef(this._lContainer),r)?new ks(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function pb(t){return t[8]}function ef(t){return t[8]||(t[8]=[])}let gb=function vb(t,e,r,n){if(t[cr])return;let i;i=8&r.type?lt(n):function K4(t,e){const r=t[Ve],n=r.createComment(""),i=pn(e,t);return bi(r,Sl(r,i),n,function _T(t,e){return t.nextSibling(e)}(r,i),!1),n}(e,r),t[cr]=i};const ff=new ge("Application Initializer");let pf=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=be(ff,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const s=o();if($s(s))n.push(s);else if(M_(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),0===n.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Hb=(()=>{var t;class e{log(n){console.log(n)}warn(n){console.warn(n)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const yr=new ge("LocaleId",{providedIn:"root",factory:()=>be(yr,He.Optional|He.SkipSelf)||function Ex(){return typeof $localize<"u"&&$localize.locale||ko}()});let uc=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ce(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Tx{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}}let $b=(()=>{var t;class e{compileModuleSync(n){return new qh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),s=Fr(En(n).declarations).reduce((a,l)=>{const c=ze(l);return c&&a.push(new Ls(c)),a},[]);return new Tx(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Kb(...t){}class dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _t(!1),this.onMicrotaskEmpty=new _t(!1),this.onStable=new _t(!1),this.onError=new _t(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Kx(){const t="function"==typeof ot.requestAnimationFrame;let e=ot[t?"requestAnimationFrame":"setTimeout"],r=ot[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&r){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Xx(t){const e=()=>{!function qx(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ot,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_f(t),t.isCheckStableRunning=!0,vf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_f(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,s,a)=>{try{return Yb(t),r.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),qb(t)}},onInvoke:(r,n,i,o,s,a,l)=>{try{return Yb(t),r.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),qb(t)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,_f(t),vf(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new le(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Yx,Kb,Kb);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}}const Yx={};function vf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _f(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Yb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qb(t){t._nesting--,vf(t)}class Zx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _t,this.onMicrotaskEmpty=new _t,this.onStable=new _t,this.onError=new _t}run(e,r,n){return e.apply(r,n)}runGuarded(e,r,n){return e.apply(r,n)}runOutsideAngular(e){return e()}runTask(e,r,n,i){return e.apply(r,n)}}const Xb=new ge("",{providedIn:"root",factory:Zb});function Zb(){const t=be(dt);let e=!0;return function OE(...t){const e=rs(t),r=function ME(t,e){return"number"==typeof Ou(t)?t.pop():e}(t,1/0),n=t;return n.length?1===n.length?Dn(n[0]):Ki(r)(Tt(n,e)):sr}(new P(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new P(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{dt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Um()))}const Qb=new ge(""),hc=new ge("");let Cf,yf=(()=>{var t;class e{constructor(n,i,o){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cf||(function Qx(t){Cf=t}(o),o.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,o){return[]}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(dt),_e(bf),_e(hc))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})(),bf=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Cf?.findTestabilityInTree(this,n,i)??null}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),ti=null;const Jb=new ge("AllowMultipleToken"),Df=new ge("PlatformDestroyListeners"),wf=new ge("appBootstrapListener");class t1{constructor(e,r){this.name=e,this.token=r}}function r1(t,e,r=[]){const n=`Platform: ${e}`,i=new ge(n);return(o=[])=>{let s=Ef();if(!s||s.injector.get(Jb,!1)){const a=[...r,...o,{provide:i,useValue:!0}];t?t(a):function t8(t){if(ti&&!ti.get(Jb,!1))throw new le(400,!1);(function e1(){!function MS(t){vg=t}(()=>{throw new le(600,!1)})})(),ti=t;const e=t.get(s1);(function n1(t){t.get(lv,null)?.forEach(r=>r())})(t)}(function o1(t=[],e){return An.create({name:e,providers:[{provide:Xd,useValue:"platform"},{provide:Df,useValue:new Set([()=>ti=null])},...t]})}(a,n))}return function r8(t){const e=Ef();if(!e)throw new le(401,!1);return e}()}}function Ef(){return ti?.get(s1)??null}let s1=(()=>{var t;class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const o=function i8(t="zone.js",e){return"noop"===t?new Zx:"zone.js"===t?new dt(e):t}(i?.ngZone,function a1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function s4(t,e,r){return new Yh(t,e,r)}(n.moduleType,this.injector,function h1(t){return[{provide:dt,useFactory:t},{provide:As,multi:!0,useFactory:()=>{const e=be(s8,{optional:!0});return()=>e.initialize()}},{provide:d1,useFactory:o8},{provide:Xb,useFactory:Zb}]}(()=>o)),a=s.injector.get(wi,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{fc(this._modules,s),l.unsubscribe()})}),function l1(t,e,r){try{const n=r();return $s(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(a,o,()=>{const l=s.injector.get(pf);return l.runInitializers(),l.donePromise.then(()=>(function Ey(t){Fn(t,"Expected localeId to be defined"),"string"==typeof t&&(wy=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(yr,ko)||ko),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,i=[]){const o=c1({},i);return function Jx(t,e,r){const n=new qh(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){const i=n.injector.get(Ai);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new le(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(Df,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(An))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function c1(t,e){return Array.isArray(e)?e.reduce(c1,t):{...t,...e}}let Ai=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=be(d1),this.zoneIsStable=be(Xb),this.componentTypes=[],this.components=[],this.isStable=be(uc).hasPendingTasks.pipe(Kn(n=>n?xe(!1):this.zoneIsStable),function PE(t,e=re){return t=t??FE,ve((r,n)=>{let i,o=!0;r.subscribe(J(n,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,n.next(s))}))})}(),Um()),this._injector=be(Tn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const o=n instanceof pv;if(!this._injector.get(pf).done)throw!o&&function qi(t){const e=ze(t)||jt(t)||en(t);return null!==e&&e.standalone}(n),new le(405,!1);let a;a=o?n:this._injector.get(Ul).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function e8(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ti),d=a.create(An.NULL,[],i||a.selector,l),h=d.location.nativeElement,I=d.injector.get(Qb,null);return I?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),fc(this.components,d),I?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;fc(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(wf,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>fc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new le(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function fc(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const d1=new ge("",{providedIn:"root",factory:()=>be(wi).handleError.bind(void 0)});function o8(){const t=be(dt),e=be(wi);return r=>t.runOutsideAngular(()=>e.handleError(r))}let s8=(()=>{var t;class e{constructor(){this.zone=be(dt),this.applicationRef=be(Ai)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let pc=(()=>{class e{}return e.__NG_ELEMENT_ID__=l8,e})();function l8(t){return function c8(t,e,r){if(gi(t)&&!r){const n=Sn(t.index,e);return new ks(n,n)}return 47&t.type?new ks(e[Et],e):null}(Ht(),de(),16==(16&t))}const D8=r1(null,"core",[]);let w8=(()=>{var t;class e{constructor(n){}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(Ai))},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({}),e})();let xf=null;function ni(){return xf}class L8{}const kt=new ge("DocumentToken");let Nf=(()=>{var t;class e{historyGo(n){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:function(){return be(B8)},providedIn:"platform"}),e})();const V8=new ge("Location Initialized");let B8=(()=>{var t;class e extends Nf{constructor(){super(),this._doc=be(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ni().getBaseHref(this._doc)}onPopState(n){const i=ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function Rf(t,e){if(0==t.length)return e;if(0==e.length)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,2==r?t+e.substring(1):1==r?t+e:t+"/"+e}function I1(t){const e=t.match(/#|\?|$/),r=e&&e.index||t.length;return t.slice(0,r-("/"===t[r-1]?1:0))+t.slice(r)}function Vr(t){return t&&"?"!==t[0]?"?"+t:t}let xi=(()=>{var t;class e{historyGo(n){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:function(){return be(N1)},providedIn:"root"}),e})();const x1=new ge("appBaseHref");let N1=(()=>{var t;class e extends xi{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??be(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Rf(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Vr(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,s){const a=this.prepareExternalUrl(o+Vr(s));this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){const a=this.prepareExternalUrl(o+Vr(s));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(Nf),_e(x1,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),j8=(()=>{var t;class e extends xi{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=Rf(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+Vr(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+Vr(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(Nf),_e(x1,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})(),Of=(()=>{var t;class e{constructor(n){this._subject=new _t,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function $8(t){if(new RegExp("^(https?:)?//").test(t)){const[,r]=t.split(/\/\/[^\/]+/);return r}return t}(I1(R1(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Vr(i))}normalize(n){return e.stripTrailingSlash(function H8(t,e){if(!t||!e.startsWith(t))return e;const r=e.substring(t.length);return""===r||["/",";","?","#"].includes(r[0])?r:e}(this._basePath,R1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vr(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}}return(t=e).normalizeQueryParams=Vr,t.joinWithSlash=Rf,t.stripTrailingSlash=I1,t.\u0275fac=function(n){return new(n||t)(_e(xi))},t.\u0275prov=we({token:t,factory:function(){return function U8(){return new Of(_e(xi))}()},providedIn:"root"}),e})();function R1(t){return t.replace(/\/index.html$/,"")}function U1(t,e){e=encodeURIComponent(e);for(const r of t.split(";")){const n=r.indexOf("="),[i,o]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let rN=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({}),e})();const Y1="browser";function q1(t){return"server"===t}let lN=(()=>{var t;class e{}return(t=e).\u0275prov=we({token:t,providedIn:"root",factory:()=>new cN(_e(kt),window)}),e})();class cN{constructor(e,r){this.document=e,this.window=r,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const r=function uN(t,e){const r=t.getElementById(e)||t.getElementsByName(e)[0];if(r)return r;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=n.nextNode()}}return null}(this.document,e);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const r=e.getBoundingClientRect(),n=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class X1{}class ON extends L8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Xf extends ON{static makeCurrent(){!function k8(t){xf||(xf=t)}(new Xf)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return(r=r||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return"window"===r?window:"document"===r?e:"body"===r?e.body:null}getBaseHref(e){const r=function PN(){return oa=oa||document.querySelector("base"),oa?oa.getAttribute("href"):null}();return null==r?null:function FN(t){Nc=Nc||document.createElement("a"),Nc.setAttribute("href",t);const e=Nc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(r)}resetBaseElement(){oa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return U1(document.cookie,e)}}let Nc,oa=null,LN=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();const Zf=new ge("EventManagerPlugins");let t2=(()=>{var t;class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new le(5101,!1);return this._eventNameToPlugin.set(n,i),i}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(Zf),_e(dt))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();class n2{constructor(e){this._doc=e}}const Qf="ng-app-id";let r2=(()=>{var t;class e{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=q1(s),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Qf}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){const o=this.styleRef;if(o.has(n)){const s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute(Qf),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Qf,this.appId),a}}addStyleToHost(n,i){const o=this.getStyleElement(n,i);n.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(kt),_e(Fl),_e(eh,8),_e(Jr))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();const Jf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ep=/%COMP%/g,UN=new ge("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function o2(t,e){return e.map(r=>r.replace(ep,t))}let tp=(()=>{var t;class e{constructor(n,i,o,s,a,l,c,d=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=q1(l),this.defaultRenderer=new np(n,a,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===kn.ShadowDom&&(i={...i,encapsulation:kn.Emulated});const o=this.getOrCreateRenderer(n,i);return o instanceof a2?o.applyToHost(n):o instanceof rp&&o.applyStyles(),o}getOrCreateRenderer(n,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,I=this.platformIsServer;switch(i.encapsulation){case kn.Emulated:s=new a2(c,d,i,this.appId,h,a,l,I);break;case kn.ShadowDom:return new zN(c,d,n,i,a,l,this.nonce,I);default:s=new rp(c,d,i,h,a,l,I)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(t2),_e(r2),_e(Fl),_e(UN),_e(kt),_e(Jr),_e(dt),_e(eh))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();class np{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Jf[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(s2(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(s2(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n="string"==typeof e?this.doc.querySelector(e):e;if(!n)throw new le(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;const o=Jf[i];o?e.setAttributeNS(o,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){const i=Jf[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(Zr.DashCase|Zr.Important)?e.style.setProperty(r,n,i&Zr.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&Zr.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e[r]=n}setValue(e,r){e.nodeValue=r}listen(e,r,n){if("string"==typeof e&&!(e=ni().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if("__ngUnwrap__"===r)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))&&r.preventDefault()}}}function s2(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class zN extends np{constructor(e,r,n,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=o2(i.id,i.styles);for(const d of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rp extends np{constructor(e,r,n,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=l?o2(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class a2 extends rp{constructor(e,r,n,i,o,s,a,l){const c=i+"-"+n.id;super(e,r,n,o,s,a,l,c),this.contentAttr=function HN(t){return"_ngcontent-%COMP%".replace(ep,t)}(c),this.hostAttr=function $N(t){return"_nghost-%COMP%".replace(ep,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){const n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}}let WN=(()=>{var t;class e extends n2{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(kt))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();const l2=["alt","control","meta","shift"],KN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let qN=(()=>{var t;class e extends n2{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ni().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const i=n.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),l2.forEach(d=>{const h=i.indexOf(d);h>-1&&(i.splice(h,1),a+=d+".")}),a+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(n,i){let o=KN[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),l2.forEach(a=>{a!==o&&(0,YN[a])(n)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(kt))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();const JN=r1(D8,"browser",[{provide:Jr,useValue:Y1},{provide:lv,useValue:function XN(){Xf.makeCurrent()},multi:!0},{provide:kt,useFactory:function QN(){return function MT(t){jd=t}(document),document},deps:[]}]),eR=new ge(""),d2=[{provide:hc,useClass:class kN{addToWindow(e){ot.getAngularTestability=(n,i=!0)=>{const o=e.findTestabilityInTree(n,i);if(null==o)throw new le(5103,!1);return o},ot.getAllAngularTestabilities=()=>e.getAllTestabilities(),ot.getAllAngularRootElements=()=>e.getAllRootElements(),ot.frameworkStabilizers||(ot.frameworkStabilizers=[]),ot.frameworkStabilizers.push(n=>{const i=ot.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&n(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,r,n){return null==r?null:e.getTestability(r)??(n?ni().isShadowRoot(r)?this.findTestabilityInTree(e,r.host,!0):this.findTestabilityInTree(e,r.parentElement,!0):null)}},deps:[]},{provide:Qb,useClass:yf,deps:[dt,bf,hc]},{provide:yf,useClass:yf,deps:[dt,bf,hc]}],h2=[{provide:Xd,useValue:"root"},{provide:wi,useFactory:function ZN(){return new wi},deps:[]},{provide:Zf,useClass:WN,multi:!0,deps:[kt,dt,Jr]},{provide:Zf,useClass:qN,multi:!0,deps:[kt]},tp,r2,t2,{provide:Rs,useExisting:tp},{provide:X1,useClass:LN,deps:[]},[]];let f2=(()=>{var t;class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Fl,useValue:n.appId}]}}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(eR,12))},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({providers:[...h2,...d2],imports:[rN,w8]}),e})(),p2=(()=>{var t;class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(kt))},t.\u0275prov=we({token:t,factory:function(n){let i=null;return i=n?new n:function nR(){return new p2(_e(kt))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:lR}=Array,{getPrototypeOf:cR,prototype:uR,keys:dR}=Object;function _2(t){if(1===t.length){const e=t[0];if(lR(e))return{args:e,keys:null};if(function hR(t){return t&&"object"==typeof t&&cR(t)===uR}(e)){const r=dR(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}const{isArray:fR}=Array;function y2(t){return se(e=>function pR(t,e){return fR(e)?t(...e):t(e)}(t,e))}function b2(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function Rc(...t){const e=rs(t),r=Lm(t),{args:n,keys:i}=_2(t);if(0===n.length)return Tt([],e);const o=new P(function mR(t,e,r=re){return n=>{C2(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)C2(e,()=>{const c=Tt(t[l],e);let d=!1;c.subscribe(J(n,h=>{o[l]=h,d||(d=!0,a--),a||n.next(r(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,e,i?s=>b2(i,s):re));return r?o.pipe(y2(r)):o}function C2(t,e,r){t?Tr(r,t,e):e()}const Oc=H(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pc(...t){return function gR(){return Ki(1)}()(Tt(t,rs(t)))}function D2(t){return new P(e=>{Dn(t()).subscribe(e)})}function sa(t,e){const r=N(t)?t:()=>t,n=i=>i.error(r());return new P(e?i=>e.schedule(n,0,i):n)}function op(){return ve((t,e)=>{let r=null;t._refCount++;const n=J(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(r=null);const i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}class w2 extends P{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Me(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new k;const r=this.getSubject();e.add(this.source.subscribe(J(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=k.EMPTY)}return e}refCount(){return op()(this)}}function Ni(t){return t<=0?()=>sr:ve((e,r)=>{let n=0;e.subscribe(J(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function E2(...t){const e=rs(t);return ve((r,n)=>{(e?Pc(t,r,e):Pc(t,r)).subscribe(n)})}function br(t,e){return ve((r,n)=>{let i=0;r.subscribe(J(n,o=>t.call(e,o,i++)&&n.next(o)))})}function Fc(t){return ve((e,r)=>{let n=!1;e.subscribe(J(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function S2(t=vR){return ve((e,r)=>{let n=!1;e.subscribe(J(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function vR(){return new Oc}function Ri(t,e){const r=arguments.length>=2;return n=>n.pipe(t?br((i,o)=>t(i,o,n)):re,Ni(1),r?Fc(e):S2(()=>new Oc))}function Uo(t,e){return N(e)?Vt(t,e,1):Vt(t,1)}function ln(t,e,r){const n=N(t)||e||r?{next:t,error:e,complete:r}:t;return n?ve((i,o)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;i.subscribe(J(o,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),o.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),o.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),o.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):re}function Oi(t){return ve((e,r)=>{let o,n=null,i=!1;n=e.subscribe(J(r,void 0,void 0,s=>{o=Dn(t(s,Oi(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function sp(t){return t<=0?()=>sr:ve((e,r)=>{let n=[];e.subscribe(J(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(const i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function aa(t){return ve((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}const Ue="primary",la=Symbol("RouteTitle");class DR{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Ho(t){return new DR(t)}function wR(t,e,r){const n=r.path.split("/");if(n.length>t.length||"full"===r.pathMatch&&(e.hasChildren()||n.length<t.length))return null;const i={};for(let o=0;o<n.length;o++){const s=n[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function Cr(t,e){const r=t?Object.keys(t):void 0,n=e?Object.keys(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!M2(t[i],e[i]))return!1;return!0}function M2(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const r=[...t].sort(),n=[...e].sort();return r.every((i,o)=>n[o]===i)}return t===e}function T2(t){return t.length>0?t[t.length-1]:null}function ii(t){return function aR(t){return!!t&&(t instanceof P||N(t.lift)&&N(t.subscribe))}(t)?t:$s(t)?Tt(Promise.resolve(t)):xe(t)}const SR={exact:function x2(t,e,r){if(!Pi(t.segments,e.segments)||!kc(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!t.children[n]||!x2(t.children[n],e.children[n],r))return!1;return!0},subset:N2},A2={exact:function MR(t,e){return Cr(t,e)},subset:function TR(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>M2(t[r],e[r]))},ignored:()=>!0};function I2(t,e,r){return SR[r.paths](t.root,e.root,r.matrixParams)&&A2[r.queryParams](t.queryParams,e.queryParams)&&!("exact"===r.fragment&&t.fragment!==e.fragment)}function N2(t,e,r){return R2(t,e,e.segments,r)}function R2(t,e,r,n){if(t.segments.length>r.length){const i=t.segments.slice(0,r.length);return!(!Pi(i,r)||e.hasChildren()||!kc(i,r,n))}if(t.segments.length===r.length){if(!Pi(t.segments,r)||!kc(t.segments,r,n))return!1;for(const i in e.children)if(!t.children[i]||!N2(t.children[i],e.children[i],n))return!1;return!0}{const i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!!(Pi(t.segments,i)&&kc(t.segments,i,n)&&t.children[Ue])&&R2(t.children[Ue],e,o,n)}}function kc(t,e,r){return e.every((n,i)=>A2[r](t[i].parameters,n.parameters))}class $o{constructor(e=new tt([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ho(this.queryParams)),this._queryParamMap}toString(){return xR.serialize(this)}}class tt{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lc(this)}}class ca{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Ho(this.parameters)),this._parameterMap}toString(){return F2(this)}}function Pi(t,e){return t.length===e.length&&t.every((r,n)=>r.path===e[n].path)}let ua=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:function(){return new ap},providedIn:"root"}),e})();class ap{parse(e){const r=new UR(e);return new $o(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){const r=`/${da(e.root,!0)}`,n=function OR(t){const e=Object.keys(t).map(r=>{const n=t[r];return Array.isArray(n)?n.map(i=>`${Vc(r)}=${Vc(i)}`).join("&"):`${Vc(r)}=${Vc(n)}`}).filter(r=>!!r);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${r}${n}${"string"==typeof e.fragment?`#${function NR(t){return encodeURI(t)}(e.fragment)}`:""}`}}const xR=new ap;function Lc(t){return t.segments.map(e=>F2(e)).join("/")}function da(t,e){if(!t.hasChildren())return Lc(t);if(e){const r=t.children[Ue]?da(t.children[Ue],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Ue&&n.push(`${i}:${da(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function IR(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===Ue&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==Ue&&(r=r.concat(e(i,n)))}),r}(t,(n,i)=>i===Ue?[da(t.children[Ue],!1)]:[`${i}:${da(n,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ue]?`${Lc(t)}/${r[0]}`:`${Lc(t)}/(${r.join("//")})`}}function O2(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vc(t){return O2(t).replace(/%3B/gi,";")}function lp(t){return O2(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bc(t){return decodeURIComponent(t)}function P2(t){return Bc(t.replace(/\+/g,"%20"))}function F2(t){return`${lp(t.path)}${function RR(t){return Object.keys(t).map(e=>`;${lp(e)}=${lp(t[e])}`).join("")}(t.parameters)}`}const PR=/^[^\/()?;#]+/;function cp(t){const e=t.match(PR);return e?e[0]:""}const FR=/^[^\/()?;=#]+/,LR=/^[^=?&#]+/,BR=/^[^&#]+/;class UR{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tt([],{}):new tt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[Ue]=new tt(e,r)),n}parseSegment(){const e=cp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new le(4009,!1);return this.capture(e),new ca(Bc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const r=function kR(t){const e=t.match(FR);return e?e[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const i=cp(this.remaining);i&&(n=i,this.capture(n))}e[Bc(r)]=Bc(n)}parseQueryParam(e){const r=function VR(t){const e=t.match(LR);return e?e[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function jR(t){const e=t.match(BR);return e?e[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const i=P2(r),o=P2(n);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=cp(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new le(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ue);const s=this.parseChildren();r[o]=1===Object.keys(s).length?s[Ue]:new tt([],s),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new le(4011,!1)}}function k2(t){return t.segments.length>0?new tt([],{[Ue]:t}):t}function L2(t){const e={};for(const n of Object.keys(t.children)){const o=L2(t.children[n]);if(n===Ue&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}return function HR(t){if(1===t.numberOfChildren&&t.children[Ue]){const e=t.children[Ue];return new tt(t.segments.concat(e.segments),e.children)}return t}(new tt(t.segments,e))}function Fi(t){return t instanceof $o}function V2(t){let e;const i=k2(function r(o){const s={};for(const l of o.children){const c=r(l);s[l.outlet]=c}const a=new tt(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function B2(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return up(i,i,i,r,n);const o=function GR(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new U2(!0,0,t);let e=0,r=!1;const n=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new U2(r,e,n)}(e);if(o.toRoot())return up(i,i,new tt([],{}),r,n);const s=function zR(t,e,r){if(t.isAbsolute)return new Uc(e,!0,0);if(!r)return new Uc(e,!1,NaN);if(null===r.parent)return new Uc(r,!0,0);const n=jc(t.commands[0])?0:1;return function WR(t,e,r){let n=t,i=e,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new le(4005,!1);i=n.segments.length}return new Uc(n,!1,i-o)}(r,r.segments.length-1+n,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?fa(s.segmentGroup,s.index,o.commands):H2(s.segmentGroup,s.index,o.commands);return up(i,s.segmentGroup,a,r,n)}function jc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ha(t){return"object"==typeof t&&null!=t&&t.outlets}function up(t,e,r,n,i){let s,o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=t===e?r:j2(t,e,r);const a=k2(L2(s));return new $o(a,o,i)}function j2(t,e,r){const n={};return Object.entries(t.children).forEach(([i,o])=>{n[i]=o===e?r:j2(o,e,r)}),new tt(t.segments,n)}class U2{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&jc(n[0]))throw new le(4003,!1);const i=n.find(ha);if(i&&i!==T2(n))throw new le(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uc{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}}function H2(t,e,r){if(t||(t=new tt([],{})),0===t.segments.length&&t.hasChildren())return fa(t,e,r);const n=function YR(t,e,r){let n=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return o;const s=t.segments[i],a=r[n];if(ha(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!G2(l,c,s))return o;n+=2}else{if(!G2(l,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const o=new tt(t.segments.slice(0,n.pathIndex),{});return o.children[Ue]=new tt(t.segments.slice(n.pathIndex),t.children),fa(o,0,i)}return n.match&&0===i.length?new tt(t.segments,{}):n.match&&!t.hasChildren()?dp(t,e,r):n.match?fa(t,0,i):dp(t,e,r)}function fa(t,e,r){if(0===r.length)return new tt(t.segments,{});{const n=function KR(t){return ha(t[0])?t[0].outlets:{[Ue]:t}}(r),i={};if(!n[Ue]&&t.children[Ue]&&1===t.numberOfChildren&&0===t.children[Ue].segments.length){const o=fa(t.children[Ue],e,r);return new tt(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=H2(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===n[o]&&(i[o]=s)}),new tt(t.segments,i)}}function dp(t,e,r){const n=t.segments.slice(0,e);let i=0;for(;i<r.length;){const o=r[i];if(ha(o)){const l=qR(o.outlets);return new tt(n,l)}if(0===i&&jc(r[0])){n.push(new ca(t.segments[e].path,$2(r[0]))),i++;continue}const s=ha(o)?o.outlets[Ue]:`${o}`,a=i<r.length-1?r[i+1]:null;s&&a&&jc(a)?(n.push(new ca(s,$2(a))),i+=2):(n.push(new ca(s,{})),i++)}return new tt(n,{})}function qR(t){const e={};return Object.entries(t).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=dp(new tt([],{}),0,n))}),e}function $2(t){const e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function G2(t,e,r){return t==r.path&&Cr(e,r.parameters)}const pa="imperative";class Dr{constructor(e,r){this.id=e,this.url=r}}class hp extends Dr{constructor(e,r,n="imperative",i=null){super(e,r),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ki extends Dr{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hc extends Dr{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ma extends Dr{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=16}}class fp extends Dr{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XR extends Dr{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZR extends Dr{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QR extends Dr{constructor(e,r,n,i,o){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JR extends Dr{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e9 extends Dr{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t9{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class n9{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class r9{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i9{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o9{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s9{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z2{constructor(e,r,n){this.routerEvent=e,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class a9{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ga,this.attachRef=null}}let ga=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new a9,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class W2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){const r=pp(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){const r=pp(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){const r=mp(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mp(e,this._root).map(r=>r.value)}}function pp(t,e){if(t===e.value)return e;for(const r of e.children){const n=pp(t,r);if(n)return n}return null}function mp(t,e){if(t===e.value)return[e];for(const r of e.children){const n=mp(t,r);if(n.length)return n.unshift(e),n}return[]}class Ur{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}}function Go(t){const e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}class K2 extends W2{constructor(e,r){super(e),this.snapshot=r,gp(this,e)}toString(){return this.snapshot.toString()}}function Y2(t,e){const r=function l9(t,e){const s=new $c([],{},{},"",{},Ue,e,null,{});return new X2("",new Ur(s,[]))}(0,e),n=new ce([new ca("",{})]),i=new ce({}),o=new ce({}),s=new ce({}),a=new ce(""),l=new zo(n,i,s,a,o,Ue,e,r.root);return l.snapshot=r.root,new K2(new Ur(l,[]),r)}class zo{constructor(e,r,n,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(se(c=>c[la]))??xe(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>Ho(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>Ho(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function q2(t,e="emptyOnly"){const r=t.pathFromRoot;let n=0;if("always"!==e)for(n=r.length-1;n>=1;){const i=r[n],o=r[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(o.component)break;n--}}return function c9(t){return t.reduce((e,r)=>({params:{...e.params,...r.params},data:{...e.data,...r.data},resolve:{...r.data,...e.resolve,...r.routeConfig?.data,...r._resolvedData}}),{params:{},data:{},resolve:{}})}(r.slice(n))}class $c{get title(){return this.data?.[la]}constructor(e,r,n,i,o,s,a,l,c){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ho(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ho(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class X2 extends W2{constructor(e,r){super(r),this.url=e,gp(this,r)}toString(){return Z2(this._root)}}function gp(t,e){e.value._routerState=t,e.children.forEach(r=>gp(t,r))}function Z2(t){const e=t.children.length>0?` { ${t.children.map(Z2).join(", ")} } `:"";return`${t.value}${e}`}function vp(t){if(t.snapshot){const e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Cr(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Cr(e.params,r.params)||t.paramsSubject.next(r.params),function ER(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Cr(t[r],e[r]))return!1;return!0}(e.url,r.url)||t.urlSubject.next(r.url),Cr(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _p(t,e){const r=Cr(t.params,e.params)&&function AR(t,e){return Pi(t,e)&&t.every((r,n)=>Cr(r.parameters,e[n].parameters))}(t.url,e.url);return r&&!(!t.parent!=!e.parent)&&(!t.parent||_p(t.parent,e.parent))}let Q2=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ue,this.activateEvents=new _t,this.deactivateEvents=new _t,this.attachEvents=new _t,this.detachEvents=new _t,this.parentContexts=be(ga),this.location=be(Jn),this.changeDetector=be(pc),this.environmentInjector=be(Tn),this.inputBinder=be(Gc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new le(4013,!1);this._activatedRoute=n;const o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new u9(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=Fe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ln]}),e})();class u9{constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===zo?this.route:e===ga?this.childContexts:this.parent.get(e,r)}}const Gc=new ge("");let J2=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:i}=n,o=Rc([i.queryParams,i.params,i.data]).pipe(Kn(([s,a,l],c)=>(l={...s,...a,...l},0===c?xe(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(n);const a=function F8(t){const e=ze(t);if(!e)return null;const r=new Ls(e);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();function va(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=e.value;const i=function h9(t,e,r){return e.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return va(t,n,i);return va(t,n)})}(t,e,r);return new Ur(n,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>va(t,a)),s}}const n=function f9(t){return new zo(new ce(t.url),new ce(t.params),new ce(t.queryParams),new ce(t.fragment),new ce(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>va(t,o));return new Ur(n,i)}}const yp="ngNavigationCancelingError";function eC(t,e){const{redirectTo:r,navigationBehaviorOptions:n}=Fi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tC(!1,0,e);return i.url=r,i.navigationBehaviorOptions=n,i}function tC(t,e,r){const n=new Error("NavigationCancelingError: "+(t||""));return n[yp]=!0,n.cancellationCode=e,r&&(n.url=r),n}function nC(t){return rC(t)&&Fi(t.url)}function rC(t){return t&&t[yp]}let iC=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Xu({type:t,selectors:[["ng-component"]],standalone:!0,features:[Zy],decls:1,vars:0,template:function(n,i){1&n&&Xt(0,"router-outlet")},dependencies:[Q2],encapsulation:2}),e})();function bp(t){const e=t.children&&t.children.map(bp),r=e?{...t,children:e}:{...t};return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==Ue&&(r.component=iC),r}function nr(t){return t.outlet||Ue}function _a(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class b9{constructor(e,r,n,i,o){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),vp(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){const i=Go(r);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,r,n){const i=e.value,o=r?r.value:null;if(i===o)if(i.component){const s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(e,r,s.children)}else this.deactivateChildRoutes(e,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){const n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=Go(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){const n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=Go(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){const i=Go(r);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new s9(o.value.snapshot))}),e.children.length&&this.forwardEvent(new i9(e.value.snapshot))}activateRoutes(e,r,n){const i=e.value,o=r?r.value:null;if(vp(i),i===o)if(i.component){const s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,s.children)}else this.activateChildRoutes(e,r,n);else if(i.component){const s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vp(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=_a(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}class oC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zc{constructor(e,r){this.component=e,this.route=r}}function C9(t,e,r){const n=t._root;return ya(n,e?e._root:null,r,[n.value])}function Wo(t,e){const r=Symbol(),n=e.get(t,r);return n===r?"function"!=typeof t||function HE(t){return null!==Ua(t)}(t)?e.get(t):t:n}function ya(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Go(e);return t.children.forEach(s=>{(function w9(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function E9(t,e,r){if("function"==typeof r)return r(t,e);switch(r){case"pathParamsChange":return!Pi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pi(t.url,e.url)||!Cr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_p(t,e)||!Cr(t.queryParams,e.queryParams);default:return!_p(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new oC(n)):(o.data=s.data,o._resolvedData=s._resolvedData),ya(t,e,o.component?a?a.children:null:r,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zc(a.outlet.component,s))}else s&&ba(e,a,i),i.canActivateChecks.push(new oC(n)),ya(t,null,o.component?a?a.children:null:r,n,i)})(s,o[s.value.outlet],r,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ba(a,r.getContext(s),i)),i}function ba(t,e,r){const n=Go(t),i=t.value;Object.entries(n).forEach(([o,s])=>{ba(s,i.component?e?e.children.getContext(o):null:e,r)}),r.canDeactivateChecks.push(new zc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ca(t){return"function"==typeof t}function sC(t){return t instanceof Oc||"EmptyError"===t?.name}const Wc=Symbol("INITIAL_VALUE");function Ko(){return Kn(t=>Rc(t.map(e=>e.pipe(Ni(1),E2(Wc)))).pipe(se(e=>{for(const r of e)if(!0!==r){if(r===Wc)return Wc;if(!1===r||r instanceof $o)return r}return!0}),br(e=>e!==Wc),Ni(1)))}function aC(t){return function _(...t){return R(t)}(ln(e=>{if(Fi(e))throw eC(0,e)}),se(e=>!0===e))}class Kc{constructor(e){this.segmentGroup=e||null}}class lC{constructor(e){this.urlTree=e}}function Yo(t){return sa(new Kc(t))}function cC(t){return sa(new lC(t))}class G9{constructor(e,r){this.urlSerializer=e,this.urlTree=r}noMatchError(e){return new le(4002,!1)}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return xe(n);if(i.numberOfChildren>1||!i.children[Ue])return sa(new le(4e3,!1));i=i.children[Ue]}}applyRedirectCommands(e,r,n){return this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n)}applyRedirectCreateUrlTree(e,r,n,i){const o=this.createSegmentGroup(e,r.root,n,i);return new $o(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){const n={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);n[i]=r[a]}else n[i]=o}),n}createSegmentGroup(e,r,n,i){const o=this.createSegments(e,r.segments,n,i);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,i)}),new tt(o,s)}createSegments(e,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,r,n){const i=n[r.path.substring(1)];if(!i)throw new le(4001,!1);return i}findOrReturn(e,r){let n=0;for(const i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}}const Cp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function z9(t,e,r,n,i){const o=Dp(t,e,r);return o.matched?(n=function p9(t,e){return t.providers&&!t._injector&&(t._injector=Xh(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,n),function U9(t,e,r,n){const i=e.canMatch;return i&&0!==i.length?xe(i.map(s=>{const a=Wo(s,t);return ii(function x9(t){return t&&Ca(t.canMatch)}(a)?a.canMatch(e,r):t.runInContext(()=>a(e,r)))})).pipe(Ko(),aC()):xe(!0)}(n,e,r).pipe(se(s=>!0===s?o:{...Cp}))):xe(o)}function Dp(t,e,r){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||r.length>0)?{...Cp}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const i=(e.matcher||wR)(r,t,e);if(!i)return{...Cp};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function uC(t,e,r,n){return r.length>0&&function Y9(t,e,r){return r.some(n=>Yc(t,e,n)&&nr(n)!==Ue)}(t,r,n)?{segmentGroup:new tt(e,K9(n,new tt(r,t.children))),slicedSegments:[]}:0===r.length&&function q9(t,e,r){return r.some(n=>Yc(t,e,n))}(t,r,n)?{segmentGroup:new tt(t.segments,W9(t,0,r,n,t.children)),slicedSegments:r}:{segmentGroup:new tt(t.segments,t.children),slicedSegments:r}}function W9(t,e,r,n,i){const o={};for(const s of n)if(Yc(t,r,s)&&!i[nr(s)]){const a=new tt([],{});o[nr(s)]=a}return{...i,...o}}function K9(t,e){const r={};r[Ue]=e;for(const n of t)if(""===n.path&&nr(n)!==Ue){const i=new tt([],{});r[nr(n)]=i}return r}function Yc(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&""===r.path}class J9{constructor(e,r,n,i,o,s,a){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new G9(this.urlSerializer,this.urlTree)}noMatchError(e){return new le(4002,!1)}recognize(){const e=uC(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ue).pipe(Oi(r=>{if(r instanceof lC)return this.allowRedirects=!1,this.urlTree=r.urlTree,this.match(r.urlTree);throw r instanceof Kc?this.noMatchError(r):r}),se(r=>{const n=new $c([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ue,this.rootComponentType,null,{}),i=new Ur(n,r),o=new X2("",i),s=function $R(t,e,r=null,n=null){return B2(V2(t),e,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ue).pipe(Oi(n=>{throw n instanceof Kc?this.noMatchError(n):n}))}inheritParamsAndData(e){const r=e.value,n=q2(r,this.paramsInheritanceStrategy);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,r,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0)}processChildren(e,r,n){const i=[];for(const o of Object.keys(n.children))"primary"===o?i.unshift(o):i.push(o);return Tt(i).pipe(Uo(o=>{const s=n.children[o],a=function _9(t,e){const r=t.filter(n=>nr(n)===e);return r.push(...t.filter(n=>nr(n)!==e)),r}(r,o);return this.processSegmentGroup(e,a,s,o)}),function yR(t,e){return ve(function _R(t,e,r,n,i){return(o,s)=>{let a=r,l=e,c=0;o.subscribe(J(s,d=>{const h=c++;l=a?t(l,d,h):(a=!0,d),n&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Fc(null),function bR(t,e){const r=arguments.length>=2;return n=>n.pipe(t?br((i,o)=>t(i,o,n)):re,sp(1),r?Fc(e):S2(()=>new Oc))}(),Vt(o=>{if(null===o)return Yo(n);const s=dC(o);return function eO(t){t.sort((e,r)=>e.value.outlet===Ue?-1:r.value.outlet===Ue?1:e.value.outlet.localeCompare(r.value.outlet))}(s),xe(s)}))}processSegment(e,r,n,i,o,s){return Tt(r).pipe(Uo(a=>this.processSegmentAgainstRoute(a._injector??e,r,a,n,i,o,s).pipe(Oi(l=>{if(l instanceof Kc)return xe(null);throw l}))),Ri(a=>!!a),Oi(a=>{if(sC(a))return function Z9(t,e,r){return 0===e.length&&!t.children[r]}(n,i,o)?xe([]):Yo(n);throw a}))}processSegmentAgainstRoute(e,r,n,i,o,s,a){return function X9(t,e,r,n){return!!(nr(t)===n||n!==Ue&&Yc(e,r,t))&&("**"===t.path||Dp(e,t,r).matched)}(n,i,o,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,i,n,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,o,s):Yo(i):Yo(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,n,i){const o=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?cC(o):this.applyRedirects.lineralizeSegments(n,o).pipe(Vt(s=>{const a=new tt(s,{});return this.processSegment(e,r,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=Dp(r,i,o);if(!a)return Yo(r);const h=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d);return i.redirectTo.startsWith("/")?cC(h):this.applyRedirects.lineralizeSegments(i,h).pipe(Vt(I=>this.processSegment(e,n,r,I.concat(c),s,!1)))}matchSegmentAgainstRoute(e,r,n,i,o,s){let a;if("**"===n.path){const l=i.length>0?T2(i).parameters:{};a=xe({snapshot:new $c(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hC(n),nr(n),n.component??n._loadedComponent??null,n,fC(n)),consumedSegments:[],remainingSegments:[]}),r.children={}}else a=z9(r,n,i,e).pipe(se(({matched:l,consumedSegments:c,remainingSegments:d,parameters:h})=>l?{snapshot:new $c(c,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hC(n),nr(n),n.component??n._loadedComponent??null,n,fC(n)),consumedSegments:c,remainingSegments:d}:null));return a.pipe(Kn(l=>null===l?Yo(r):this.getChildConfig(e=n._injector??e,n,i).pipe(Kn(({routes:c})=>{const d=n._loadedInjector??e,{snapshot:h,consumedSegments:I,remainingSegments:L}=l,{segmentGroup:K,slicedSegments:ee}=uC(r,I,L,c);if(0===ee.length&&K.hasChildren())return this.processChildren(d,c,K).pipe(se(ae=>null===ae?null:[new Ur(h,ae)]));if(0===c.length&&0===ee.length)return xe([new Ur(h,[])]);const ie=nr(n)===o;return this.processSegment(d,c,K,ee,ie?Ue:o,!0).pipe(se(ae=>[new Ur(h,ae)]))}))))}getChildConfig(e,r,n){return r.children?xe({routes:r.children,injector:e}):r.loadChildren?void 0!==r._loadedRoutes?xe({routes:r._loadedRoutes,injector:r._loadedInjector}):function j9(t,e,r,n){const i=e.canLoad;return void 0===i||0===i.length?xe(!0):xe(i.map(s=>{const a=Wo(s,t);return ii(function M9(t){return t&&Ca(t.canLoad)}(a)?a.canLoad(e,r):t.runInContext(()=>a(e,r)))})).pipe(Ko(),aC())}(e,r,n).pipe(Vt(i=>i?this.configLoader.loadChildren(e,r).pipe(ln(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):function $9(t){return sa(tC(!1,3))}())):xe({routes:[],injector:e})}}function tO(t){const e=t.value.routeConfig;return e&&""===e.path}function dC(t){const e=[],r=new Set;for(const n of t){if(!tO(n)){e.push(n);continue}const i=e.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...n.children),r.add(i)):e.push(n)}for(const n of r){const i=dC(n.children);e.push(new Ur(n.value,i))}return e.filter(n=>!r.has(n))}function hC(t){return t.data||{}}function fC(t){return t.resolve||{}}function pC(t){return"string"==typeof t.title||null===t.title}function wp(t){return Kn(e=>{const r=t(e);return r?Tt(r).pipe(se(()=>e)):xe(e)})}const qo=new ge("ROUTES");let Ep=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=be($b)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return xe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=ii(n.loadComponent()).pipe(se(mC),ln(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),aa(()=>{this.componentLoaders.delete(n)})),o=new w2(i,()=>new he).pipe(op());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(se(l=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,d;return Array.isArray(l)?d=l:(c=l.create(n).injector,d=c.get(qo,[],He.Self|He.Optional).flat()),{routes:d.map(bp),injector:c}}),aa(()=>{this.childrenLoaders.delete(i)})),a=new w2(s,()=>new he).pipe(op());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(n){return ii(n()).pipe(se(mC),Vt(i=>i instanceof qy||Array.isArray(i)?xe(i):Tt(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function mC(t){return function lO(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let qc=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new he,this.configLoader=be(Ep),this.environmentInjector=be(Tn),this.urlSerializer=be(ua),this.rootContexts=be(ga),this.inputBindingEnabled=null!==be(Gc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>xe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new n9(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new t9(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n){return this.transitions=new ce({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pa,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(br(i=>0!==i.id),se(i=>({...i,extractedUrl:n.urlHandlingStrategy.extract(i.rawUrl)})),Kn(i=>{let o=!1,s=!1;return xe(i).pipe(ln(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Kn(a=>{const l=n.browserUrlTree.toString(),c=!n.navigated||a.extractedUrl.toString()!==l||l!==n.currentUrlTree.toString();if(!c&&"reload"!==(a.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new ma(a.id,n.serializeUrl(i.rawUrl),h,0)),n.rawUrlTree=a.rawUrl,a.resolve(null),sr}if(n.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return gC(a.source)&&(n.browserUrlTree=a.extractedUrl),xe(a).pipe(Kn(h=>{const I=this.transitions?.getValue();return this.events.next(new hp(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),I!==this.transitions?.getValue()?sr:Promise.resolve(h)}),function nO(t,e,r,n,i,o){return Vt(s=>function Q9(t,e,r,n,i,o,s="emptyOnly"){return new J9(t,e,r,n,i,s,o).recognize()}(t,e,r,n,s.extractedUrl,i,o).pipe(se(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),ln(h=>{if(i.targetSnapshot=h.targetSnapshot,i.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!h.extras.skipLocationChange){const L=n.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);n.setBrowserUrl(L,h)}n.browserUrlTree=h.urlAfterRedirects}const I=new XR(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(I)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:h,extractedUrl:I,source:L,restoredState:K,extras:ee}=a,ie=new hp(h,this.urlSerializer.serialize(I),L,K);this.events.next(ie);const ae=Y2(0,this.rootComponentType).snapshot;return xe(i={...a,targetSnapshot:ae,urlAfterRedirects:I,extras:{...ee,skipLocationChange:!1,replaceUrl:!1}})}{const h="";return this.events.next(new ma(a.id,n.serializeUrl(i.extractedUrl),h,1)),n.rawUrlTree=a.rawUrl,a.resolve(null),sr}}),ln(a=>{const l=new ZR(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),se(a=>i={...a,guards:C9(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function R9(t,e){return Vt(r=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return 0===s.length&&0===o.length?xe({...r,guardsResult:!0}):function O9(t,e,r,n){return Tt(t).pipe(Vt(i=>function B9(t,e,r,n,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?xe(o.map(a=>{const l=_a(e)??i,c=Wo(a,l);return ii(function I9(t){return t&&Ca(t.canDeactivate)}(c)?c.canDeactivate(t,e,r,n):l.runInContext(()=>c(t,e,r,n))).pipe(Ri())})).pipe(Ko()):xe(!0)}(i.component,i.route,r,e,n)),Ri(i=>!0!==i,!0))}(s,n,i,t).pipe(Vt(a=>a&&function S9(t){return"boolean"==typeof t}(a)?function P9(t,e,r,n){return Tt(e).pipe(Uo(i=>Pc(function k9(t,e){return null!==t&&e&&e(new r9(t)),xe(!0)}(i.route.parent,n),function F9(t,e){return null!==t&&e&&e(new o9(t)),xe(!0)}(i.route,n),function V9(t,e,r){const n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function D9(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>D2(()=>xe(s.guards.map(l=>{const c=_a(s.node)??r,d=Wo(l,c);return ii(function A9(t){return t&&Ca(t.canActivateChild)}(d)?d.canActivateChild(n,t):c.runInContext(()=>d(n,t))).pipe(Ri())})).pipe(Ko())));return xe(o).pipe(Ko())}(t,i.path,r),function L9(t,e,r){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return xe(!0);const i=n.map(o=>D2(()=>{const s=_a(e)??r,a=Wo(o,s);return ii(function T9(t){return t&&Ca(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Ri())}));return xe(i).pipe(Ko())}(t,i.route,r))),Ri(i=>!0!==i,!0))}(n,o,t,e):xe(a)),se(a=>({...r,guardsResult:a})))})}(this.environmentInjector,a=>this.events.next(a)),ln(a=>{if(i.guardsResult=a.guardsResult,Fi(a.guardsResult))throw eC(0,a.guardsResult);const l=new QR(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),br(a=>!!a.guardsResult||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),wp(a=>{if(a.guards.canActivateChecks.length)return xe(a).pipe(ln(l=>{const c=new JR(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Kn(l=>{let c=!1;return xe(l).pipe(function rO(t,e){return Vt(r=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return xe(r);let o=0;return Tt(i).pipe(Uo(s=>function iO(t,e,r,n){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!pC(i)&&(o[la]=i.title),function oO(t,e,r,n){const i=function sO(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return xe({});const o={};return Tt(i).pipe(Vt(s=>function aO(t,e,r,n){const i=_a(e)??n,o=Wo(t,i);return ii(o.resolve?o.resolve(e,r):i.runInContext(()=>o(e,r)))}(t[s],e,r,n).pipe(Ri(),ln(a=>{o[s]=a}))),sp(1),function CR(t){return se(()=>t)}(o),Oi(s=>sC(s)?sr:sa(s)))}(o,t,e,n).pipe(se(s=>(t._resolvedData=s,t.data=q2(t,r).resolve,i&&pC(i)&&(t.data[la]=i.title),null)))}(s.route,n,t,e)),ln(()=>o++),sp(1),Vt(s=>o===i.length?xe(r):sr))})}(n.paramsInheritanceStrategy,this.environmentInjector),ln({next:()=>c=!0,complete:()=>{c||(n.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),ln(l=>{const c=new e9(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),wp(a=>{const l=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(ln(h=>{c.component=h}),se(()=>{})));for(const h of c.children)d.push(...l(h));return d};return Rc(l(a.targetSnapshot.root)).pipe(Fc(),Ni(1))}),wp(()=>this.afterPreactivation()),se(a=>{const l=function d9(t,e,r){const n=va(t,e._root,r?r._root:void 0);return new K2(n,e)}(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),ln(a=>{n.currentUrlTree=a.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),n.routerState=a.targetRouterState,"deferred"===n.urlUpdateStrategy&&(a.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,a),n.browserUrlTree=a.urlAfterRedirects)}),((t,e,r,n)=>se(i=>(new b9(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Ni(1),ln({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new ki(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),aa(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Oi(a=>{if(s=!0,rC(a)){nC(a)||(n.navigated=!0,n.restoreHistory(i,!0));const l=new Hc(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(l),nC(a)){const c=n.urlHandlingStrategy.merge(a.url,n.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||gC(i.source)};n.scheduleNavigation(c,pa,null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{n.restoreHistory(i,!0);const l=new fp(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(l);try{i.resolve(n.errorHandler(a))}catch(c){i.reject(c)}}return sr}))}))}cancelNavigationTransition(n,i,o){const s=new Hc(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(s),n.resolve(!1)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function gC(t){return t!==pa}let vC=(()=>{var t;class e{buildTitle(n){let i,o=n.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Ue);return i}getResolvedTitleForRoute(n){return n.data[la]}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:function(){return be(cO)},providedIn:"root"}),e})(),cO=(()=>{var t;class e extends vC{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(p2))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),uO=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:function(){return be(hO)},providedIn:"root"}),e})();class dO{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}}let hO=(()=>{var t;class e extends dO{}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Ot(t)))(i||t)}}(),t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Xc=new ge("",{providedIn:"root",factory:()=>({})});let fO=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:function(){return be(pO)},providedIn:"root"}),e})(),pO=(()=>{var t;class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Da=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Da||{});function _C(t,e){t.events.pipe(br(r=>r instanceof ki||r instanceof Hc||r instanceof fp||r instanceof ma),se(r=>r instanceof ki||r instanceof ma?Da.COMPLETE:r instanceof Hc&&(0===r.code||1===r.code)?Da.REDIRECTING:Da.FAILED),br(r=>r!==Da.REDIRECTING),Ni(1)).subscribe(()=>{e()})}function mO(t){throw t}function gO(t,e,r){return e.parse("/")}const vO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_O={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hn=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=be(Hb),this.isNgZoneEnabled=!1,this.options=be(Xc,{optional:!0})||{},this.pendingTasks=be(uc),this.errorHandler=this.options.errorHandler||mO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=be(fO),this.routeReuseStrategy=be(uO),this.titleStrategy=be(vC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=be(qo,{optional:!0})?.flat()??[],this.navigationTransitions=be(qc),this.urlSerializer=be(ua),this.location=be(Of),this.componentInputBindingEnabled=!!be(Gc,{optional:!0}),this.isNgZoneEnabled=be(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new $o,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Y2(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),pa,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(bp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a;let I,h=null;switch(l){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{I=V2(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),I=this.currentUrlTree.root}return B2(I,n,h,d??null)}navigateByUrl(n,i={skipLocationChange:!1}){const o=Fi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,pa,null,i)}navigate(n,i={skipLocationChange:!1}){return function yO(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new le(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return i}isActive(n,i){let o;if(o=!0===i?{...vO}:!1===i?{..._O}:i,Fi(n))return I2(this.currentUrlTree,n,o);const s=this.parseUrl(n);return I2(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.keys(n).reduce((i,o)=>{const s=n[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(n,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((I,L)=>{l=I,c=L});const h=this.pendingTasks.add();return _C(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(I=>Promise.reject(I))}setBrowserUrl(n,i){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(o,"",s)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class yC{}let DO=(()=>{var t;class e{constructor(n,i,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(br(n=>n instanceof ki),Uo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=Xh(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Tt(o).pipe(Ki())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):xe(null);const s=o.pipe(Vt(a=>null===a?xe(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return i.loadComponent&&!i._loadedComponent?Tt([s,this.loader.loadComponent(i)]).pipe(Ki()):s})}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(Hn),_e($b),_e(Tn),_e(yC),_e(Ep))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Mp=new ge("");let bC=(()=>{var t;class e{constructor(n,i,o,s,a={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof hp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ki?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ma&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof z2&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new z2(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(n){!function Fv(){throw new Error("invalid")}()},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();function Hr(t,e){return{\u0275kind:t,\u0275providers:e}}function DC(){const t=be(An);return e=>{const r=t.get(Ai);if(e!==r.components[0])return;const n=t.get(Hn),i=t.get(wC);1===t.get(Tp)&&n.initialNavigation(),t.get(EC,null,He.Optional)?.setUpPreloading(),t.get(Mp,null,He.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const wC=new ge("",{factory:()=>new he}),Tp=new ge("",{providedIn:"root",factory:()=>1}),EC=new ge("");function MO(t){return Hr(0,[{provide:EC,useExisting:DO},{provide:yC,useExisting:t}])}const SC=new ge("ROUTER_FORROOT_GUARD"),AO=[Of,{provide:ua,useClass:ap},Hn,ga,{provide:zo,useFactory:function CC(t){return t.routerState.root},deps:[Hn]},Ep,[]];function IO(){return new t1("Router",Hn)}let MC=(()=>{var t;class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[AO,[],{provide:qo,multi:!0,useValue:n},{provide:SC,useFactory:OO,deps:[[Hn,new pl,new ml]]},{provide:Xc,useValue:i||{}},i?.useHash?{provide:xi,useClass:j8}:{provide:xi,useClass:N1},{provide:Mp,useFactory:()=>{const t=be(lN),e=be(dt),r=be(Xc),n=be(qc),i=be(ua);return r.scrollOffset&&t.setOffset(r.scrollOffset),new bC(i,n,t,e,r)}},i?.preloadingStrategy?MO(i.preloadingStrategy).\u0275providers:[],{provide:t1,multi:!0,useFactory:IO},i?.initialNavigation?PO(i):[],i?.bindToComponentInputs?Hr(8,[J2,{provide:Gc,useExisting:J2}]).\u0275providers:[],[{provide:TC,useFactory:DC},{provide:wf,multi:!0,useExisting:TC}]]}}static forChild(n){return{ngModule:e,providers:[{provide:qo,multi:!0,useValue:n}]}}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(SC,8))},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({}),e})();function OO(t){return"guarded"}function PO(t){return["disabled"===t.initialNavigation?Hr(3,[{provide:ff,multi:!0,useFactory:()=>{const e=be(Hn);return()=>{e.setUpLocationChangeListener()}}},{provide:Tp,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Hr(2,[{provide:Tp,useValue:0},{provide:ff,multi:!0,deps:[An],useFactory:e=>{const r=e.get(V8,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const i=e.get(Hn),o=e.get(wC);_C(i,()=>{n(!0)}),e.get(qc).afterPreactivation=()=>(n(!0),o.closed?xe(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const TC=new ge(""),kO=[];let LO=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({imports:[MC.forRoot(kO),MC]}),e})();var VO=F(3338),AC=F(8729),BO=F(6243),Xo=F.n(BO);class jO{}class UO{constructor(e,r,n,i,o,s,a,l,c,d,h,I){this.structure=new(Xo().Circle)({name:"circle",id:e,x:r,y:n,radius:Math.abs(i)/2,fill:s,stroke:a,strokeWidth:l,scaleX:c,scaleY:d,rotation:h,draggable:I})}get(){return this.structure}}class IC{constructor(e,r,n,i,o,s,a,l,c,d,h,I){this.structure=new(Xo().Rect)({name:"rectangle",id:e,x:r,y:n,width:i,height:o,fill:s,stroke:a,scaleX:c,scaleY:d,strokeWidth:l,rotation:h,draggable:I})}get(){return this.structure}}class HO{constructor(e,r,n,i,o,s,a,l,c,d,h,I){this.structure=new(Xo().Ellipse)({name:"ellipse",id:e,x:r,y:n,radiusX:Math.abs(i)/2,radiusY:Math.abs(o)/2,fill:s,stroke:a,strokeWidth:l,scaleX:c,scaleY:d,rotation:h,draggable:I})}get(){return this.structure}}class $O{constructor(e,r,n,i,o,s,a,l,c,d,h,I){this.structure=new(Xo().Line)({name:"lineSegment",id:e,points:[r,n,i,o],stroke:a,strokeWidth:l,lineCap:"round",lineJoin:"round",draggable:I,scaleX:c,scaleY:d,fillColor:s,rotation:h})}get(){return this.structure}}class GO{constructor(e,r,n,i,o,s,a,l,c,d,h,I){this.structure=new(Xo().RegularPolygon)({name:"triangle",id:e,x:r,y:n,sides:3,radius:Math.abs(i),fill:s,stroke:a,strokeWidth:l,scaleX:c,scaleY:d,rotation:h,draggable:I})}get(){return this.structure}}let zO=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),WO=(()=>{var t;class e extends zO{factoryClass(n,i,o,s,a,l,c,d,h,I,L,K,ee){let ie;switch(i){case"circle":ie=new UO(n,o,s,a,l,c,d,h,I,L,K,ee);break;case"rectangle":ie=new IC(n,o,s,a,l,c,d,h,I,L,K,ee);break;case"triangle":ie=new GO(n,o,s,a,l,c,d,h,I,L,K,ee);break;case"ellipse":ie=new HO(n,o,s,a,l,c,d,h,I,L,K,ee);break;case"lineSegment":ie=new $O(n,o,s,a,l,c,c,h,I,L,K,ee);break;case"square":ie=new IC(n,o,s,a,a,c,d,h,I,L,K,ee)}return ie}}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Ot(t)))(i||t)}}(),t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Zc{}class Qc{}class wr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const i=r.slice(0,n),o=i.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof wr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){const r=new wr;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof wr?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){const r=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,r);const i=("a"===e.op?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(e,r){const n=(Array.isArray(r)?r:[r]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}}class KO{encodeKey(e){return xC(e)}encodeValue(e){return xC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const qO=/%(\d[a-f0-9])/gi,XO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xC(t){return encodeURIComponent(t).replace(qO,(e,r)=>XO[r]??e)}function Jc(t){return`${t}`}class oi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new KO,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YO(t,e){const r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{const n=e.fromObject[r],i=Array.isArray(n)?n.map(Jc):[Jc(n)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){const r=[];return Object.keys(e).forEach(n=>{const i=e[n];Array.isArray(i)?i.forEach(o=>{r.push({param:n,value:o,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const r=this.encoder.encodeKey(e);return this.map.get(e).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const r=new oi({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const r=("a"===e.op?this.map.get(e.param):void 0)||[];r.push(Jc(e.value)),this.map.set(e.param,r);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let n=this.map.get(e.param)||[];const i=n.indexOf(Jc(e.value));-1!==i&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ZO{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function NC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function RC(t){return typeof Blob<"u"&&t instanceof Blob}function OC(t){return typeof FormData<"u"&&t instanceof FormData}class wa{constructor(e,r,n,i){let o;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function QO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new wr),this.context||(this.context=new ZO),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new oi,this.urlWithParams=r}serializeBody(){return null===this.body?null:NC(this.body)||RC(this.body)||OC(this.body)||function JO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof oi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||OC(this.body)?null:RC(this.body)?this.body.type||null:NC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((h,I)=>h.set(I,e.setHeaders[I]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,I)=>h.set(I,e.setParams[I]),c)),new wa(r,n,o,{params:c,headers:l,context:d,reportProgress:a,responseType:i,withCredentials:s})}}var Zo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Zo||{});class Ap{constructor(e,r=200,n="OK"){this.headers=e.headers||new wr,this.status=void 0!==e.status?e.status:r,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ip extends Ap{constructor(e={}){super(e),this.type=Zo.ResponseHeader}clone(e={}){return new Ip({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Qo extends Ap{constructor(e={}){super(e),this.type=Zo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Qo({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class PC extends Ap{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function xp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let FC=(()=>{var t;class e{constructor(n){this.handler=n}request(n,i,o={}){let s;if(n instanceof wa)s=n;else{let c,d;c=o.headers instanceof wr?o.headers:new wr(o.headers),o.params&&(d=o.params instanceof oi?o.params:new oi({fromObject:o.params})),s=new wa(n,i,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=xe(s).pipe(Uo(c=>this.handler.handle(c)));if(n instanceof wa||"events"===o.observe)return a;const l=a.pipe(br(c=>c instanceof Qo));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(se(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(se(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new oi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,xp(o,i))}post(n,i,o={}){return this.request("POST",n,xp(o,i))}put(n,i,o={}){return this.request("PUT",n,xp(o,i))}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(Zc))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();function VC(t,e){return e(t)}function tP(t,e){return(r,n)=>e.intercept(r,{handle:i=>t(i,n)})}const rP=new ge(""),Ea=new ge(""),BC=new ge("");function iP(){let t=null;return(e,r)=>{null===t&&(t=(be(rP,{optional:!0})??[]).reduceRight(tP,VC));const n=be(uc),i=n.add();return t(e,r).pipe(aa(()=>n.remove(i)))}}let jC=(()=>{var t;class e extends Zc{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=be(uc)}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Ea),...this.injector.get(BC,[])]));this.chain=o.reduceRight((s,a)=>function nP(t,e,r){return(n,i)=>r.runInContext(()=>e(n,o=>t(o,i)))}(s,a,this.injector),VC)}const i=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(aa(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(Qc),_e(Tn))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();const lP=/^\)\]\}',?\n/;let HC=(()=>{var t;class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new le(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Tt(i.\u0275loadImpl()):xe(null)).pipe(Kn(()=>new P(s=>{const a=i.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((ie,ae)=>a.setRequestHeader(ie,ae.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const ie=n.detectContentTypeHeader();null!==ie&&a.setRequestHeader("Content-Type",ie)}if(n.responseType){const ie=n.responseType.toLowerCase();a.responseType="json"!==ie?ie:"text"}const l=n.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const ie=a.statusText||"OK",ae=new wr(a.getAllResponseHeaders()),oe=function cP(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||n.url;return c=new Ip({headers:ae,status:a.status,statusText:ie,url:oe}),c},h=()=>{let{headers:ie,status:ae,statusText:oe,url:ye}=d(),me=null;204!==ae&&(me=typeof a.response>"u"?a.responseText:a.response),0===ae&&(ae=me?200:0);let Oe=ae>=200&&ae<300;if("json"===n.responseType&&"string"==typeof me){const rt=me;me=me.replace(lP,"");try{me=""!==me?JSON.parse(me):null}catch(nt){me=rt,Oe&&(Oe=!1,me={error:nt,text:me})}}Oe?(s.next(new Qo({body:me,headers:ie,status:ae,statusText:oe,url:ye||void 0})),s.complete()):s.error(new PC({error:me,headers:ie,status:ae,statusText:oe,url:ye||void 0}))},I=ie=>{const{url:ae}=d(),oe=new PC({error:ie,status:a.status||0,statusText:a.statusText||"Unknown Error",url:ae||void 0});s.error(oe)};let L=!1;const K=ie=>{L||(s.next(d()),L=!0);let ae={type:Zo.DownloadProgress,loaded:ie.loaded};ie.lengthComputable&&(ae.total=ie.total),"text"===n.responseType&&a.responseText&&(ae.partialText=a.responseText),s.next(ae)},ee=ie=>{let ae={type:Zo.UploadProgress,loaded:ie.loaded};ie.lengthComputable&&(ae.total=ie.total),s.next(ae)};return a.addEventListener("load",h),a.addEventListener("error",I),a.addEventListener("timeout",I),a.addEventListener("abort",I),n.reportProgress&&(a.addEventListener("progress",K),null!==l&&a.upload&&a.upload.addEventListener("progress",ee)),a.send(l),s.next({type:Zo.Sent}),()=>{a.removeEventListener("error",I),a.removeEventListener("abort",I),a.removeEventListener("load",h),a.removeEventListener("timeout",I),n.reportProgress&&(a.removeEventListener("progress",K),null!==l&&a.upload&&a.upload.removeEventListener("progress",ee)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(X1))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();const Np=new ge("XSRF_ENABLED"),$C=new ge("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),GC=new ge("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class zC{}let hP=(()=>{var t;class e{constructor(n,i,o){this.doc=n,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=U1(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(kt),_e(Jr),_e($C))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();function fP(t,e){const r=t.url.toLowerCase();if(!be(Np)||"GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return e(t);const n=be(zC).getToken(),i=be(GC);return null!=n&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,n)})),e(t)}var si=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(si||{});function Li(t,e){return{\u0275kind:t,\u0275providers:e}}function pP(...t){const e=[FC,HC,jC,{provide:Zc,useExisting:jC},{provide:Qc,useExisting:HC},{provide:Ea,useValue:fP,multi:!0},{provide:Np,useValue:!0},{provide:zC,useClass:hP}];for(const r of t)e.push(...r.\u0275providers);return function Kd(t){return{\u0275providers:t}}(e)}const WC=new ge("LEGACY_INTERCEPTOR_FN");let gP=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({providers:[pP(Li(si.LegacyInterceptors,[{provide:WC,useFactory:iP},{provide:Ea,useExisting:WC,multi:!0}]))]}),e})(),KC=(()=>{var t;class e{constructor(n){this.http=n,this.url="http://localhost:8080/paint"}create(n,i,o,s,a,l,c,d,h,I,L,K,ee){this.http.get(`${this.url}/add/${i}/${n}/${o}/${s}/${a}/${l}/${c}/${d}/${h}/${I}/${L}/${K}/${ee}`).subscribe()}colour(n,i){this.http.get(`${this.url}/${n}/${i}`)}resize(n,i,o){this.http.get(`${this.url}/resize/${n}/${i}/${o}`).subscribe()}rotate(n,i){this.http.get(`${this.url}/rotate/${n}/${i}`).subscribe()}move(n,i,o){this.http.get(`${this.url}/move/${n}/${i}/${o}`).subscribe()}remove(n){this.http.get(`${this.url}/remove/${n}`).subscribe()}saveJson(n,i){this.http.post(`${this.url}/saveJSON`,`${n}${i}.json`).subscribe()}saveXML(n,i){this.http.post(`${this.url}/saveXML`,`${n}${i}.xml`).subscribe()}loadJson(n){return this.http.post(`${this.url}/LoadJSON`,`${n}.json`)}loadXML(n){return this.http.post(`${this.url}/loadXML`,`${n}.xml`)}undo(){return this.http.get(`${this.url}/undo`)}redo(){return this.http.get(`${this.url}/redo`)}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(FC))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),YC=(()=>{var t;class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(t=e).\u0275fac=function(n){return new(n||t)(fe(Pr),fe(gn))},t.\u0275dir=Fe({type:t}),e})(),Vi=(()=>{var t;class e extends YC{}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Ot(t)))(i||t)}}(),t.\u0275dir=Fe({type:t,features:[et]}),e})();const Er=new ge("NgValueAccessor"),EP={provide:Er,useExisting:at(()=>tu),multi:!0},MP=new ge("CompositionEventMode");let tu=(()=>{var t;class e extends YC{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function SP(){const t=ni()?ni().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(fe(Pr),fe(gn),fe(MP,8))},t.\u0275dir=Fe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&ct("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[pt([EP]),et]}),e})();const Zt=new ge("NgValidators"),li=new ge("NgAsyncValidators");function oD(t){return null!=t}function sD(t){return $s(t)?Tt(t):t}function aD(t){let e={};return t.forEach(r=>{e=null!=r?{...e,...r}:e}),0===Object.keys(e).length?null:e}function lD(t,e){return e.map(r=>r(t))}function cD(t){return t.map(e=>function AP(t){return!t.validate}(e)?e:r=>e.validate(r))}function Rp(t){return null!=t?function uD(t){if(!t)return null;const e=t.filter(oD);return 0==e.length?null:function(r){return aD(lD(r,e))}}(cD(t)):null}function Op(t){return null!=t?function dD(t){if(!t)return null;const e=t.filter(oD);return 0==e.length?null:function(r){return function DP(...t){const e=Lm(t),{args:r,keys:n}=_2(t),i=new P(o=>{const{length:s}=r;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let h=!1;Dn(r[d]).subscribe(J(o,I=>{h||(h=!0,c--),a[d]=I},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(n?b2(n,a):a),o.complete())}))}});return e?i.pipe(y2(e)):i}(lD(r,e).map(sD)).pipe(se(aD))}}(cD(t)):null}function hD(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Pp(t){return t?Array.isArray(t)?t:[t]:[]}function ru(t,e){return Array.isArray(t)?t.includes(e):t===e}function mD(t,e){const r=Pp(e);return Pp(t).forEach(i=>{ru(r,i)||r.push(i)}),r}function gD(t,e){return Pp(e).filter(r=>!ru(t,r))}class vD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Rp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Op(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}class cn extends vD{get formDirective(){return null}get path(){return null}}class ci extends vD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _D{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yD=(()=>{var t;class e extends _D{constructor(n){super(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(fe(ci,2))},t.\u0275dir=Fe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&tc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[et]}),e})();const Sa="VALID",ou="INVALID",Jo="PENDING",Ma="DISABLED";function su(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class wD{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Sa}get invalid(){return this.status===ou}get pending(){return this.status==Jo}get disabled(){return this.status===Ma}get enabled(){return this.status!==Ma}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gD(e,this._rawAsyncValidators))}hasValidator(e){return ru(this._rawValidators,e)}hasAsyncValidator(e){return ru(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Jo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=Ma,this.errors=null,this._forEachChild(n=>{n.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=Sa,this._forEachChild(n=>{n.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sa||this.status===Jo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ma:Sa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Jo,this._hasOwnPendingAsyncValidator=!0;const r=sD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(!1!==r.emitEvent)}get(e){let r=e;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new _t,this.statusChanges=new _t}_calculateStatus(){return this._allControlsDisabled()?Ma:this.errors?ou:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jo)?Jo:this._anyControlsHaveStatus(ou)?ou:Sa}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){su(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function OP(t){return Array.isArray(t)?Rp(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function PP(t){return Array.isArray(t)?Op(t):t||null}(this._rawAsyncValidators)}}const es=new ge("CallSetDisabledState",{providedIn:"root",factory:()=>au}),au="always";function Ta(t,e,r=au){(function jp(t,e){const r=function fD(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(hD(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const n=function pD(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(hD(n,e.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);const i=()=>t.updateValueAndValidity();uu(e._rawValidators,i),uu(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===r)&&e.valueAccessor.setDisabledState?.(t.disabled),function LP(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ED(t,e)})}(t,e),function BP(t,e){const r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}(t,e),function VP(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ED(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function kP(t,e){if(e.valueAccessor.setDisabledState){const r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}(t,e)}function uu(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function ED(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function TD(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}function AD(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ID=class extends wD{constructor(e=null,r,n){super(function Lp(t){return(su(t)?t.validators:t)||null}(r),function Vp(t,e){return(su(e)?e.asyncValidators:t)||null}(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),su(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=AD(e)?e.value:e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){AD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},KP={provide:ci,useExisting:at(()=>zp)},RD=(()=>Promise.resolve())();let zp=(()=>{var t;class e extends ci{constructor(n,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new ID,this._registered=!1,this.name="",this.update=new _t,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function $p(t,e){if(!e)return null;let r,n,i;return Array.isArray(e),e.forEach(o=>{o.constructor===tu?r=o:function HP(t){return Object.getPrototypeOf(t.constructor)===Vi}(o)?n=o:i=o}),i||n||r||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Hp(t,e){if(!t.hasOwnProperty("model"))return!1;const r=t.model;return!!r.isFirstChange()||!Object.is(e,r.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ta(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){RD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const i=n.isDisabled.currentValue,o=0!==i&&function Bo(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);RD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function lu(t,e){return[...e.path,t]}(n,this._parent):[n]}}return(t=e).\u0275fac=function(n){return new(n||t)(fe(cn,9),fe(Zt,10),fe(li,10),fe(Er,10),fe(pc,8),fe(es,8))},t.\u0275dir=Fe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[pt([KP]),et,Ln]}),e})(),PD=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({}),e})(),_7=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({imports:[PD]}),e})(),b7=(()=>{var t;class e{static withConfig(n){return{ngModule:e,providers:[{provide:es,useValue:n.callSetDisabledState??au}]}}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({imports:[_7]}),e})();const QD='.container[_ngcontent-%COMP%]{display:grid;width:1470px;height:700px;grid-template-rows:1fr 44fr 1fr;grid-template-columns:1fr 5fr 1fr 38fr 1fr;grid-template-areas:"b n n n n" "b tools m board l" "footer footer footer footer footer";background-color:#0074b7;border-radius:15px}.container[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{padding:5px;background-color:#60a3d9;grid-area:tools;border-radius:15px;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.container[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;font-size:large;overflow:hidden;text-transform:capitalize;font-variant:small-caps;align-items:center;background-color:#bfd7ed;border:1px solid #60A3D9;justify-self:center;height:30px;width:60%;border-radius:20px;margin:3px;justify-content:space-around;-webkit-user-select:none;user-select:none;cursor:pointer}.container[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#0074b7;transition:.7s}.container[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:70%;background-color:#bfd7ed;border:1px solid #60A3D9;border-radius:6px;padding:3px 6px}.container[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .palette[_ngcontent-%COMP%]{width:60%}#board[_ngcontent-%COMP%]{background-color:#bfd7ed;grid-area:board;border-radius:15px}img[_ngcontent-%COMP%]{width:20%;height:50%;object-fit:contain}';let Qp,C7=(()=>{var t;class e{constructor(n,i){this.title="painter",this.shapeFactory=n,this.Services=i}ngOnInit(){this.id=0,this.tr=new(Xo().Transformer),this.colour="#ffffff",this.currentShape="0",this.stage=new VO.Stage({container:"board",width:38/46*1470,height:44/46*700}),this.view=new jO,this.view.dynamicLayer=new AC.Layer,this.view.staticLayer=new AC.Layer,this.stage.add(this.view.staticLayer,this.view.dynamicLayer),this.transform(),this.view.staticLayer.add(this.tr),this.view.dynamicLayer.add(this.tr),this.stage.on("mousedown",n=>{if(null!=n.target.attrs.id){this.currentShape=n.target.attrs.id;var i=this.stage.findOne("#"+this.currentShape);i.moveToTop(),console.log("@"+this.currentShape),this.colour=i.attrs.fill}else console.log("undefined")})}reset(){this.ngOnInit()}copy(){console.log("copy");var n=this.stage.findOne("#"+this.currentShape),i=n.clone();i.x(n.attrs.x+20),i.id(this.id.toString()),this.view.staticLayer.add(i),this.Services.create(i.id(),i.name(),i.x(),i.y(),i.width(),i.height(),i.fill().substring(1),i.stroke().substring(1),i.strokeWidth(),i.scaleX(),i.scaleY(),i.rotation(),!1),this.id=this.id+1}fill(){var n=this.stage.findOne("#"+this.currentShape);console.log("fill"+n.attrs.fill),"Line"==n.getClassName()?n.attrs.stroke=this.colour:n.attrs.fill=this.colour,this.Services.colour(n.attrs.id,n.attrs.fill),n.draw()}delete(){console.log(" deleting "+this.currentShape),this.Services.remove(this.currentShape),this.stage.findOne("#"+this.currentShape).remove()}transform(){const n=this;this.stage.on("click tap",function(i){i.target!=n.stage?(i.target.draggable(!0),n.tr.nodes([i.target])):n.tr.nodes([])}),this.tr.on("transformed",function(i){n.currentShape=i.target.attrs.id;var o=n.stage.findOne("#"+n.currentShape);o.moveToTop(),n.Services.resize(o.id(),o.scaleX(),o.scaleY()),n.Services.rotate(o.id(),o.rotation()),i.target.draggable(!1),console.log(o.id(),o.x(),o.y(),o.scaleX(),o.scaleY(),o.rotation())}),this.view.staticLayer.on("dragend",function(i){n.currentShape=i.target.attrs.id;var o=n.stage.findOne("#"+n.currentShape);o.moveToTop(),n.Services.move(o.id(),o.attrs.x.toFixed(3),o.attrs.y.toFixed(3)),console.log(o.id(),o.x(),o.y(),o.scaleX(),o.scaleY(),o.rotation()),i.target.draggable(!1)})}addShape(n){this.shapeObject=this.shapeFactory.factoryClass(this.id.toString(),n,this.stage.width()/2,this.stage.height()/2,200,100,"#ffffff","#000000",3,1,1,0,!1).get();var o="#ffffff";"lineSegment"==this.shapeObject.attrs.name&&(o=this.shapeObject.attrs.stroke="#000000"),this.view.staticLayer.add(this.shapeObject),this.Services.create(this.id.toString(),n,this.stage.width()/2,this.stage.height()/2,200,100,o,"#000000",3,1,1,0,!1),this.id=this.id+1}save(n,i,o){"json"==o?(console.log(i),this.Services.saveJson(n,i)):"xml"==o&&this.Services.saveXML(n,i)}getExtension(n){this.fileExtension=n}load(n){n.includes("json")?(n=n.substring(0,n.length-5),this.Services.loadJson(n).subscribe(i=>{console.log("1"),i=(i=(i=JSON.stringify(i)).substring(10)).substring(0,i.length-1),i=JSON.parse(i),console.log("2"),this.ngOnInit();for(let o=0;o<i.length;o++)this.shapeObject=this.shapeFactory.factoryClass(i[o].id,i[o].name,i[o].x,i[o].y,i[o].width,i[o].height,"#"+i[o].fillColor,"#"+i[o].stroke,i[o].strokeWidth,i[o].scaleX,i[o].scaleY,i[o].angle,i[o].draggable).get(),this.view.staticLayer.add(this.shapeObject)})):n.includes("xml")&&(n=n.substring(0,n.length-4),this.Services.loadXML(n).subscribe(i=>{console.log("1"),i=(i=(i=JSON.stringify(i)).substring(10)).substring(0,i.length-1),i=JSON.parse(i),console.log("2"),this.ngOnInit();for(let o=0;o<i.length;o++)this.shapeObject=this.shapeFactory.factoryClass(i[o].id,i[o].name,i[o].x,i[o].y,i[o].width,i[o].height,"#"+i[o].fillColor,"#"+i[o].stroke,i[o].strokeWidth,i[o].scaleX,i[o].scaleY,i[o].angle,i[o].draggable).get(),this.view.staticLayer.add(this.shapeObject)}))}undo(){this.Services.undo().subscribe(n=>{n=(n=(n=JSON.stringify(n)).substring(10)).substring(0,n.length-1),n=JSON.parse(n),this.ngOnInit();for(let i=0;i<n.length;i++)this.shapeObject=this.shapeFactory.factoryClass(n[i].id,n[i].name,n[i].x,n[i].y,n[i].width,n[i].height,"#"+n[i].fillColor,"#"+n[i].stroke,n[i].strokeWidth,n[i].scaleX,n[i].scaleY,n[i].angle,n[i].draggable).get(),this.view.staticLayer.add(this.shapeObject)})}redo(){const n=this;this.Services.redo().subscribe(i=>{i=(i=(i=JSON.stringify(i)).substring(10)).substring(0,i.length-1),i=JSON.parse(i),this.ngOnInit();for(let o=0;o<i.length;o++)n.shapeObject=n.shapeFactory.factoryClass(i[o].id,i[o].name,i[o].x,i[o].y,i[o].width,i[o].height,"#"+i[o].fillColor,"#"+i[o].stroke,i[o].strokeWidth,i[o].scaleX,i[o].scaleY,i[o].angle,i[o].draggable).get(),n.view.staticLayer.add(this.shapeObject)})}}return(t=e).\u0275fac=function(n){return new(n||t)(fe(WO),fe(KC))},t.\u0275cmp=Xu({type:t,selectors:[["app-root"]],decls:41,vars:1,consts:[[1,"container"],[1,"tools"],["title","square",1,"button",3,"click"],["src","../assets/square.svg","alt","fail"],["title","circle",1,"button",3,"click"],["src","../assets/circle.svg","alt","fail"],["title","rectangle",1,"button",3,"click"],["src","../assets/rectangle.svg","alt","fail"],["title","lineSegment",1,"button",3,"click"],["src","../assets/line.svg","alt","fail"],["title","triangle",1,"button",3,"click"],["src","../assets/triangle.svg","alt","fail"],["title","ellipse",1,"button",3,"click"],["src","../assets/ellipse.svg","alt","fail"],["title","copy",1,"button",3,"click"],["src","../assets/copy.svg","alt","fail"],[1,"button",3,"click"],["type","text","placeholder","Folder Path"],["foldername",""],["type","text","placeholder","File Name"],["filename",""],["type","text","placeholder","Extension"],["extension",""],["title","save",1,"button",3,"click"],["src","../assets/save.png","alt","fail"],["type","text","placeholder","File Path"],["loadfile",""],["title","load",1,"button",3,"click"],["src","../assets/load.png","alt","fail"],["type","color","title","Palette",1,"palette",3,"ngModel","ngModelChange","change"],["id","board"]],template:function(n,i){if(1&n){const o=function S_(){return de()}();Pt(0,"html"),Xt(1,"head"),Pt(2,"body")(3,"div",0)(4,"div",1)(5,"div",2),ct("click",function(){return i.addShape("square")}),Xt(6,"img",3),Ft(),Pt(7,"div",4),ct("click",function(){return i.addShape("circle")}),Xt(8,"img",5),Ft(),Pt(9,"div",6),ct("click",function(){return i.addShape("rectangle")}),Xt(10,"img",7),Ft(),Pt(11,"div",8),ct("click",function(){return i.addShape("lineSegment")}),Xt(12,"img",9),Ft(),Pt(13,"div",10),ct("click",function(){return i.addShape("triangle")}),Xt(14,"img",11),Ft(),Pt(15,"div",12),ct("click",function(){return i.addShape("ellipse")}),Xt(16,"img",13),Ft(),Pt(17,"div",14),ct("click",function(){return i.copy()}),Xt(18,"img",15),Ft(),Pt(19,"div",16),ct("click",function(){return i.delete()}),zs(20,"delete"),Ft(),Pt(21,"div",16),ct("click",function(){return i.undo()}),zs(22,"undo"),Ft(),Pt(23,"div",16),ct("click",function(){return i.redo()}),zs(24,"redo"),Ft(),Pt(25,"div",16),ct("click",function(){return i.reset()}),zs(26,"clear"),Ft(),Xt(27,"input",17,18)(29,"input",19,20)(31,"input",21,22),Pt(33,"div",23),ct("click",function(){od(o);const a=Hs(28),l=Hs(30),c=Hs(32);return sd(i.save(a.value,l.value,c.value))}),Xt(34,"img",24),Ft(),Xt(35,"input",25,26),Pt(37,"div",27),ct("click",function(){od(o);const a=Hs(36);return sd(i.load(a.value))}),Xt(38,"img",28),Ft(),Pt(39,"input",29),ct("ngModelChange",function(a){return i.colour=a})("change",function(){return i.fill()}),Ft()(),Xt(40,"div",30),Ft()()()}2&n&&(function Ov(t){Pv(We(),de(),nn()+t,!1)}(39),Rh("ngModel",i.colour))},dependencies:[tu,yD,zp],styles:[QD,QD]}),e})();try{Qp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Qp=!1}let Ia,JD=(()=>{var t;class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function aN(t){return t===Y1}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Qp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(Jr))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function hu(t){return function D7(){if(null==Ia&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ia=!0}))}finally{Ia=Ia||!1}return Ia}()?t:!!t.capture}function tw(t){return Array.isArray(t)?t:[t]}function nw(t){return t instanceof gn?t.nativeElement:t}class O7 extends k{constructor(e,r){super()}schedule(e,r=0){return this}}const pu={setInterval(t,e,...r){const{delegate:n}=pu;return n?.setInterval?n.setInterval(t,e,...r):setInterval(t,e,...r)},clearInterval(t){const{delegate:e}=pu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},rw={now:()=>(rw.delegate||Date).now(),delegate:void 0};class xa{constructor(e,r=xa.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}}xa.now=rw.now;const k7=new class F7 extends xa{constructor(e,r=xa.now){super(e,r),this.actions=[],this._active=!1}flush(e){const{actions:r}=this;if(this._active)return void r.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}}(class P7 extends O7{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,r),this}requestAsyncId(e,r,n=0){return pu.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&pu.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let i,n=!1;try{this.work(e)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,q(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}});function V7(t){return ve((e,r)=>{Dn(t).subscribe(J(r,()=>r.complete(),b)),!r.closed&&e.subscribe(r)})}const iw=new Set;let Ui,B7=(()=>{var t;class e{constructor(n,i){this._platform=n,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):U7}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function j7(t,e){if(!iw.has(t))try{Ui||(Ui=document.createElement("style"),e&&(Ui.nonce=e),Ui.setAttribute("type","text/css"),document.head.appendChild(Ui)),Ui.sheet&&(Ui.sheet.insertRule(`@media ${t} {body{ }}`,0),iw.add(t))}catch(r){console.error(r)}}(n,this._nonce),this._matchMedia(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(JD),_e(eh,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function U7(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let H7=(()=>{var t;class e{constructor(n,i){this._mediaMatcher=n,this._zone=i,this._queries=new Map,this._destroySubject=new he}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return ow(tw(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let s=Rc(ow(tw(n)).map(a=>this._registerQuery(a).observable));return s=Pc(s.pipe(Ni(1)),s.pipe(function R7(t){return br((e,r)=>t<=r)}(1),function L7(t,e=k7){return ve((r,n)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,n.next(c)}};function l(){const c=s+t,d=e.now();if(d<c)return i=this.schedule(void 0,c-d),void n.add(i);a()}r.subscribe(J(n,c=>{o=c,s=e.now(),i||(i=e.schedule(l,t),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}(0))),s.pipe(se(a=>{const l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{l.matches=l.matches||c,l.breakpoints[d]=c}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const i=this._mediaMatcher.matchMedia(n),s={observable:new P(a=>{const l=c=>this._zone.run(()=>a.next(c));return i.addListener(l),()=>{i.removeListener(l)}}).pipe(E2(i),se(({matches:a})=>({query:n,matches:a})),V7(this._destroySubject)),mql:i};return this._queries.set(n,s),s}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(B7),_e(dt))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ow(t){return t.map(e=>e.split(",")).reduce((e,r)=>e.concat(r)).map(e=>e.trim())}const cw="cdk-high-contrast-black-on-white",uw="cdk-high-contrast-white-on-black",em="cdk-high-contrast-active";let J7=(()=>{var t;class e{constructor(n,i){this._platform=n,this._document=i,this._breakpointSubscription=be(H7).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(em,cw,uw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?n.add(em,cw):2===i&&n.add(em,uw)}}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(JD),_e(kt))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),dw=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({}),e})();const rF=new ge("mat-sanity-checks",{providedIn:"root",factory:function nF(){return!0}});let mu=(()=>{var t;class e{constructor(n,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!function S7(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(J7),_e(rF,8),_e(kt))},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({imports:[dw,dw]}),e})();class oF{constructor(e,r,n,i=!1){this._renderer=e,this.element=r,this.config=n,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mw=hu({passive:!0,capture:!0});class sF{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const r=function E7(t){return t.composedPath?t.composedPath()[0]:t.target}(e);r&&this._events.get(e.type)?.forEach((n,i)=>{(i===r||i.contains(r))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,r,n,i){const o=this._events.get(r);if(o){const s=o.get(n);s?s.add(i):o.set(n,new Set([i]))}else this._events.set(r,new Map([[n,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,mw)})}removeHandler(e,r,n){const i=this._events.get(e);if(!i)return;const o=i.get(r);o&&(o.delete(n),0===o.size&&i.delete(r),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,mw)))}}const gw={enterDuration:225,exitDuration:150},vw=hu({passive:!0,capture:!0}),_w=["mousedown","touchstart"],yw=["mouseup","mouseleave","touchend","touchcancel"];class gu{constructor(e,r,n,i){this._target=e,this._ngZone=r,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=nw(n))}fadeInRipple(e,r,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...gw,...n.animation};n.centered&&(e=i.left+i.width/2,r=i.top+i.height/2);const s=n.radius||function lF(t,e,r){const n=Math.max(Math.abs(t-r.left),Math.abs(t-r.right)),i=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom));return Math.sqrt(n*n+i*i)}(e,r,i),a=e-i.left,l=r-i.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=l-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=n.color&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);const h=window.getComputedStyle(d),L=h.transitionDuration,K="none"===h.transitionProperty||"0s"===L||"0s, 0s"===L||0===i.width&&0===i.height,ee=new oF(this,d,n,K);d.style.transform="scale3d(1, 1, 1)",ee.state=0,n.persistent||(this._mostRecentTransientRipple=ee);let ie=null;return!K&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ae=()=>this._finishRippleTransition(ee),oe=()=>this._destroyRipple(ee);d.addEventListener("transitionend",ae),d.addEventListener("transitioncancel",oe),ie={onTransitionEnd:ae,onTransitionCancel:oe}}),this._activeRipples.set(ee,ie),(K||!c)&&this._finishRippleTransition(ee),ee}fadeOutRipple(e){if(2===e.state||3===e.state)return;const r=e.element,n={...gw,...e.config.animation};r.style.transitionDuration=`${n.exitDuration}ms`,r.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const r=nw(e);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,_w.forEach(n=>{gu._eventManager.addHandler(this._ngZone,n,r,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{yw.forEach(r=>{this._triggerElement.addEventListener(r,this,vw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const r=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=1,!n&&(!r||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const r=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==r&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel)),e.element.remove()}_onMousedown(e){const r=function X7(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!r&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function Z7(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const r=e.changedTouches;if(r)for(let n=0;n<r.length;n++)this.fadeInRipple(r[n].clientX,r[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(_w.forEach(r=>gu._eventManager.removeHandler(r,e,this)),this._pointerUpEventsRegistered&&yw.forEach(r=>e.removeEventListener(r,this,vw)))}}gu._eventManager=new sF;let cF=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({imports:[mu,mu]}),e})(),hF=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({imports:[mu,cF,mu]}),e})();class bw{}class fF{}const $r="*";function Cw(t,e=null){return{type:2,steps:t,options:e}}function Dw(t){return{type:6,styles:t,offset:null}}class Ra{constructor(e=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const r="start"==e?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}}class ww{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let r=0,n=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++r==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const r=e*this.totalTime;this.players.forEach(n=>{const i=n.totalTime?Math.min(1,r/n.totalTime):1;n.setPosition(i)})}getPosition(){const e=this.players.reduce((r,n)=>null===r||n.totalTime>r.totalTime?n:r,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const r="start"==e?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}}function Ew(t){return new le(3e3,!1)}function ui(t){switch(t.length){case 0:return new Ra;case 1:return t[0];default:return new ww(t)}}function Sw(t,e,r=new Map,n=new Map){const i=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),d=c==s,h=d&&a||new Map;l.forEach((I,L)=>{let K=L,ee=I;if("offset"!==L)switch(K=t.normalizePropertyName(K,i),ee){case"!":ee=r.get(L);break;case $r:ee=n.get(L);break;default:ee=t.normalizeStyleValue(L,K,ee,i)}h.set(K,ee)}),d||o.push(h),a=h,s=c}),i.length)throw function kF(t){return new le(3502,!1)}();return o}function nm(t,e,r,n){switch(e){case"start":t.onStart(()=>n(r&&rm(r,"start",t)));break;case"done":t.onDone(()=>n(r&&rm(r,"done",t)));break;case"destroy":t.onDestroy(()=>n(r&&rm(r,"destroy",t)))}}function rm(t,e,r){const o=im(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r.totalTime??t.totalTime,!!r.disabled),s=t._data;return null!=s&&(o._data=s),o}function im(t,e,r,n,i="",o=0,s){return{element:t,triggerName:e,fromState:r,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function Nn(t,e,r){let n=t.get(e);return n||t.set(e,n=r),n}function Mw(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const YF=(()=>typeof document>"u"?null:document.documentElement)();function om(t){const e=t.parentNode||t.host||null;return e===YF?null:e}let Hi=null,Tw=!1;function Aw(t,e){for(;e;){if(e===t)return!0;e=om(e)}return!1}function Iw(t,e,r){if(r)return Array.from(t.querySelectorAll(e));const n=t.querySelector(e);return n?[n]:[]}let xw=(()=>{var t;class e{validateStyleProperty(n){return function XF(t){Hi||(Hi=function ZF(){return typeof document<"u"?document.body:null}()||{},Tw=!!Hi.style&&"WebkitAppearance"in Hi.style);let e=!0;return Hi.style&&!function qF(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Hi.style,!e&&Tw&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Hi.style)),e}(n)}matchesElement(n,i){return!1}containsElement(n,i){return Aw(n,i)}getParentElement(n){return om(n)}query(n,i,o){return Iw(n,i,o)}computeStyle(n,i,o){return o||""}animate(n,i,o,s,a,l=[],c){return new Ra(o,s)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})(),sm=(()=>{class e{}return e.NOOP=new xw,e})();const QF=1e3,am="ng-enter",vu="ng-leave",_u="ng-trigger",yu=".ng-trigger",Rw="ng-animating",lm=".ng-animating";function Gr(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cm(parseFloat(e[1]),e[2])}function cm(t,e){return"s"===e?t*QF:t}function bu(t,e,r){return t.hasOwnProperty("duration")?t:function ek(t,e,r){let i,o=0,s="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Ew()),{duration:0,delay:0,easing:""};i=cm(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=cm(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=t;if(!r){let a=!1,l=e.length;i<0&&(e.push(function pF(){return new le(3100,!1)}()),a=!0),o<0&&(e.push(function mF(){return new le(3101,!1)}()),a=!0),a&&e.splice(l,0,Ew())}return{duration:i,delay:o,easing:s}}(t,e,r)}function Oa(t,e={}){return Object.keys(t).forEach(r=>{e[r]=t[r]}),e}function Ow(t){const e=new Map;return Object.keys(t).forEach(r=>{e.set(r,t[r])}),e}function di(t,e=new Map,r){if(r)for(let[n,i]of r)e.set(n,i);for(let[n,i]of t)e.set(n,i);return e}function Sr(t,e,r){e.forEach((n,i)=>{const o=dm(i);r&&!r.has(i)&&r.set(i,t.style[o]),t.style[o]=n})}function $i(t,e){e.forEach((r,n)=>{const i=dm(n);t.style[i]=""})}function Pa(t){return Array.isArray(t)?1==t.length?t[0]:Cw(t):t}const um=new RegExp("{{\\s*(.+?)\\s*}}","g");function Fw(t){let e=[];if("string"==typeof t){let r;for(;r=um.exec(t);)e.push(r[1]);um.lastIndex=0}return e}function Fa(t,e,r){const n=t.toString(),i=n.replace(um,(o,s)=>{let a=e[s];return null==a&&(r.push(function vF(t){return new le(3003,!1)}()),a=""),a.toString()});return i==n?t:i}function Cu(t){const e=[];let r=t.next();for(;!r.done;)e.push(r.value),r=t.next();return e}const rk=/-+([a-z0-9])/g;function dm(t){return t.replace(rk,(...e)=>e[1].toUpperCase())}function Rn(t,e,r){switch(e.type){case 7:return t.visitTrigger(e,r);case 0:return t.visitState(e,r);case 1:return t.visitTransition(e,r);case 2:return t.visitSequence(e,r);case 3:return t.visitGroup(e,r);case 4:return t.visitAnimate(e,r);case 5:return t.visitKeyframes(e,r);case 6:return t.visitStyle(e,r);case 8:return t.visitReference(e,r);case 9:return t.visitAnimateChild(e,r);case 10:return t.visitAnimateRef(e,r);case 11:return t.visitQuery(e,r);case 12:return t.visitStagger(e,r);default:throw function _F(t){return new le(3004,!1)}()}}function kw(t,e){return window.getComputedStyle(t)[e]}const Du="*";function sk(t,e){const r=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(n=>function ak(t,e,r){if(":"==t[0]){const l=function lk(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,n)=>parseFloat(n)>parseFloat(r);case":decrement":return(r,n)=>parseFloat(n)<parseFloat(r);default:return e.push(function RF(t){return new le(3016,!1)}()),"* => *"}}(t,r);if("function"==typeof l)return void e.push(l);t=l}const n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return r.push(function NF(t){return new le(3015,!1)}()),e;const i=n[1],o=n[2],s=n[3];e.push(Lw(i,s));"<"==o[0]&&!(i==Du&&s==Du)&&e.push(Lw(s,i))}(n,r,e)):r.push(t),r}const wu=new Set(["true","1"]),Eu=new Set(["false","0"]);function Lw(t,e){const r=wu.has(t)||Eu.has(t),n=wu.has(e)||Eu.has(e);return(i,o)=>{let s=t==Du||t==i,a=e==Du||e==o;return!s&&r&&"boolean"==typeof i&&(s=i?wu.has(t):Eu.has(t)),!a&&n&&"boolean"==typeof o&&(a=o?wu.has(e):Eu.has(e)),s&&a}}const ck=new RegExp("s*:selfs*,?","g");function hm(t,e,r,n){return new uk(t).build(e,r,n)}class uk{constructor(e){this._driver=e}build(e,r,n){const i=new fk(r);return this._resetContextStyleTimingState(i),Rn(this,Pa(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,r){let n=r.queryCount=0,i=r.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&r.errors.push(function bF(){return new le(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(r),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,r))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,r);n+=l.queryCount,i+=l.depCount,s.push(l)}else r.errors.push(function CF(){return new le(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:n,depCount:i,options:null}}visitState(e,r){const n=this.visitStyle(e.styles,r),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const o=new Set,s=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Fw(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Cu(o.values()),r.errors.push(function DF(t,e){return new le(3008,!1)}()))}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,r){r.queryCount=0,r.depCount=0;const n=Rn(this,Pa(e.animation),r);return{type:1,matchers:sk(e.expr,r.errors),animation:n,queryCount:r.queryCount,depCount:r.depCount,options:Gi(e.options)}}visitSequence(e,r){return{type:2,steps:e.steps.map(n=>Rn(this,n,r)),options:Gi(e.options)}}visitGroup(e,r){const n=r.currentTime;let i=0;const o=e.steps.map(s=>{r.currentTime=n;const a=Rn(this,s,r);return i=Math.max(i,r.currentTime),a});return r.currentTime=i,{type:3,steps:o,options:Gi(e.options)}}visitAnimate(e,r){const n=function mk(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return fm(bu(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=fm(0,0,"");return o.dynamic=!0,o.strValue=r,o}const i=bu(r,e);return fm(i.duration,i.delay,i.easing)}(e.timings,r.errors);r.currentAnimateTimings=n;let i,o=e.styles?e.styles:Dw({});if(5==o.type)i=this.visitKeyframes(o,r);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};n.easing&&(c.easing=n.easing),s=Dw(c)}r.currentTime+=n.duration+n.delay;const l=this.visitStyle(s,r);l.isEmptyStep=a,i=l}return r.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,r){const n=this._makeStyleAst(e,r);return this._validateStyleAst(n,r),n}_makeStyleAst(e,r){const n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===$r?n.push(a):r.errors.push(new le(3002,!1)):n.push(Ow(a));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,r){const n=r.currentAnimateTimings;let i=r.currentTime,o=r.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=r.collectedStyles.get(r.currentQuerySelector),d=c.get(l);let h=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(r.errors.push(function EF(t,e,r,n,i){return new le(3010,!1)}()),h=!1),o=d.startTime),h&&c.set(l,{startTime:o,endTime:i}),r.options&&function nk(t,e,r){const n=e.params||{},i=Fw(t);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||r.push(function gF(t){return new le(3001,!1)}())})}(a,r.options,r.errors)})})}visitKeyframes(e,r){const n={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function SF(){return new le(3011,!1)}()),n;let o=0;const s=[];let a=!1,l=!1,c=0;const d=e.steps.map(ae=>{const oe=this._makeStyleAst(ae,r);let ye=null!=oe.offset?oe.offset:function pk(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(r=>{if(r instanceof Map&&r.has("offset")){const n=r;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}return e}(oe.styles),me=0;return null!=ye&&(o++,me=oe.offset=ye),l=l||me<0||me>1,a=a||me<c,c=me,s.push(me),oe});l&&r.errors.push(function MF(){return new le(3012,!1)}()),a&&r.errors.push(function TF(){return new le(3200,!1)}());const h=e.steps.length;let I=0;o>0&&o<h?r.errors.push(function AF(){return new le(3202,!1)}()):0==o&&(I=1/(h-1));const L=h-1,K=r.currentTime,ee=r.currentAnimateTimings,ie=ee.duration;return d.forEach((ae,oe)=>{const ye=I>0?oe==L?1:I*oe:s[oe],me=ye*ie;r.currentTime=K+ee.delay+me,ee.duration=me,this._validateStyleAst(ae,r),ae.offset=ye,n.styles.push(ae)}),n}visitReference(e,r){return{type:8,animation:Rn(this,Pa(e.animation),r),options:Gi(e.options)}}visitAnimateChild(e,r){return r.depCount++,{type:9,options:Gi(e.options)}}visitAnimateRef(e,r){return{type:10,animation:this.visitReference(e.animation,r),options:Gi(e.options)}}visitQuery(e,r){const n=r.currentQuerySelector,i=e.options||{};r.queryCount++,r.currentQuery=e;const[o,s]=function dk(t){const e=!!t.split(/\s*,\s*/).find(r=>":self"==r);return e&&(t=t.replace(ck,"")),t=t.replace(/@\*/g,yu).replace(/@\w+/g,r=>yu+"-"+r.slice(1)).replace(/:animating/g,lm),[t,e]}(e.selector);r.currentQuerySelector=n.length?n+" "+o:o,Nn(r.collectedStyles,r.currentQuerySelector,new Map);const a=Rn(this,Pa(e.animation),r);return r.currentQuery=null,r.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Gi(e.options)}}visitStagger(e,r){r.currentQuery||r.errors.push(function IF(){return new le(3013,!1)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:bu(e.timings,r.errors,!0);return{type:12,animation:Rn(this,Pa(e.animation),r),timings:n,options:null}}}class fk{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gi(t){return t?(t=Oa(t)).params&&(t.params=function hk(t){return t?Oa(t):null}(t.params)):t={},t}function fm(t,e,r){return{duration:t,delay:e,easing:r}}function pm(t,e,r,n,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:r,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Su{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,r){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...r)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const _k=new RegExp(":enter","g"),bk=new RegExp(":leave","g");function mm(t,e,r,n,i,o=new Map,s=new Map,a,l,c=[]){return(new Ck).buildKeyframes(t,e,r,n,i,o,s,a,l,c)}class Ck{buildKeyframes(e,r,n,i,o,s,a,l,c,d=[]){c=c||new Su;const h=new gm(e,r,c,i,o,d,[]);h.options=l;const I=l.delay?Gr(l.delay):0;h.currentTimeline.delayNextStep(I),h.currentTimeline.setStyles([s],null,h.errors,l),Rn(this,n,h);const L=h.timelines.filter(K=>K.containsAnimation());if(L.length&&a.size){let K;for(let ee=L.length-1;ee>=0;ee--){const ie=L[ee];if(ie.element===r){K=ie;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([a],null,h.errors,l)}return L.length?L.map(K=>K.buildKeyframes()):[pm(r,[],[],[],0,I,"",!1)]}visitTrigger(e,r){}visitState(e,r){}visitTransition(e,r){}visitAnimateChild(e,r){const n=r.subInstructions.get(r.element);if(n){const i=r.createSubContext(e.options),o=r.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);o!=s&&r.transformIntoNewTimeline(s)}r.previousNode=e}visitAnimateRef(e,r){const n=r.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],r,n),this.visitReference(e.animation,n),r.transformIntoNewTimeline(n.currentTimeline.currentTime),r.previousNode=e}_applyAnimationRefDelays(e,r,n){for(const i of e){const o=i?.delay;if(o){const s="number"==typeof o?o:Gr(Fa(o,i?.params??{},r.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,r,n){let o=r.currentTimeline.currentTime;const s=null!=n.duration?Gr(n.duration):null,a=null!=n.delay?Gr(n.delay):null;return 0!==s&&e.forEach(l=>{const c=r.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,r){r.updateOptions(e.options,!0),Rn(this,e.animation,r),r.previousNode=e}visitSequence(e,r){const n=r.subContextCount;let i=r;const o=e.options;if(o&&(o.params||o.delay)&&(i=r.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Mu);const s=Gr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Rn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),r.previousNode=e}visitGroup(e,r){const n=[];let i=r.currentTimeline.currentTime;const o=e.options&&e.options.delay?Gr(e.options.delay):0;e.steps.forEach(s=>{const a=r.createSubContext(e.options);o&&a.delayNextStep(o),Rn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>r.currentTimeline.mergeTimelineCollectedStyles(s)),r.transformIntoNewTimeline(i),r.previousNode=e}_visitTiming(e,r){if(e.dynamic){const n=e.strValue;return bu(r.params?Fa(n,r.params,r.errors):n,r.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,r){const n=r.currentAnimateTimings=this._visitTiming(e.timings,r),i=r.currentTimeline;n.delay&&(r.incrementTime(n.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,r):(r.incrementTime(n.duration),this.visitStyle(o,r),i.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=e}visitStyle(e,r){const n=r.currentTimeline,i=r.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,r.errors,r.options),r.previousNode=e}visitKeyframes(e,r){const n=r.currentAnimateTimings,i=r.currentTimeline.duration,o=n.duration,a=r.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,r.errors,r.options),a.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(a),r.transformIntoNewTimeline(i+o),r.previousNode=e}visitQuery(e,r){const n=r.currentTimeline.currentTime,i=e.options||{},o=i.delay?Gr(i.delay):0;o&&(6===r.previousNode.type||0==n&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Mu);let s=n;const a=r.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,r.errors);r.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{r.currentQueryIndex=d;const h=r.createSubContext(e.options,c);o&&h.delayNextStep(o),c===r.element&&(l=h.currentTimeline),Rn(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(s),l&&(r.currentTimeline.mergeTimelineCollectedStyles(l),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=e}visitStagger(e,r){const n=r.parentContext,i=r.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(r.currentQueryTotal-1);let l=s*r.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const d=r.currentTimeline;l&&d.delayNextStep(l);const h=d.currentTime;Rn(this,e.animation,r),r.previousNode=e,n.currentStaggerTime=i.currentTime-h+(i.startTime-n.currentTimeline.startTime)}}const Mu={};class gm{constructor(e,r,n,i,o,s,a,l){this._driver=e,this.element=r,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Tu(this._driver,r,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,r){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=Gr(n.duration)),null!=n.delay&&(i.delay=Gr(n.delay));const o=n.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!r||!s.hasOwnProperty(a))&&(s[a]=Fa(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const r=this.options.params;if(r){const n=e.params={};Object.keys(r).forEach(i=>{n[i]=r[i]})}}return e}createSubContext(e=null,r,n){const i=r||this.element,o=new gm(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Mu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,r,n){const i={duration:r??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new Dk(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,r,n,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(_k,"."+this._enterClassName)).replace(bk,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&0==a.length&&s.push(function xF(t){return new le(3014,!1)}()),a}}class Tu{constructor(e,r,n,i){this._driver=e,this.element=r,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+e),r&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,r){return this.applyStylesToKeyframe(),new Tu(this._driver,e,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,r){this._localTimelineStyles.set(e,r),this._globalTimelineStyles.set(e,r),this._styleSummary.set(e,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[r,n]of this._globalTimelineStyles)this._backFill.set(r,n||$r),this._currentKeyframe.set(r,$r);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,r,n,i){r&&this._previousKeyframe.set("easing",r);const o=i&&i.params||{},s=function wk(t,e){const r=new Map;let n;return t.forEach(i=>{if("*"===i){n=n||e.keys();for(let o of n)r.set(o,$r)}else di(i,r)}),r}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=Fa(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??$r),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,r)=>{this._currentKeyframe.set(r,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,e)}))}snapshotCurrentStyles(){for(let[e,r]of this._localTimelineStyles)this._pendingStyles.set(e,r),this._updateStyle(e,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let r in this._currentKeyframe)e.push(r);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((r,n)=>{const i=this._styleSummary.get(n);(!i||r.time>i.time)&&this._updateStyle(n,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,r=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=di(a,new Map,this._backFill);c.forEach((d,h)=>{"!"===d?e.add(h):d===$r&&r.add(h)}),n||c.set("offset",l/this.duration),i.push(c)});const o=e.size?Cu(e.values()):[],s=r.size?Cu(r.values()):[];if(n){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return pm(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class Dk extends Tu{constructor(e,r,n,i,o,s,a=!1){super(e,r,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:r,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&r){const o=[],s=n+r,a=r/s,l=di(e[0]);l.set("offset",0),o.push(l);const c=di(e[0]);c.set("offset",jw(a)),o.push(c);const d=e.length-1;for(let h=1;h<=d;h++){let I=di(e[h]);const L=I.get("offset");I.set("offset",jw((r+L*n)/s)),o.push(I)}n=s,r=0,i="",e=o}return pm(this.element,e,this.preStyleProps,this.postStyleProps,n,r,i,!0)}}function jw(t,e=3){const r=Math.pow(10,e-1);return Math.round(t*r)/r}class vm{}const Ek=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Sk extends vm{normalizePropertyName(e,r){return dm(e)}normalizeStyleValue(e,r,n,i){let o="";const s=n.toString().trim();if(Ek.has(r)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function yF(t,e){return new le(3005,!1)}())}return s+o}}function Uw(t,e,r,n,i,o,s,a,l,c,d,h,I){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:r,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:I}}const _m={};class Hw{constructor(e,r,n){this._triggerName=e,this.ast=r,this._stateStyles=n}match(e,r,n,i){return function Mk(t,e,r,n,i){return t.some(o=>o(e,r,n,i))}(this.ast.matchers,e,r,n,i)}buildStyles(e,r,n){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(r,n):new Map}build(e,r,n,i,o,s,a,l,c,d){const h=[],I=this.ast.options&&this.ast.options.params||_m,K=this.buildStyles(n,a&&a.params||_m,h),ee=l&&l.params||_m,ie=this.buildStyles(i,ee,h),ae=new Set,oe=new Map,ye=new Map,me="void"===i,Oe={params:Tk(ee,I),delay:this.ast.options?.delay},rt=d?[]:mm(e,r,this.ast.animation,o,s,K,ie,Oe,c,h);let nt=0;if(rt.forEach(yn=>{nt=Math.max(yn.duration+yn.delay,nt)}),h.length)return Uw(r,this._triggerName,n,i,me,K,ie,[],[],oe,ye,nt,h);rt.forEach(yn=>{const ir=yn.element,Nu=Nn(oe,ir,new Set);yn.preStyleProps.forEach(zi=>Nu.add(zi));const La=Nn(ye,ir,new Set);yn.postStyleProps.forEach(zi=>La.add(zi)),ir!==r&&ae.add(ir)});const $t=Cu(ae.values());return Uw(r,this._triggerName,n,i,me,K,ie,rt,$t,oe,ye,nt)}}function Tk(t,e){const r=Oa(e);for(const n in t)t.hasOwnProperty(n)&&null!=t[n]&&(r[n]=t[n]);return r}class Ak{constructor(e,r,n){this.styles=e,this.defaultParams=r,this.normalizer=n}buildStyles(e,r){const n=new Map,i=Oa(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Fa(s,i,r));const l=this.normalizer.normalizePropertyName(a,r);s=this.normalizer.normalizeStyleValue(a,l,s,r),n.set(a,s)})}),n}}class xk{constructor(e,r,n){this.name=e,this.ast=r,this._normalizer=n,this.transitionFactories=[],this.states=new Map,r.states.forEach(i=>{this.states.set(i.name,new Ak(i.style,i.options&&i.options.params||{},n))}),$w(this.states,"true","1"),$w(this.states,"false","0"),r.transitions.forEach(i=>{this.transitionFactories.push(new Hw(e,i,this.states))}),this.fallbackTransition=function Nk(t,e,r){return new Hw(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,r,n,i){return this.transitionFactories.find(s=>s.match(e,r,n,i))||null}matchStyles(e,r,n){return this.fallbackTransition.buildStyles(e,r,n)}}function $w(t,e,r){t.has(e)?t.has(r)||t.set(r,t.get(e)):t.has(r)&&t.set(e,t.get(r))}const Rk=new Su;class Ok{constructor(e,r,n){this.bodyNode=e,this._driver=r,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,r){const n=[],o=hm(this._driver,r,n,[]);if(n.length)throw function LF(t){return new le(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,r,n){const i=e.element,o=Sw(this._normalizer,e.keyframes,r,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,r,n={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=mm(this._driver,r,o,am,vu,new Map,new Map,n,Rk,i),s.forEach(d=>{const h=Nn(a,d.element,new Map);d.postStyleProps.forEach(I=>h.set(I,null))})):(i.push(function VF(){return new le(3300,!1)}()),s=[]),i.length)throw function BF(t){return new le(3504,!1)}();a.forEach((d,h)=>{d.forEach((I,L)=>{d.set(L,this._driver.computeStyle(h,L,$r))})});const c=ui(s.map(d=>{const h=a.get(d.element);return this._buildPlayer(d,new Map,h)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const r=this._getPlayer(e);r.destroy(),this._playersById.delete(e);const n=this.players.indexOf(r);n>=0&&this.players.splice(n,1)}_getPlayer(e){const r=this._playersById.get(e);if(!r)throw function jF(t){return new le(3301,!1)}();return r}listen(e,r,n,i){const o=im(r,"","","");return nm(this._getPlayer(e),n,o,i),()=>{}}command(e,r,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,r,i[0]||{});const o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Gw="ng-animate-queued",ym="ng-animate-disabled",Vk=[],zw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rr="__ng_removed";class bm{get params(){return this.options.params}constructor(e,r=""){this.namespaceId=r;const n=e&&e.hasOwnProperty("value");if(this.value=function $k(t){return t??null}(n?e.value:e),n){const o=Oa(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const r=e.params;if(r){const n=this.options.params;Object.keys(r).forEach(i=>{null==n[i]&&(n[i]=r[i])})}}}const ka="void",Cm=new bm(ka);class jk{constructor(e,r,n){this.id=e,this.hostElement=r,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$n(r,this._hostClassName)}listen(e,r,n,i){if(!this._triggers.has(r))throw function UF(t,e){return new le(3302,!1)}();if(null==n||0==n.length)throw function HF(t){return new le(3303,!1)}();if(!function Gk(t){return"start"==t||"done"==t}(n))throw function $F(t,e){return new le(3400,!1)}();const o=Nn(this._elementListeners,e,[]),s={name:r,phase:n,callback:i};o.push(s);const a=Nn(this._engine.statesByElement,e,new Map);return a.has(r)||($n(e,_u),$n(e,_u+"-"+r),a.set(r,Cm)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(r)||a.delete(r)})}}register(e,r){return!this._triggers.has(e)&&(this._triggers.set(e,r),!0)}_getTrigger(e){const r=this._triggers.get(e);if(!r)throw function GF(t){return new le(3401,!1)}();return r}trigger(e,r,n,i=!0){const o=this._getTrigger(r),s=new Dm(this.id,r,e);let a=this._engine.statesByElement.get(e);a||($n(e,_u),$n(e,_u+"-"+r),this._engine.statesByElement.set(e,a=new Map));let l=a.get(r);const c=new bm(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(r,c),l||(l=Cm),c.value!==ka&&l.value===c.value){if(!function Kk(t,e){const r=Object.keys(t),n=Object.keys(e);if(r.length!=n.length)return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(l.params,c.params)){const ee=[],ie=o.matchStyles(l.value,l.params,ee),ae=o.matchStyles(c.value,c.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{$i(e,ie),Sr(e,ae)})}return}const I=Nn(this._engine.playersByElement,e,[]);I.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==r&&ee.queued&&ee.destroy()});let L=o.matchTransition(l.value,c.value,e,c.params),K=!1;if(!L){if(!i)return;L=o.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:L,fromState:l,toState:c,player:s,isFallbackTransition:K}),K||($n(e,Gw),s.onStart(()=>{ns(e,Gw)})),s.onDone(()=>{let ee=this.players.indexOf(s);ee>=0&&this.players.splice(ee,1);const ie=this._engine.playersByElement.get(e);if(ie){let ae=ie.indexOf(s);ae>=0&&ie.splice(ae,1)}}),this.players.push(s),I.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(r=>r.delete(e)),this._elementListeners.forEach((r,n)=>{this._elementListeners.set(n,r.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const r=this._engine.playersByElement.get(e);r&&(r.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,r){const n=this._engine.driver.query(e,yu,!0);n.forEach(i=>{if(i[rr])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,r,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,r,n,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const d=this.trigger(e,c,ka,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,r,s),n&&ui(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const r=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(r&&n){const i=new Set;r.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=n.get(s)||Cm,d=new bm(ka),h=new Dm(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,r){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,r),this.triggerLeaveAnimation(e,r,!0))return;let i=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,r);else{const o=e[rr];(!o||o===zw)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,r))}}insertNode(e,r){$n(e,this._hostClassName)}drainQueuedTransitions(e){const r=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){const l=im(o,n.triggerName,n.fromState.value,n.toState.value);l._data=e,nm(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):r.push(n)}),this._queue=[],r.sort((n,i)=>{const o=n.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Uk{_onRemovalComplete(e,r){this.onRemovalComplete(e,r)}constructor(e,r,n){this.bodyNode=e,this.driver=r,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(r=>{r.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,r){const n=new jk(e,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(n,r):(this.newHostElements.set(r,n),this.collectEnterElement(r)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,r){const n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(r);for(;a;){const l=i.get(a);if(l){const c=n.indexOf(l);n.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return i.set(r,e),e}register(e,r){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,r)),n}registerTrigger(e,r,n){let i=this._namespaceLookup[e];i&&i.register(r,n)&&this.totalAnimations++}destroy(e,r){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);const i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(r),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const r=new Set,n=this.statesByElement.get(e);if(n)for(let i of n.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&r.add(o)}return r}trigger(e,r,n,i){if(Au(r)){const o=this._fetchNamespace(e);if(o)return o.trigger(r,n,i),!0}return!1}insertNode(e,r,n,i){if(!Au(r))return;const o=r[rr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(r);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(r,n)}i&&this.collectEnterElement(r)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,r){r?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$n(e,ym)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ns(e,ym))}removeNode(e,r,n){if(Au(r)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(r,n):this.markElementAsRemoved(e,r,!1,n);const o=this.namespacesByHostElement.get(r);o&&o.id!==e&&o.removeNode(r,n)}else this._onRemovalComplete(r,n)}markElementAsRemoved(e,r,n,i,o){this.collectedLeaveElements.push(r),r[rr]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,r,n,i,o){return Au(r)?this._fetchNamespace(e).listen(r,n,i,o):()=>{}}_buildInstruction(e,r,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,r,o)}destroyInnerAnimations(e){let r=this.driver.query(e,yu,!0);r.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(e,lm,!0),r.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const r=this.playersByElement.get(e);r&&r.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const r=this.playersByQueriedElement.get(e);r&&r.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ui(this.players).onDone(()=>e());e()})}processLeaveNode(e){const r=e[rr];if(r&&r.setForRemoval){if(e[rr]=zw,r.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(r.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}e.classList?.contains(ym)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)$n(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{r=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],r.length?ui(r).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw function zF(t){return new le(3402,!1)}()}_flushAnimations(e,r){const n=new Su,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(Ee=>{d.add(Ee);const Te=this.driver.query(Ee,".ng-animate-queued",!0);for(let Ie=0;Ie<Te.length;Ie++)d.add(Te[Ie])});const h=this.bodyNode,I=Array.from(this.statesByElement.keys()),L=Yw(I,this.collectedEnterElements),K=new Map;let ee=0;L.forEach((Ee,Te)=>{const Ie=am+ee++;K.set(Te,Ie),Ee.forEach(Ke=>$n(Ke,Ie))});const ie=[],ae=new Set,oe=new Set;for(let Ee=0;Ee<this.collectedLeaveElements.length;Ee++){const Te=this.collectedLeaveElements[Ee],Ie=Te[rr];Ie&&Ie.setForRemoval&&(ie.push(Te),ae.add(Te),Ie.hasAnimation?this.driver.query(Te,".ng-star-inserted",!0).forEach(Ke=>ae.add(Ke)):oe.add(Te))}const ye=new Map,me=Yw(I,Array.from(ae));me.forEach((Ee,Te)=>{const Ie=vu+ee++;ye.set(Te,Ie),Ee.forEach(Ke=>$n(Ke,Ie))}),e.push(()=>{L.forEach((Ee,Te)=>{const Ie=K.get(Te);Ee.forEach(Ke=>ns(Ke,Ie))}),me.forEach((Ee,Te)=>{const Ie=ye.get(Te);Ee.forEach(Ke=>ns(Ke,Ie))}),ie.forEach(Ee=>{this.processLeaveNode(Ee)})});const Oe=[],rt=[];for(let Ee=this._namespaceList.length-1;Ee>=0;Ee--)this._namespaceList[Ee].drainQueuedTransitions(r).forEach(Ie=>{const Ke=Ie.player,Lt=Ie.element;if(Oe.push(Ke),this.collectedEnterElements.length){const Qt=Lt[rr];if(Qt&&Qt.setForMove){if(Qt.previousTriggersValues&&Qt.previousTriggersValues.has(Ie.triggerName)){const Wi=Qt.previousTriggersValues.get(Ie.triggerName),Gn=this.statesByElement.get(Ie.element);if(Gn&&Gn.has(Ie.triggerName)){const Ru=Gn.get(Ie.triggerName);Ru.value=Wi,Gn.set(Ie.triggerName,Ru)}}return void Ke.destroy()}}const Mr=!h||!this.driver.containsElement(h,Lt),On=ye.get(Lt),hi=K.get(Lt),vt=this._buildInstruction(Ie,n,hi,On,Mr);if(vt.errors&&vt.errors.length)return void rt.push(vt);if(Mr)return Ke.onStart(()=>$i(Lt,vt.fromStyles)),Ke.onDestroy(()=>Sr(Lt,vt.toStyles)),void i.push(Ke);if(Ie.isFallbackTransition)return Ke.onStart(()=>$i(Lt,vt.fromStyles)),Ke.onDestroy(()=>Sr(Lt,vt.toStyles)),void i.push(Ke);const oE=[];vt.timelines.forEach(Qt=>{Qt.stretchStartingKeyframe=!0,this.disabledNodes.has(Qt.element)||oE.push(Qt)}),vt.timelines=oE,n.append(Lt,vt.timelines),s.push({instruction:vt,player:Ke,element:Lt}),vt.queriedElements.forEach(Qt=>Nn(a,Qt,[]).push(Ke)),vt.preStyleProps.forEach((Qt,Wi)=>{if(Qt.size){let Gn=l.get(Wi);Gn||l.set(Wi,Gn=new Set),Qt.forEach((Ru,Sm)=>Gn.add(Sm))}}),vt.postStyleProps.forEach((Qt,Wi)=>{let Gn=c.get(Wi);Gn||c.set(Wi,Gn=new Set),Qt.forEach((Ru,Sm)=>Gn.add(Sm))})});if(rt.length){const Ee=[];rt.forEach(Te=>{Ee.push(function WF(t,e){return new le(3505,!1)}())}),Oe.forEach(Te=>Te.destroy()),this.reportError(Ee)}const nt=new Map,$t=new Map;s.forEach(Ee=>{const Te=Ee.element;n.has(Te)&&($t.set(Te,Te),this._beforeAnimationBuild(Ee.player.namespaceId,Ee.instruction,nt))}),i.forEach(Ee=>{const Te=Ee.element;this._getPreviousPlayers(Te,!1,Ee.namespaceId,Ee.triggerName,null).forEach(Ke=>{Nn(nt,Te,[]).push(Ke),Ke.destroy()})});const yn=ie.filter(Ee=>Xw(Ee,l,c)),ir=new Map;Kw(ir,this.driver,oe,c,$r).forEach(Ee=>{Xw(Ee,l,c)&&yn.push(Ee)});const La=new Map;L.forEach((Ee,Te)=>{Kw(La,this.driver,new Set(Ee),l,"!")}),yn.forEach(Ee=>{const Te=ir.get(Ee),Ie=La.get(Ee);ir.set(Ee,new Map([...Te?.entries()??[],...Ie?.entries()??[]]))});const zi=[],rE=[],iE={};s.forEach(Ee=>{const{element:Te,player:Ie,instruction:Ke}=Ee;if(n.has(Te)){if(d.has(Te))return Ie.onDestroy(()=>Sr(Te,Ke.toStyles)),Ie.disabled=!0,Ie.overrideTotalTime(Ke.totalTime),void i.push(Ie);let Lt=iE;if($t.size>1){let On=Te;const hi=[];for(;On=On.parentNode;){const vt=$t.get(On);if(vt){Lt=vt;break}hi.push(On)}hi.forEach(vt=>$t.set(vt,Lt))}const Mr=this._buildAnimation(Ie.namespaceId,Ke,nt,o,La,ir);if(Ie.setRealPlayer(Mr),Lt===iE)zi.push(Ie);else{const On=this.playersByElement.get(Lt);On&&On.length&&(Ie.parentPlayer=ui(On)),i.push(Ie)}}else $i(Te,Ke.fromStyles),Ie.onDestroy(()=>Sr(Te,Ke.toStyles)),rE.push(Ie),d.has(Te)&&i.push(Ie)}),rE.forEach(Ee=>{const Te=o.get(Ee.element);if(Te&&Te.length){const Ie=ui(Te);Ee.setRealPlayer(Ie)}}),i.forEach(Ee=>{Ee.parentPlayer?Ee.syncPlayerEvents(Ee.parentPlayer):Ee.destroy()});for(let Ee=0;Ee<ie.length;Ee++){const Te=ie[Ee],Ie=Te[rr];if(ns(Te,vu),Ie&&Ie.hasAnimation)continue;let Ke=[];if(a.size){let Mr=a.get(Te);Mr&&Mr.length&&Ke.push(...Mr);let On=this.driver.query(Te,lm,!0);for(let hi=0;hi<On.length;hi++){let vt=a.get(On[hi]);vt&&vt.length&&Ke.push(...vt)}}const Lt=Ke.filter(Mr=>!Mr.destroyed);Lt.length?zk(this,Te,Lt):this.processLeaveNode(Te)}return ie.length=0,zi.forEach(Ee=>{this.players.push(Ee),Ee.onDone(()=>{Ee.destroy();const Te=this.players.indexOf(Ee);this.players.splice(Te,1)}),Ee.play()}),zi}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,r,n,i,o){let s=[];if(r){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==ka;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(n||i)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,r,n){const o=r.element,s=r.isRemovalTransition?void 0:e,a=r.isRemovalTransition?void 0:r.triggerName;for(const l of r.timelines){const c=l.element,d=c!==o,h=Nn(n,c,[]);this._getPreviousPlayers(c,d,s,a,r.toState).forEach(L=>{const K=L.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),L.destroy(),h.push(L)})}$i(o,r.fromStyles)}_buildAnimation(e,r,n,i,o,s){const a=r.triggerName,l=r.element,c=[],d=new Set,h=new Set,I=r.timelines.map(K=>{const ee=K.element;d.add(ee);const ie=ee[rr];if(ie&&ie.removedBeforeQueried)return new Ra(K.duration,K.delay);const ae=ee!==l,oe=function Wk(t){const e=[];return qw(t,e),e}((n.get(ee)||Vk).map(nt=>nt.getRealPlayer())).filter(nt=>!!nt.element&&nt.element===ee),ye=o.get(ee),me=s.get(ee),Oe=Sw(this._normalizer,K.keyframes,ye,me),rt=this._buildPlayer(K,Oe,oe);if(K.subTimeline&&i&&h.add(ee),ae){const nt=new Dm(e,a,ee);nt.setRealPlayer(rt),c.push(nt)}return rt});c.forEach(K=>{Nn(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function Hk(t,e,r){let n=t.get(e);if(n){if(n.length){const i=n.indexOf(r);n.splice(i,1)}0==n.length&&t.delete(e)}return n}(this.playersByQueriedElement,K.element,K))}),d.forEach(K=>$n(K,Rw));const L=ui(I);return L.onDestroy(()=>{d.forEach(K=>ns(K,Rw)),Sr(l,r.toStyles)}),h.forEach(K=>{Nn(i,K,[]).push(L)}),L}_buildPlayer(e,r,n){return r.length>0?this.driver.animate(e.element,r,e.duration,e.delay,e.easing,n):new Ra(e.duration,e.delay)}}class Dm{constructor(e,r,n){this.namespaceId=e,this.triggerName=r,this.element=n,this._player=new Ra,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((r,n)=>{r.forEach(i=>nm(e,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const r=this._player;r.triggerCallback&&e.onStart(()=>r.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,r){Nn(this._queuedCallbacks,e,[]).push(r)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const r=this._player;r.triggerCallback&&r.triggerCallback(e)}}function Au(t){return t&&1===t.nodeType}function Ww(t,e){const r=t.style.display;return t.style.display=e??"none",r}function Kw(t,e,r,n,i){const o=[];r.forEach(l=>o.push(Ww(l)));const s=[];n.forEach((l,c)=>{const d=new Map;l.forEach(h=>{const I=e.computeStyle(c,h,i);d.set(h,I),(!I||0==I.length)&&(c[rr]=Bk,s.push(c))}),t.set(c,d)});let a=0;return r.forEach(l=>Ww(l,o[a++])),s}function Yw(t,e){const r=new Map;if(t.forEach(a=>r.set(a,[])),0==e.length)return r;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=r.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&r.get(l).push(a)}),r}function $n(t,e){t.classList?.add(e)}function ns(t,e){t.classList?.remove(e)}function zk(t,e,r){ui(r).onDone(()=>t.processLeaveNode(e))}function qw(t,e){for(let r=0;r<t.length;r++){const n=t[r];n instanceof ww?qw(n.players,e):e.push(n)}}function Xw(t,e,r){const n=r.get(t);if(!n)return!1;let i=e.get(t);return i?n.forEach(o=>i.add(o)):e.set(t,n),r.delete(t),!0}class Iu{constructor(e,r,n){this.bodyNode=e,this._driver=r,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Uk(e,r,n),this._timelineEngine=new Ok(e,r,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,r,n,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],d=hm(this._driver,o,l,[]);if(l.length)throw function FF(t,e){return new le(3404,!1)}();a=function Ik(t,e,r){return new xk(t,e,r)}(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(r,i,a)}register(e,r){this._transitionEngine.register(e,r)}destroy(e,r){this._transitionEngine.destroy(e,r)}onInsert(e,r,n,i){this._transitionEngine.insertNode(e,r,n,i)}onRemove(e,r,n){this._transitionEngine.removeNode(e,r,n)}disableAnimations(e,r){this._transitionEngine.markElementAsDisabled(e,r)}process(e,r,n,i){if("@"==n.charAt(0)){const[o,s]=Mw(n);this._timelineEngine.command(o,r,s,i)}else this._transitionEngine.trigger(e,r,n,i)}listen(e,r,n,i,o){if("@"==n.charAt(0)){const[s,a]=Mw(n);return this._timelineEngine.listen(s,r,a,o)}return this._transitionEngine.listen(e,r,n,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let qk=(()=>{class e{constructor(n,i,o){this._element=n,this._startStyles=i,this._endStyles=o,this._state=0;let s=e.initialStylesByElement.get(n);s||e.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Sr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sr(this._element,this._initialStyles),this._endStyles&&(Sr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&($i(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($i(this._element,this._endStyles),this._endStyles=null),Sr(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function wm(t){let e=null;return t.forEach((r,n)=>{(function Xk(t){return"display"===t||"position"===t})(n)&&(e=e||new Map,e.set(n,r))}),e}class Zw{constructor(e,r,n,i){this.element=e,this.keyframes=r,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const r=[];return e.forEach(n=>{r.push(Object.fromEntries(n))}),r}_triggerWebAnimation(e,r,n){return e.animate(this._convertKeyframesToObject(r),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{"offset"!==i&&e.set(i,this._finished?n:kw(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const r="start"===e?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}}class Zk{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,r){return!1}containsElement(e,r){return Aw(e,r)}getParentElement(e){return om(e)}query(e,r,n){return Iw(e,r,n)}computeStyle(e,r,n){return window.getComputedStyle(e)[r]}animate(e,r,n,i,o,s=[]){const l={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,d=s.filter(L=>L instanceof Zw);(function ik(t,e){return 0===t||0===e})(n,i)&&d.forEach(L=>{L.currentSnapshot.forEach((K,ee)=>c.set(ee,K))});let h=function tk(t){return t.length?t[0]instanceof Map?t:t.map(e=>Ow(e)):[]}(r).map(L=>di(L));h=function ok(t,e,r){if(r.size&&e.length){let n=e[0],i=[];if(r.forEach((o,s)=>{n.has(s)||i.push(s),n.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,kw(t,a)))}}return e}(e,h,c);const I=function Yk(t,e){let r=null,n=null;return Array.isArray(e)&&e.length?(r=wm(e[0]),e.length>1&&(n=wm(e[e.length-1]))):e instanceof Map&&(r=wm(e)),r||n?new qk(t,r,n):null}(e,h);return new Zw(e,h,l,I)}}let Qk=(()=>{var t;class e extends bw{constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:kn.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(n)?Cw(n):n;return Qw(this._renderer,null,i,"register",[o]),new Jk(i,this._renderer)}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(Rs),_e(kt))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();class Jk extends fF{constructor(e,r){super(),this._id=e,this._renderer=r}create(e,r){return new eL(this._id,e,r||{},this._renderer)}}class eL{constructor(e,r,n,i){this.id=e,this.element=r,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,r){return this._renderer.listen(this.element,`@@${this.id}:${e}`,r)}_command(e,...r){return Qw(this._renderer,this.element,this.id,e,r)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Qw(t,e,r,n,i){return t.setProperty(e,`@@${r}:${n}`,i)}const Jw="@.disabled";let tL=(()=>{var t;class e{constructor(n,i,o){this.delegate=n,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,a)=>{const l=a?.parentNode(s);l&&a.removeChild(l,s)}}createRenderer(n,i){const s=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(s);return h||(h=new eE("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,h)),h}const a=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,n);const c=h=>{Array.isArray(h)?h.forEach(c):this.engine.registerTrigger(a,l,n,h.name,h)};return i.data.animation.forEach(c),new nL(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,o){n>=0&&n<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(Rs),_e(Iu),_e(dt))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})();class eE{constructor(e,r,n,i){this.namespaceId=e,this.delegate=r,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,r){this.delegate.appendChild(e,r),this.engine.onInsert(this.namespaceId,r,e,!1)}insertBefore(e,r,n,i=!0){this.delegate.insertBefore(e,r,n),this.engine.onInsert(this.namespaceId,r,e,i)}removeChild(e,r,n){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,n,i){this.delegate.setAttribute(e,r,n,i)}removeAttribute(e,r,n){this.delegate.removeAttribute(e,r,n)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,n,i){this.delegate.setStyle(e,r,n,i)}removeStyle(e,r,n){this.delegate.removeStyle(e,r,n)}setProperty(e,r,n){"@"==r.charAt(0)&&r==Jw?this.disableAnimations(e,!!n):this.delegate.setProperty(e,r,n)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,n){return this.delegate.listen(e,r,n)}disableAnimations(e,r){this.engine.disableAnimations(e,r)}}class nL extends eE{constructor(e,r,n,i,o){super(r,n,i,o),this.factory=e,this.namespaceId=r}setProperty(e,r,n){"@"==r.charAt(0)?"."==r.charAt(1)&&r==Jw?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,r.slice(1),n):this.delegate.setProperty(e,r,n)}listen(e,r,n){if("@"==r.charAt(0)){const i=function rL(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=r.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function iL(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(e,r,n)}}const tE=[{provide:bw,useClass:Qk},{provide:vm,useFactory:function sL(){return new Sk}},{provide:Iu,useClass:(()=>{var t;class e extends Iu{constructor(n,i,o,s){super(n.body,i,o)}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(n){return new(n||t)(_e(kt),_e(sm),_e(vm),_e(Ai))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),e})()},{provide:Rs,useFactory:function aL(t,e,r){return new tL(t,e,r)},deps:[tp,Iu,dt]}],Em=[{provide:sm,useFactory:()=>new Zk},{provide:cv,useValue:"BrowserAnimations"},...tE],nE=[{provide:sm,useClass:xw},{provide:cv,useValue:"NoopAnimations"},...tE];let lL=(()=>{var t;class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?nE:Em}}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Bt({providers:Em,imports:[f2]}),e})(),cL=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t,bootstrap:[C7]}),t.\u0275inj=Bt({providers:[KC],imports:[f2,LO,hF,b7,gP,lL]}),e})();JN().bootstrapModule(cL).catch(t=>console.error(t))},4909:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Animation=void 0;const N=F(3602),H=F(7675);var z=N.glob.performance&&N.glob.performance.now?function(){return N.glob.performance.now()}:function(){return(new Date).getTime()};class q{constructor(T,C){this.id=q.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:z(),frameRate:0},this.func=T,this.setLayers(C)}setLayers(T){return this.layers=T?T.length>0?T:[T]:[],this}getLayers(){return this.layers}addLayer(T){var y,C=this.layers,g=C.length;for(y=0;y<g;y++)if(C[y]._id===T._id)return!1;return this.layers.push(T),!0}isRunning(){var y,C=q.animations,g=C.length;for(y=0;y<g;y++)if(C[y].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=z(),q._addAnimation(this),this}stop(){return q._removeAnimation(this),this}_updateFrameObject(T){this.frame.timeDiff=T-this.frame.lastTime,this.frame.lastTime=T,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(T){this.animations.push(T),this._handleAnimation()}static _removeAnimation(T){var D,C=T.id,g=this.animations,y=g.length;for(D=0;D<y;D++)if(g[D].id===C){this.animations.splice(D,1);break}}static _runFrames(){var g,y,D,S,b,v,m,p,T={},C=this.animations;for(S=0;S<C.length;S++)if(y=(g=C[S]).layers,D=g.func,g._updateFrameObject(z()),v=y.length,!D||!1!==D.call(g,g.frame))for(b=0;b<v;b++)void 0!==(m=y[b])._id&&(T[m._id]=m);for(p in T)T.hasOwnProperty(p)&&T[p].batchDraw()}static _animationLoop(){var T=q;T.animations.length?(T._runFrames(),H.Util.requestAnimFrame(T._animationLoop)):T.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,H.Util.requestAnimFrame(this._animationLoop))}}x.Animation=q,q.animations=[],q.animIdCounter=0,q.animRunning=!1},974:(Se,x)=>{function H(k,T,C){const g=z(1,C,k),y=z(1,C,T);return Math.sqrt(g*g+y*y)}Object.defineProperty(x,"__esModule",{value:!0}),x.t2length=x.getQuadraticArcLength=x.getCubicArcLength=x.binomialCoefficients=x.cValues=x.tValues=void 0,x.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],x.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],x.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]],x.getCubicArcLength=(k,T,C)=>{let g,y,D;g=C/2,y=0;for(let b=0;b<20;b++)D=g*x.tValues[20][b]+g,y+=x.cValues[20][b]*H(k,T,D);return g*y},x.getQuadraticArcLength=(k,T,C)=>{void 0===C&&(C=1);const g=k[0]-2*k[1]+k[2],y=T[0]-2*T[1]+T[2],D=2*k[1]-2*k[0],S=2*T[1]-2*T[0],b=4*(g*g+y*y),v=4*(g*D+y*S),m=D*D+S*S;if(0===b)return C*Math.sqrt(Math.pow(k[2]-k[0],2)+Math.pow(T[2]-T[0],2));const p=v/(2*b),w=C+p,B=m/b-p*p,u=w*w+B>0?Math.sqrt(w*w+B):0,f=p*p+B>0?Math.sqrt(p*p+B):0,E=p+Math.sqrt(p*p+B)!==0?B*Math.log(Math.abs((w+u)/(p+f))):0;return Math.sqrt(b)/2*(w*u-p*f+E)};const z=(k,T,C)=>{const g=C.length-1;let y,D;if(0===g)return 0;if(0===k){D=0;for(let S=0;S<=g;S++)D+=x.binomialCoefficients[g][S]*Math.pow(1-T,g-S)*Math.pow(T,S)*C[S];return D}y=new Array(g);for(let S=0;S<g;S++)y[S]=g*(C[S+1]-C[S]);return z(k-1,T,y)};x.t2length=(k,T,C)=>{let g=1,y=k/T,D=(k-C(y))/T,S=0;for(;g>.001;){const b=C(y+D),v=Math.abs(k-b)/T;if(v<g)g=v,y+=D;else{const m=C(y-D),p=Math.abs(k-m)/T;p<g?(g=p,y-=D):D/=2}if(S++,S>500)break}return y}},4091:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.HitCanvas=x.SceneCanvas=x.Canvas=void 0;const N=F(7675),H=F(6480),z=F(3602),q=F(4362),k=F(5340);var T;class g{constructor(b){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var m=(b||{}).pixelRatio||z.Konva.pixelRatio||function C(){if(T)return T;var S=N.Util.createCanvasElement(),b=S.getContext("2d");return T=(z.Konva._global.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1),N.Util.releaseCanvas(S),T}();this.pixelRatio=m,this._canvas=N.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(b){var v=this.pixelRatio;this.pixelRatio=b,this.setSize(this.getWidth()/v,this.getHeight()/v)}setWidth(b){this.width=this._canvas.width=b*this.pixelRatio,this._canvas.style.width=b+"px";var v=this.pixelRatio;this.getContext()._context.scale(v,v)}setHeight(b){this.height=this._canvas.height=b*this.pixelRatio,this._canvas.style.height=b+"px";var v=this.pixelRatio;this.getContext()._context.scale(v,v)}getWidth(){return this.width}getHeight(){return this.height}setSize(b,v){this.setWidth(b||0),this.setHeight(v||0)}toDataURL(b,v){try{return this._canvas.toDataURL(b,v)}catch{try{return this._canvas.toDataURL()}catch(p){return N.Util.error("Unable to get data URL. "+p.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}x.Canvas=g,q.Factory.addGetterSetter(g,"pixelRatio",void 0,(0,k.getNumberValidator)()),x.SceneCanvas=class y extends g{constructor(b={width:0,height:0,willReadFrequently:!1}){super(b),this.context=new H.SceneContext(this,{willReadFrequently:b.willReadFrequently}),this.setSize(b.width,b.height)}},x.HitCanvas=class D extends g{constructor(b={width:0,height:0}){super(b),this.hitCanvas=!0,this.context=new H.HitContext(this),this.setSize(b.width,b.height)}}},6221:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Container=void 0;const N=F(4362),H=F(1272),z=F(5340);class q extends H.Node{constructor(){super(...arguments),this.children=[]}getChildren(T){if(!T)return this.children||[];var g=[];return(this.children||[]).forEach(function(y){T(y)&&g.push(y)}),g}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(T=>{T.parent=null,T.index=0,T.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(T=>{T.parent=null,T.index=0,T.destroy()}),this.children=[],this._requestDraw(),this}add(...T){if(0===T.length)return this;if(T.length>1){for(var C=0;C<T.length;C++)this.add(T[C]);return this}const g=T[0];return g.getParent()?(g.moveTo(this),this):(this._validateAdd(g),g.index=this.getChildren().length,g.parent=this,g._clearCaches(),this.getChildren().push(g),this._fire("add",{child:g}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(T){return this._generalFind(T,!1)}findOne(T){var C=this._generalFind(T,!0);return C.length>0?C[0]:void 0}_generalFind(T,C){var g=[];return this._descendants(y=>{const D=y._isMatch(T);return D&&g.push(y),!(!D||!C)}),g}_descendants(T){let C=!1;const g=this.getChildren();for(const y of g){if(C=T(y),C)return!0;if(y.hasChildren()&&(C=y._descendants(T),C))return!0}return!1}toObject(){var T=H.Node.prototype.toObject.call(this);return T.children=[],this.getChildren().forEach(C=>{T.children.push(C.toObject())}),T}isAncestorOf(T){for(var C=T.getParent();C;){if(C._id===this._id)return!0;C=C.getParent()}return!1}clone(T){var C=H.Node.prototype.clone.call(this,T);return this.getChildren().forEach(function(g){C.add(g.clone())}),C}getAllIntersections(T){var C=[];return this.find("Shape").forEach(function(g){g.isVisible()&&g.intersects(T)&&C.push(g)}),C}_clearSelfAndDescendantCache(T){var C;super._clearSelfAndDescendantCache(T),!this.isCached()&&(null===(C=this.children)||void 0===C||C.forEach(function(g){g._clearSelfAndDescendantCache(T)}))}_setChildrenIndices(){var T;null===(T=this.children)||void 0===T||T.forEach(function(C,g){C.index=g}),this._requestDraw()}drawScene(T,C){var g=this.getLayer(),y=T||g&&g.getCanvas(),D=y&&y.getContext(),S=this._getCanvasCache(),b=S&&S.scene,v=y&&y.isCache;if(!this.isVisible()&&!v)return this;if(b){D.save();var m=this.getAbsoluteTransform(C).getMatrix();D.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(D),D.restore()}else this._drawChildren("drawScene",y,C);return this}drawHit(T,C){if(!this.shouldDrawHit(C))return this;var g=this.getLayer(),y=T||g&&g.hitCanvas,D=y&&y.getContext(),S=this._getCanvasCache();if(S&&S.hit){D.save();var v=this.getAbsoluteTransform(C).getMatrix();D.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(D),D.restore()}else this._drawChildren("drawHit",y,C);return this}_drawChildren(T,C,g){var y,D=C&&C.getContext(),S=this.clipWidth(),b=this.clipHeight(),v=this.clipFunc(),m=S&&b||v;const p=g===this;if(m){D.save();var M=this.getAbsoluteTransform(g),w=M.getMatrix();let E;if(D.transform(w[0],w[1],w[2],w[3],w[4],w[5]),D.beginPath(),v)E=v.call(this,D,this);else{var B=this.clipX(),u=this.clipY();D.rect(B,u,S,b)}D.clip.apply(D,E),w=M.copy().invert().getMatrix(),D.transform(w[0],w[1],w[2],w[3],w[4],w[5])}var f=!p&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===T;f&&(D.save(),D._applyGlobalCompositeOperation(this)),null===(y=this.children)||void 0===y||y.forEach(function(E){E[T](C,g)}),f&&D.restore(),m&&D.restore()}getClientRect(T){var C,D,S,b,v,m,g=(T=T||{}).skipTransform,y=T.relativeTo,p=this;null===(C=this.children)||void 0===C||C.forEach(function(f){if(f.visible()){var E=f.getClientRect({relativeTo:p,skipShadow:T.skipShadow,skipStroke:T.skipStroke});0===E.width&&0===E.height||(void 0===D?(D=E.x,S=E.y,b=E.x+E.width,v=E.y+E.height):(D=Math.min(D,E.x),S=Math.min(S,E.y),b=Math.max(b,E.x+E.width),v=Math.max(v,E.y+E.height)))}});for(var M=this.find("Shape"),w=!1,B=0;B<M.length;B++)if(M[B]._isVisible(this)){w=!0;break}return m=w&&void 0!==D?{x:D,y:S,width:b-D,height:v-S}:{x:0,y:0,width:0,height:0},g?m:this._transformedRect(m,y)}}x.Container=q,N.Factory.addComponentsGetterSetter(q,"clip",["x","y","width","height"]),N.Factory.addGetterSetter(q,"clipX",void 0,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(q,"clipY",void 0,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(q,"clipWidth",void 0,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(q,"clipHeight",void 0,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(q,"clipFunc")},6480:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.HitContext=x.SceneContext=x.Context=void 0;const N=F(7675),H=F(3602);var b=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class p{constructor(u){this.canvas=u,H.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(u){u.fillEnabled()&&this._fill(u)}_fill(u){}strokeShape(u){u.hasStroke()&&this._stroke(u)}_stroke(u){}fillStrokeShape(u){u.attrs.fillAfterStrokeEnabled?(this.strokeShape(u),this.fillShape(u)):(this.fillShape(u),this.strokeShape(u))}getTrace(u,f){var j,G,O,U,E=this.traceArr,V=E.length,$="";for(j=0;j<V;j++)(O=(G=E[j]).method)?(U=G.args,$+=O,u?$+="()":N.Util._isArray(U[0])?$+="(["+U.join(",")+"])":(f&&(U=U.map(W=>"number"==typeof W?Math.floor(W):W)),$+="("+U.join(",")+")")):($+=G.property,u||($+="="+G.val)),$+=";";return $}clearTrace(){this.traceArr=[]}_trace(u){var f=this.traceArr;f.push(u),f.length>=100&&f.shift()}reset(){var u=this.getCanvas().getPixelRatio();this.setTransform(1*u,0,0,1*u,0,0)}getCanvas(){return this.canvas}clear(u){var f=this.getCanvas();u?this.clearRect(u.x||0,u.y||0,u.width||0,u.height||0):this.clearRect(0,0,f.getWidth()/f.pixelRatio,f.getHeight()/f.pixelRatio)}_applyLineCap(u){const f=u.attrs.lineCap;f&&this.setAttr("lineCap",f)}_applyOpacity(u){var f=u.getAbsoluteOpacity();1!==f&&this.setAttr("globalAlpha",f)}_applyLineJoin(u){const f=u.attrs.lineJoin;f&&this.setAttr("lineJoin",f)}setAttr(u,f){this._context[u]=f}arc(u,f,E,V,$,j){this._context.arc(u,f,E,V,$,j)}arcTo(u,f,E,V,$){this._context.arcTo(u,f,E,V,$)}beginPath(){this._context.beginPath()}bezierCurveTo(u,f,E,V,$,j){this._context.bezierCurveTo(u,f,E,V,$,j)}clearRect(u,f,E,V){this._context.clearRect(u,f,E,V)}clip(...u){this._context.clip.apply(this._context,u)}closePath(){this._context.closePath()}createImageData(u,f){var E=arguments;return 2===E.length?this._context.createImageData(u,f):1===E.length?this._context.createImageData(u):void 0}createLinearGradient(u,f,E,V){return this._context.createLinearGradient(u,f,E,V)}createPattern(u,f){return this._context.createPattern(u,f)}createRadialGradient(u,f,E,V,$,j){return this._context.createRadialGradient(u,f,E,V,$,j)}drawImage(u,f,E,V,$,j,G,O,U){var W=arguments,Q=this._context;3===W.length?Q.drawImage(u,f,E):5===W.length?Q.drawImage(u,f,E,V,$):9===W.length&&Q.drawImage(u,f,E,V,$,j,G,O,U)}ellipse(u,f,E,V,$,j,G,O){this._context.ellipse(u,f,E,V,$,j,G,O)}isPointInPath(u,f,E,V){return E?this._context.isPointInPath(E,u,f,V):this._context.isPointInPath(u,f,V)}fill(...u){this._context.fill.apply(this._context,u)}fillRect(u,f,E,V){this._context.fillRect(u,f,E,V)}strokeRect(u,f,E,V){this._context.strokeRect(u,f,E,V)}fillText(u,f,E,V){V?this._context.fillText(u,f,E,V):this._context.fillText(u,f,E)}measureText(u){return this._context.measureText(u)}getImageData(u,f,E,V){return this._context.getImageData(u,f,E,V)}lineTo(u,f){this._context.lineTo(u,f)}moveTo(u,f){this._context.moveTo(u,f)}rect(u,f,E,V){this._context.rect(u,f,E,V)}putImageData(u,f,E){this._context.putImageData(u,f,E)}quadraticCurveTo(u,f,E,V){this._context.quadraticCurveTo(u,f,E,V)}restore(){this._context.restore()}rotate(u){this._context.rotate(u)}save(){this._context.save()}scale(u,f){this._context.scale(u,f)}setLineDash(u){this._context.setLineDash?this._context.setLineDash(u):"mozDash"in this._context?this._context.mozDash=u:"webkitLineDash"in this._context&&(this._context.webkitLineDash=u)}getLineDash(){return this._context.getLineDash()}setTransform(u,f,E,V,$,j){this._context.setTransform(u,f,E,V,$,j)}stroke(u){u?this._context.stroke(u):this._context.stroke()}strokeText(u,f,E,V){this._context.strokeText(u,f,E,V)}transform(u,f,E,V,$,j){this._context.transform(u,f,E,V,$,j)}translate(u,f){this._context.translate(u,f)}_enableTrace(){var V,$,u=this,f=b.length,E=this.setAttr,j=function(G){var U,O=u[G];u[G]=function(){return $=function z(B){var V,$,u=[],f=B.length,E=N.Util;for(V=0;V<f;V++)E._isNumber($=B[V])?$=Math.round(1e3*$)/1e3:E._isString($)||($+=""),u.push($);return u}(Array.prototype.slice.call(arguments,0)),U=O.apply(u,arguments),u._trace({method:G,args:$}),U}};for(V=0;V<f;V++)j(b[V]);u.setAttr=function(){E.apply(u,arguments);var G=arguments[0],O=arguments[1];("shadowOffsetX"===G||"shadowOffsetY"===G||"shadowBlur"===G)&&(O/=this.canvas.getPixelRatio()),u._trace({property:G,val:O})}}_applyGlobalCompositeOperation(u){const f=u.attrs.globalCompositeOperation;!f||"source-over"===f||this.setAttr("globalCompositeOperation",f)}}x.Context=p,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(B){Object.defineProperty(p.prototype,B,{get(){return this._context[B]},set(u){this._context[B]=u}})}),x.SceneContext=class M extends p{constructor(u,{willReadFrequently:f=!1}={}){super(u),this._context=u._canvas.getContext("2d",{willReadFrequently:f})}_fillColor(u){var f=u.fill();this.setAttr("fillStyle",f),u._fillFunc(this)}_fillPattern(u){this.setAttr("fillStyle",u._getFillPattern()),u._fillFunc(this)}_fillLinearGradient(u){var f=u._getLinearGradient();f&&(this.setAttr("fillStyle",f),u._fillFunc(this))}_fillRadialGradient(u){const f=u._getRadialGradient();f&&(this.setAttr("fillStyle",f),u._fillFunc(this))}_fill(u){const f=u.fill(),E=u.getFillPriority();if(f&&"color"===E)return void this._fillColor(u);const V=u.getFillPatternImage();if(V&&"pattern"===E)return void this._fillPattern(u);const $=u.getFillLinearGradientColorStops();if($&&"linear-gradient"===E)return void this._fillLinearGradient(u);const j=u.getFillRadialGradientColorStops();j&&"radial-gradient"===E?this._fillRadialGradient(u):f?this._fillColor(u):V?this._fillPattern(u):$?this._fillLinearGradient(u):j&&this._fillRadialGradient(u)}_strokeLinearGradient(u){const f=u.getStrokeLinearGradientStartPoint(),E=u.getStrokeLinearGradientEndPoint(),V=u.getStrokeLinearGradientColorStops(),$=this.createLinearGradient(f.x,f.y,E.x,E.y);if(V){for(var j=0;j<V.length;j+=2)$.addColorStop(V[j],V[j+1]);this.setAttr("strokeStyle",$)}}_stroke(u){var f=u.dash(),E=u.getStrokeScaleEnabled();if(u.hasStroke()){if(!E){this.save();var V=this.getCanvas().getPixelRatio();this.setTransform(V,0,0,V,0,0)}this._applyLineCap(u),f&&u.dashEnabled()&&(this.setLineDash(f),this.setAttr("lineDashOffset",u.dashOffset())),this.setAttr("lineWidth",u.strokeWidth()),u.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),u.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(u):this.setAttr("strokeStyle",u.stroke()),u._strokeFunc(this),E||this.restore()}}_applyShadow(u){var f,E,V,$=null!==(f=u.getShadowRGBA())&&void 0!==f?f:"black",j=null!==(E=u.getShadowBlur())&&void 0!==E?E:5,G=null!==(V=u.getShadowOffset())&&void 0!==V?V:{x:0,y:0},O=u.getAbsoluteScale(),U=this.canvas.getPixelRatio(),W=O.x*U,Q=O.y*U;this.setAttr("shadowColor",$),this.setAttr("shadowBlur",j*Math.min(Math.abs(W),Math.abs(Q))),this.setAttr("shadowOffsetX",G.x*W),this.setAttr("shadowOffsetY",G.y*Q)}},x.HitContext=class w extends p{constructor(u){super(u),this._context=u._canvas.getContext("2d",{willReadFrequently:!0})}_fill(u){this.save(),this.setAttr("fillStyle",u.colorKey),u._fillFuncHit(this),this.restore()}strokeShape(u){u.hasHitStroke()&&this._stroke(u)}_stroke(u){if(u.hasHitStroke()){const $=u.getStrokeScaleEnabled();if(!$){this.save();var f=this.getCanvas().getPixelRatio();this.setTransform(f,0,0,f,0,0)}this._applyLineCap(u);var E=u.hitStrokeWidth(),V="auto"===E?u.strokeWidth():E;this.setAttr("lineWidth",V),this.setAttr("strokeStyle",u.colorKey),u._strokeFuncHit(this),$||this.restore()}}}},1009:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.DD=void 0;const N=F(3602),H=F(7675);x.DD={get isDragging(){var z=!1;return x.DD._dragElements.forEach(q=>{"dragging"===q.dragStatus&&(z=!0)}),z},justDragged:!1,get node(){var z;return x.DD._dragElements.forEach(q=>{z=q.node}),z},_dragElements:new Map,_drag(z){const q=[];x.DD._dragElements.forEach((k,T)=>{const{node:C}=k,g=C.getStage();g.setPointersPositions(z),void 0===k.pointerId&&(k.pointerId=H.Util._getFirstPointerId(z));const y=g._changedPointerPositions.find(b=>b.id===k.pointerId);if(y){if("dragging"!==k.dragStatus){var D=C.dragDistance();if(Math.max(Math.abs(y.x-k.startPointerPos.x),Math.abs(y.y-k.startPointerPos.y))<D||(C.startDrag({evt:z}),!C.isDragging()))return}C._setDragPosition(z,k),q.push(C)}}),q.forEach(k=>{k.fire("dragmove",{type:"dragmove",target:k,evt:z},!0)})},_endDragBefore(z){const q=[];x.DD._dragElements.forEach(k=>{const{node:T}=k,C=T.getStage();if(z&&C.setPointersPositions(z),!C._changedPointerPositions.find(D=>D.id===k.pointerId))return;("dragging"===k.dragStatus||"stopped"===k.dragStatus)&&(x.DD.justDragged=!0,N.Konva._mouseListenClick=!1,N.Konva._touchListenClick=!1,N.Konva._pointerListenClick=!1,k.dragStatus="stopped");const y=k.node.getLayer()||k.node instanceof N.Konva.Stage&&k.node;y&&-1===q.indexOf(y)&&q.push(y)}),q.forEach(k=>{k.draw()})},_endDragAfter(z){x.DD._dragElements.forEach((q,k)=>{"stopped"===q.dragStatus&&q.node.fire("dragend",{type:"dragend",target:q.node,evt:z},!0),"dragging"!==q.dragStatus&&x.DD._dragElements.delete(k)})}},N.Konva.isBrowser&&(window.addEventListener("mouseup",x.DD._endDragBefore,!0),window.addEventListener("touchend",x.DD._endDragBefore,!0),window.addEventListener("mousemove",x.DD._drag),window.addEventListener("touchmove",x.DD._drag),window.addEventListener("mouseup",x.DD._endDragAfter,!1),window.addEventListener("touchend",x.DD._endDragAfter,!1))},4362:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Factory=void 0;const N=F(7675),H=F(5340);var z="get",q="set";x.Factory={addGetterSetter(k,T,C,g,y){x.Factory.addGetter(k,T,C),x.Factory.addSetter(k,T,g,y),x.Factory.addOverloadedGetterSetter(k,T)},addGetter(k,T,C){var g=z+N.Util._capitalize(T);k.prototype[g]=k.prototype[g]||function(){var y=this.attrs[T];return void 0===y?C:y}},addSetter(k,T,C,g){var y=q+N.Util._capitalize(T);k.prototype[y]||x.Factory.overWriteSetter(k,T,C,g)},overWriteSetter(k,T,C,g){var y=q+N.Util._capitalize(T);k.prototype[y]=function(D){return C&&null!=D&&(D=C.call(this,D,T)),this._setAttr(T,D),g&&g.call(this),this}},addComponentsGetterSetter(k,T,C,g,y){var m,p,D=C.length,S=N.Util._capitalize,b=z+S(T),v=q+S(T);k.prototype[b]=function(){var w={};for(m=0;m<D;m++)w[p=C[m]]=this.getAttr(T+S(p));return w};var M=(0,H.getComponentValidator)(C);k.prototype[v]=function(w){var u,B=this.attrs[T];for(u in g&&(w=g.call(this,w)),M&&M.call(this,w,T),w)w.hasOwnProperty(u)&&this._setAttr(T+S(u),w[u]);return w||C.forEach(f=>{this._setAttr(T+S(f),void 0)}),this._fireChangeEvent(T,B,w),y&&y.call(this),this},x.Factory.addOverloadedGetterSetter(k,T)},addOverloadedGetterSetter(k,T){var C=N.Util._capitalize(T),g=q+C,y=z+C;k.prototype[T]=function(){return arguments.length?(this[g](arguments[0]),this):this[y]()}},addDeprecatedGetterSetter(k,T,C,g){N.Util.error("Adding deprecated "+T);var y=z+N.Util._capitalize(T),D=T+" property is deprecated and will be removed soon. Look at Konva change log for more information.";k.prototype[y]=function(){N.Util.error(D);var S=this.attrs[T];return void 0===S?C:S},x.Factory.addSetter(k,T,g,function(){N.Util.error(D)}),x.Factory.addOverloadedGetterSetter(k,T)},backCompat(k,T){N.Util.each(T,function(C,g){var y=k.prototype[g],D=z+N.Util._capitalize(C),S=q+N.Util._capitalize(C);function b(){y.apply(this,arguments),N.Util.error('"'+C+'" method is deprecated and will be removed soon. Use ""'+g+'" instead.')}k.prototype[C]=b,k.prototype[D]=b,k.prototype[S]=b})},afterSetFilter(){this._filterUpToDate=!1}}},9376:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FastLayer=void 0;const N=F(7675),H=F(8729),z=F(3602);class q extends H.Layer{constructor(T){super(T),this.listening(!1),N.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}x.FastLayer=q,q.prototype.nodeType="FastLayer",(0,z._registerNode)(q)},3602:(Se,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x._registerNode=x.Konva=x.glob=void 0;var F=Math.PI/180;x.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},x.Konva={_global:x.glob,version:"9.2.0",isBrowser:function N(){return typeof window<"u"&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window))}(),isUnminified:/param/.test(function(z){}.toString()),dblClickWindow:400,getAngle:z=>x.Konva.angleDeg?z*F:z,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>x.Konva.DD.isDragging,isDragReady:()=>!!x.Konva.DD.node,releaseCanvasOnDestroy:!0,document:x.glob.document,_injectGlobal(z){x.glob.Konva=z}},x._registerNode=z=>{x.Konva[z.prototype.getClassName()]=z},x.Konva._injectGlobal(x.Konva)},1298:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Group=void 0;const N=F(7675),H=F(6221),z=F(3602);class q extends H.Container{_validateAdd(T){var C=T.getType();"Group"!==C&&"Shape"!==C&&N.Util.throw("You may only add groups and shapes to groups.")}}x.Group=q,q.prototype.nodeType="Group",(0,z._registerNode)(q)},8729:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Layer=void 0;const N=F(7675),H=F(6221),z=F(1272),q=F(4362),k=F(4091),T=F(5340),C=F(7293),g=F(3602);var b=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],v=b.length;class m extends H.Container{constructor(M){super(M),this.canvas=new k.SceneCanvas,this.hitCanvas=new k.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(M){return this.getContext().clear(M),this.getHitCanvas().getContext().clear(M),this}setZIndex(M){super.setZIndex(M);var w=this.getStage();return w&&w.content&&(w.content.removeChild(this.getNativeCanvasElement()),M<w.children.length-1?w.content.insertBefore(this.getNativeCanvasElement(),w.children[M+1].getCanvas()._canvas):w.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){z.Node.prototype.moveToTop.call(this);var M=this.getStage();return M&&M.content&&(M.content.removeChild(this.getNativeCanvasElement()),M.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!z.Node.prototype.moveUp.call(this))return!1;var w=this.getStage();return!(!w||!w.content||(w.content.removeChild(this.getNativeCanvasElement()),this.index<w.children.length-1?w.content.insertBefore(this.getNativeCanvasElement(),w.children[this.index+1].getCanvas()._canvas):w.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(z.Node.prototype.moveDown.call(this)){var M=this.getStage();if(M){var w=M.children;M.content&&(M.content.removeChild(this.getNativeCanvasElement()),M.content.insertBefore(this.getNativeCanvasElement(),w[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(z.Node.prototype.moveToBottom.call(this)){var M=this.getStage();if(M){var w=M.children;M.content&&(M.content.removeChild(this.getNativeCanvasElement()),M.content.insertBefore(this.getNativeCanvasElement(),w[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var M=this.getNativeCanvasElement();return z.Node.prototype.remove.call(this),M&&M.parentNode&&N.Util._isInDocument(M)&&M.parentNode.removeChild(M),this}getStage(){return this.parent}setSize({width:M,height:w}){return this.canvas.setSize(M,w),this.hitCanvas.setSize(M,w),this._setSmoothEnabled(),this}_validateAdd(M){var w=M.getType();"Group"!==w&&"Shape"!==w&&N.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(M){return(M=M||{}).width=M.width||this.getWidth(),M.height=M.height||this.getHeight(),M.x=void 0!==M.x?M.x:this.x(),M.y=void 0!==M.y?M.y:this.y(),z.Node.prototype._toKonvaCanvas.call(this,M)}_checkVisibility(){this.canvas._canvas.style.display=this.visible()?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){N.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){N.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,N.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(M){if(!this.isListening()||!this.isVisible())return null;for(var w=1,B=!1;;){for(let u=0;u<v;u++){const f=b[u],E=this._getIntersection({x:M.x+f.x*w,y:M.y+f.y*w}),V=E.shape;if(V)return V;if(B=!!E.antialiased,!E.antialiased)break}if(!B)return null;w+=1}}_getIntersection(M){const w=this.hitCanvas.pixelRatio,B=this.hitCanvas.context.getImageData(Math.round(M.x*w),Math.round(M.y*w),1,1).data,u=B[3];if(255===u){const f=N.Util._rgbToHex(B[0],B[1],B[2]),E=C.shapes["#"+f];return E?{shape:E}:{antialiased:!0}}return u>0?{antialiased:!0}:{}}drawScene(M,w){var B=this.getLayer(),u=M||B&&B.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&u.getContext().clear(),H.Container.prototype.drawScene.call(this,u,w),this._fire("draw",{node:this}),this}drawHit(M,w){var B=this.getLayer(),u=M||B&&B.hitCanvas;return B&&B.clearBeforeDraw()&&B.getHitCanvas().getContext().clear(),H.Container.prototype.drawHit.call(this,u,w),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(M){N.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(M)}getHitGraphEnabled(M){return N.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var M=this.parent;this.hitCanvas._canvas.parentNode?M.content.removeChild(this.hitCanvas._canvas):M.content.appendChild(this.hitCanvas._canvas)}}destroy(){return N.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}x.Layer=m,m.prototype.nodeType="Layer",(0,g._registerNode)(m),q.Factory.addGetterSetter(m,"imageSmoothingEnabled",!0),q.Factory.addGetterSetter(m,"clearBeforeDraw",!0),q.Factory.addGetterSetter(m,"hitGraphEnabled",!0,(0,T.getBooleanValidator)())},1272:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Node=void 0;const N=F(7675),H=F(4362),z=F(4091),q=F(3602),k=F(1009),T=F(5340);var C="absoluteOpacity",g="allEventListeners",y="absoluteTransform",D="absoluteScale",S="canvas",p="listening",M="mouseenter",w="mouseleave",f="Shape",E=" ",V="stage",$="transform",G="visible",O=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(E);let U=1;class W{constructor(_){this._id=U++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(_),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(_){_!==$&&_!==y||!this._cache.get(_)?_?this._cache.delete(_):this._cache.clear():this._cache.get(_).dirty=!0}_getCache(_,R){var P=this._cache.get(_);return(void 0===P||(_===$||_===y)&&!0===P.dirty)&&(P=R.call(this),this._cache.set(_,P)),P}_calculate(_,R,P){if(!this._attachedDepsListeners.get(_)){const Y=R.map(X=>X+"Change.konva").join(E);this.on(Y,()=>{this._clearCache(_)}),this._attachedDepsListeners.set(_,!0)}return this._getCache(_,P)}_getCanvasCache(){return this._cache.get(S)}_clearSelfAndDescendantCache(_){this._clearCache(_),_===y&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(S)){const{scene:_,filter:R,hit:P}=this._cache.get(S);N.Util.releaseCanvas(_,R,P),this._cache.delete(S)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(_){var R=_||{},P={};(void 0===R.x||void 0===R.y||void 0===R.width||void 0===R.height)&&(P=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var Y=Math.ceil(R.width||P.width),X=Math.ceil(R.height||P.height),te=R.pixelRatio,ne=void 0===R.x?Math.floor(P.x):R.x,he=void 0===R.y?Math.floor(P.y):R.y,pe=R.offset||0,ce=R.drawBorder||!1,Me=R.hitCanvasPixelRatio||1;if(Y&&X){ne-=pe,he-=pe;var ve=new z.SceneCanvas({pixelRatio:te,width:Y+=2*pe+1,height:X+=2*pe+1}),J=new z.SceneCanvas({pixelRatio:te,width:0,height:0,willReadFrequently:!0}),ue=new z.HitCanvas({pixelRatio:Me,width:Y,height:X}),se=ve.getContext(),De=ue.getContext();return ue.isCache=!0,ve.isCache=!0,this._cache.delete(S),this._filterUpToDate=!1,!1===R.imageSmoothingEnabled&&(ve.getContext()._context.imageSmoothingEnabled=!1,J.getContext()._context.imageSmoothingEnabled=!1),se.save(),De.save(),se.translate(-ne,-he),De.translate(-ne,-he),this._isUnderCache=!0,this._clearSelfAndDescendantCache(C),this._clearSelfAndDescendantCache(D),this.drawScene(ve,this),this.drawHit(ue,this),this._isUnderCache=!1,se.restore(),De.restore(),ce&&(se.save(),se.beginPath(),se.rect(0,0,Y,X),se.closePath(),se.setAttr("strokeStyle","red"),se.setAttr("lineWidth",5),se.stroke(),se.restore()),this._cache.set(S,{scene:ve,filter:J,hit:ue,x:ne,y:he}),this._requestDraw(),this}N.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(S)}getClientRect(_){throw new Error('abstract "getClientRect" method call')}_transformedRect(_,R){var Y,X,te,ne,P=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x+_.width,y:_.y+_.height},{x:_.x,y:_.y+_.height}],he=this.getAbsoluteTransform(R);return P.forEach(function(pe){var ce=he.point(pe);void 0===Y&&(Y=te=ce.x,X=ne=ce.y),Y=Math.min(Y,ce.x),X=Math.min(X,ce.y),te=Math.max(te,ce.x),ne=Math.max(ne,ce.y)}),{x:Y,y:X,width:te-Y,height:ne-X}}_drawCachedSceneCanvas(_){_.save(),_._applyOpacity(this),_._applyGlobalCompositeOperation(this);const R=this._getCanvasCache();_.translate(R.x,R.y);var P=this._getCachedSceneCanvas(),Y=P.pixelRatio;_.drawImage(P._canvas,0,0,P.width/Y,P.height/Y),_.restore()}_drawCachedHitCanvas(_){var R=this._getCanvasCache(),P=R.hit;_.save(),_.translate(R.x,R.y),_.drawImage(P._canvas,0,0,P.width/P.pixelRatio,P.height/P.pixelRatio),_.restore()}_getCachedSceneCanvas(){var te,ne,he,pe,_=this.filters(),R=this._getCanvasCache(),P=R.scene,Y=R.filter,X=Y.getContext();if(_){if(!this._filterUpToDate){var ce=P.pixelRatio;Y.setSize(P.width/P.pixelRatio,P.height/P.pixelRatio);try{for(te=_.length,X.clear(),X.drawImage(P._canvas,0,0,P.getWidth()/ce,P.getHeight()/ce),ne=X.getImageData(0,0,Y.getWidth(),Y.getHeight()),he=0;he<te;he++)"function"==typeof(pe=_[he])?(pe.call(this,ne),X.putImageData(ne,0,0)):N.Util.error("Filter should be type of function, but got "+typeof pe+" instead. Please check correct filters")}catch(Me){N.Util.error("Unable to apply filter. "+Me.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return Y}return P}on(_,R){if(this._cache&&this._cache.delete(g),3===arguments.length)return this._delegate.apply(this,arguments);var X,ne,he,pe,P=_.split(E),Y=P.length;for(X=0;X<Y;X++)pe=(ne=P[X].split("."))[1]||"",this.eventListeners[he=ne[0]]||(this.eventListeners[he]=[]),this.eventListeners[he].push({name:pe,handler:R});return this}off(_,R){var X,te,he,pe,ce,P=(_||"").split(E),Y=P.length;if(this._cache&&this._cache.delete(g),!_)for(te in this.eventListeners)this._off(te);for(X=0;X<Y;X++)if(ce=(he=P[X].split("."))[1],pe=he[0])this.eventListeners[pe]&&this._off(pe,ce,R);else for(te in this.eventListeners)this._off(te,ce,R);return this}dispatchEvent(_){return this.fire(_.type,{target:this,type:_.type,evt:_}),this}addEventListener(_,R){return this.on(_,function(P){R.call(this,P.evt)}),this}removeEventListener(_){return this.off(_),this}_delegate(_,R,P){var Y=this;this.on(_,function(X){for(var te=X.target.findAncestors(R,!0,Y),ne=0;ne<te.length;ne++)(X=N.Util.cloneObject(X)).currentTarget=te[ne],P.call(te[ne],X)})}remove(){return this.isDragging()&&this.stopDrag(),k.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(C),this._clearSelfAndDescendantCache(D),this._clearSelfAndDescendantCache(V),this._clearSelfAndDescendantCache(G),this._clearSelfAndDescendantCache(p)}_remove(){this._clearCaches();var _=this.getParent();_&&_.children&&(_.children.splice(this.index,1),_._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(_){var R="get"+N.Util._capitalize(_);return N.Util._isFunction(this[R])?this[R]():this.attrs[_]}getAncestors(){for(var _=this.getParent(),R=[];_;)R.push(_),_=_.getParent();return R}getAttrs(){return this.attrs||{}}setAttrs(_){return this._batchTransformChanges(()=>{var R,P;if(!_)return this;for(R in _)"children"!==R&&(P="set"+N.Util._capitalize(R),N.Util._isFunction(this[P])?this[P](_[R]):this._setAttr(R,_[R]))}),this}isListening(){return this._getCache(p,this._isListening)}_isListening(_){if(!this.listening())return!1;const P=this.getParent();return!P||P===_||this===_||P._isListening(_)}isVisible(){return this._getCache(G,this._isVisible)}_isVisible(_){if(!this.visible())return!1;const P=this.getParent();return!P||P===_||this===_||P._isVisible(_)}shouldDrawHit(_,R=!1){if(_)return this._isVisible(_)&&this._isListening(_);var P=this.getLayer(),Y=!1;k.DD._dragElements.forEach(te=>{"dragging"===te.dragStatus&&("Stage"===te.node.nodeType||te.node.getLayer()===P)&&(Y=!0)});var X=!R&&!q.Konva.hitOnDragEnabled&&Y;return this.isListening()&&this.isVisible()&&!X}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var Y,X,te,ne,_=this.getDepth(),R=this,P=0;return"Stage"!==R.nodeType&&function he(pe){for(Y=[],X=pe.length,te=0;te<X;te++)P++,(ne=pe[te]).nodeType!==f&&(Y=Y.concat(ne.getChildren().slice())),ne._id===R._id&&(te=X);Y.length>0&&Y[0].getDepth()<=_&&he(Y)}(R.getStage().getChildren()),P}getDepth(){for(var _=0,R=this.parent;R;)_++,R=R.parent;return _}_batchTransformChanges(_){this._batchingTransformChange=!0,_(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache($),this._clearSelfAndDescendantCache(y)),this._needClearTransformCache=!1}setPosition(_){return this._batchTransformChanges(()=>{this.x(_.x),this.y(_.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var _=this.getStage().getPointerPosition();if(!_)return null;var R=this.getAbsoluteTransform().copy();return R.invert(),R.point(_)}getAbsolutePosition(_){let R=!1,P=this.parent;for(;P;){if(P.isCached()){R=!0;break}P=P.parent}R&&!_&&(_=!0);var Y=this.getAbsoluteTransform(_).getMatrix(),X=new N.Transform,te=this.offset();return X.m=Y.slice(),X.translate(te.x,te.y),X.getTranslation()}setAbsolutePosition(_){var R=this._clearTransform();this.attrs.x=R.x,this.attrs.y=R.y,delete R.x,delete R.y,this._clearCache($);var P=this._getAbsoluteTransform().copy();return P.invert(),P.translate(_.x,_.y),_={x:this.attrs.x+P.getTranslation().x,y:this.attrs.y+P.getTranslation().y},this._setTransform(R),this.setPosition({x:_.x,y:_.y}),this._clearCache($),this._clearSelfAndDescendantCache(y),this}_setTransform(_){var R;for(R in _)this.attrs[R]=_[R]}_clearTransform(){var _={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,_}move(_){var R=_.x,P=_.y,Y=this.x(),X=this.y();return void 0!==R&&(Y+=R),void 0!==P&&(X+=P),this.setPosition({x:Y,y:X}),this}_eachAncestorReverse(_,R){var X,te,P=[],Y=this.getParent();if(!R||R._id!==this._id){for(P.unshift(this);Y&&(!R||Y._id!==R._id);)P.unshift(Y),Y=Y.parent;for(X=P.length,te=0;te<X;te++)_(P[te])}}rotate(_){return this.rotation(this.rotation()+_),this}moveToTop(){if(!this.parent)return N.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var _=this.index;return _<this.parent.getChildren().length-1&&(this.parent.children.splice(_,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return N.Util.warn("Node has no parent. moveUp function is ignored."),!1;var _=this.index;return _<this.parent.getChildren().length-1&&(this.parent.children.splice(_,1),this.parent.children.splice(_+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return N.Util.warn("Node has no parent. moveDown function is ignored."),!1;var _=this.index;return _>0&&(this.parent.children.splice(_,1),this.parent.children.splice(_-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return N.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var _=this.index;return _>0&&(this.parent.children.splice(_,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(_){return this.parent?((_<0||_>=this.parent.children.length)&&N.Util.warn("Unexpected value "+_+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+"."),this.parent.children.splice(this.index,1),this.parent.children.splice(_,0,this),this.parent._setChildrenIndices(),this):(N.Util.warn("Node has no parent. zIndex parameter is ignored."),this)}getAbsoluteOpacity(){return this._getCache(C,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var _=this.opacity(),R=this.getParent();return R&&!R._isUnderCache&&(_*=R.getAbsoluteOpacity()),_}moveTo(_){return this.getParent()!==_&&(this._remove(),_.add(this)),this}toObject(){var P,Y,X,te,_={},R=this.getAttrs();for(P in _.attrs={},R)(!N.Util.isObject(Y=R[P])||N.Util._isPlainObject(Y)||N.Util._isArray(Y))&&(X="function"==typeof this[P]&&this[P],delete R[P],te=X?X.call(this):null,R[P]=Y,te!==Y&&(_.attrs[P]=Y));return _.className=this.getClassName(),N.Util._prepareToStringify(_)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(_,R,P){var Y=[];R&&this._isMatch(_)&&Y.push(this);for(var X=this.parent;X;){if(X===P)return Y;X._isMatch(_)&&Y.push(X),X=X.parent}return Y}isAncestorOf(_){return!1}findAncestor(_,R,P){return this.findAncestors(_,R,P)[0]}_isMatch(_){if(!_)return!1;if("function"==typeof _)return _(this);var Y,X,R=_.replace(/ /g,"").split(","),P=R.length;for(Y=0;Y<P;Y++)if(N.Util.isValidSelector(X=R[Y])||(N.Util.warn('Selector "'+X+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),N.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),N.Util.warn("Konva is awesome, right?")),"#"===X.charAt(0)){if(this.id()===X.slice(1))return!0}else if("."===X.charAt(0)){if(this.hasName(X.slice(1)))return!0}else if(this.className===X||this.nodeType===X)return!0;return!1}getLayer(){var _=this.getParent();return _?_.getLayer():null}getStage(){return this._getCache(V,this._getStage)}_getStage(){var _=this.getParent();if(_)return _.getStage()}fire(_,R={},P){return R.target=R.target||this,P?this._fireAndBubble(_,R):this._fire(_,R),this}getAbsoluteTransform(_){return _?this._getAbsoluteTransform(_):this._getCache(y,this._getAbsoluteTransform)}_getAbsoluteTransform(_){var R;if(_)return R=new N.Transform,this._eachAncestorReverse(function(Y){var X=Y.transformsEnabled();"all"===X?R.multiply(Y.getTransform()):"position"===X&&R.translate(Y.x()-Y.offsetX(),Y.y()-Y.offsetY())},_),R;R=this._cache.get(y)||new N.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(R):R.reset();var P=this.transformsEnabled();return"all"===P?R.multiply(this.getTransform()):"position"===P&&R.translate((this.attrs.x||0)-(this.attrs.offsetX||0),(this.attrs.y||0)-(this.attrs.offsetY||0)),R.dirty=!1,R}getAbsoluteScale(_){for(var R=this;R;)R._isUnderCache&&(_=R),R=R.getParent();const Y=this.getAbsoluteTransform(_).decompose();return{x:Y.scaleX,y:Y.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache($,this._getTransform)}_getTransform(){var _,R,P=this._cache.get($)||new N.Transform;P.reset();var Y=this.x(),X=this.y(),te=q.Konva.getAngle(this.rotation()),ne=null!==(_=this.attrs.scaleX)&&void 0!==_?_:1,he=null!==(R=this.attrs.scaleY)&&void 0!==R?R:1,pe=this.attrs.skewX||0,ce=this.attrs.skewY||0,Me=this.attrs.offsetX||0,ve=this.attrs.offsetY||0;return(0!==Y||0!==X)&&P.translate(Y,X),0!==te&&P.rotate(te),(0!==pe||0!==ce)&&P.skew(pe,ce),(1!==ne||1!==he)&&P.scale(ne,he),(0!==Me||0!==ve)&&P.translate(-1*Me,-1*ve),P.dirty=!1,P}clone(_){var P,Y,X,te,ne,R=N.Util.cloneObject(this.attrs);for(P in _)R[P]=_[P];var he=new this.constructor(R);for(P in this.eventListeners)for(X=(Y=this.eventListeners[P]).length,te=0;te<X;te++)(ne=Y[te]).name.indexOf("konva")<0&&(he.eventListeners[P]||(he.eventListeners[P]=[]),he.eventListeners[P].push(ne));return he}_toKonvaCanvas(_){_=_||{};var R=this.getClientRect(),P=this.getStage(),Y=void 0!==_.x?_.x:Math.floor(R.x),X=void 0!==_.y?_.y:Math.floor(R.y),te=_.pixelRatio||1,ne=new z.SceneCanvas({width:_.width||Math.ceil(R.width)||(P?P.width():0),height:_.height||Math.ceil(R.height)||(P?P.height():0),pixelRatio:te}),he=ne.getContext();return!1===_.imageSmoothingEnabled&&(he._context.imageSmoothingEnabled=!1),he.save(),(Y||X)&&he.translate(-1*Y,-1*X),this.drawScene(ne),he.restore(),ne}toCanvas(_){return this._toKonvaCanvas(_)._canvas}toDataURL(_){var R=(_=_||{}).mimeType||null,P=_.quality||null,Y=this._toKonvaCanvas(_).toDataURL(R,P);return _.callback&&_.callback(Y),Y}toImage(_){return new Promise((R,P)=>{try{const Y=_?.callback;Y&&delete _.callback,N.Util._urlToImage(this.toDataURL(_),function(X){R(X),Y?.(X)})}catch(Y){P(Y)}})}toBlob(_){return new Promise((R,P)=>{try{const Y=_?.callback;Y&&delete _.callback,this.toCanvas(_).toBlob(X=>{R(X),Y?.(X)})}catch(Y){P(Y)}})}setSize(_){return this.width(_.width),this.height(_.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():q.Konva.dragDistance}_off(_,R,P){var X,te,Y=this.eventListeners[_];for(X=0;X<Y.length;X++)if(!("konva"===(te=Y[X].name)&&"konva"!==R||R&&te!==R||P&&P!==Y[X].handler)){if(Y.splice(X,1),0===Y.length){delete this.eventListeners[_];break}X--}}_fireChangeEvent(_,R,P){this._fire(_+"Change",{oldVal:R,newVal:P})}addName(_){if(!this.hasName(_)){var R=this.name();this.name(R?R+" "+_:_)}return this}hasName(_){if(!_)return!1;const R=this.name();return!!R&&-1!==(R||"").split(/\s/g).indexOf(_)}removeName(_){var R=(this.name()||"").split(/\s/g),P=R.indexOf(_);return-1!==P&&(R.splice(P,1),this.name(R.join(" "))),this}setAttr(_,R){var P=this["set"+N.Util._capitalize(_)];return N.Util._isFunction(P)?P.call(this,R):this._setAttr(_,R),this}_requestDraw(){if(q.Konva.autoDrawEnabled){const _=this.getLayer()||this.getStage();_?.batchDraw()}}_setAttr(_,R){var P=this.attrs[_];P===R&&!N.Util.isObject(R)||(null==R?delete this.attrs[_]:this.attrs[_]=R,this._shouldFireChangeEvents&&this._fireChangeEvent(_,P,R),this._requestDraw())}_setComponentAttr(_,R,P){var Y;void 0!==P&&((Y=this.attrs[_])||(this.attrs[_]=this.getAttr(_)),this.attrs[_][R]=P,this._fireChangeEvent(_,Y,P))}_fireAndBubble(_,R,P){if(R&&this.nodeType===f&&(R.target=this),_!==M&&_!==w||!(P&&(this===P||this.isAncestorOf&&this.isAncestorOf(P))||"Stage"===this.nodeType&&!P)){this._fire(_,R);var X=(_===M||_===w)&&P&&P.isAncestorOf&&P.isAncestorOf(this)&&!P.isAncestorOf(this.parent);(R&&!R.cancelBubble||!R)&&this.parent&&this.parent.isListening()&&!X&&(P&&P.parent?this._fireAndBubble.call(this.parent,_,R,P):this._fireAndBubble.call(this.parent,_,R))}}_getProtoListeners(_){var R,P,Y;const X=null!==(R=this._cache.get(g))&&void 0!==R?R:{};let te=X?.[_];if(void 0===te){te=[];let ne=Object.getPrototypeOf(this);for(;ne;){const he=null!==(Y=null===(P=ne.eventListeners)||void 0===P?void 0:P[_])&&void 0!==Y?Y:[];te.push(...he),ne=Object.getPrototypeOf(ne)}X[_]=te,this._cache.set(g,X)}return te}_fire(_,R){(R=R||{}).currentTarget=this,R.type=_;const P=this._getProtoListeners(_);if(P)for(var Y=0;Y<P.length;Y++)P[Y].handler.call(this,R);const X=this.eventListeners[_];if(X)for(Y=0;Y<X.length;Y++)X[Y].handler.call(this,R)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(_){var R=_?_.pointerId:void 0,P=this.getStage(),Y=this.getAbsolutePosition(),X=P._getPointerById(R)||P._changedPointerPositions[0]||Y;k.DD._dragElements.set(this._id,{node:this,startPointerPos:X,offset:{x:X.x-Y.x,y:X.y-Y.y},dragStatus:"ready",pointerId:R})}startDrag(_,R=!0){k.DD._dragElements.has(this._id)||this._createDragElement(_),k.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:_&&_.evt},R)}_setDragPosition(_,R){const P=this.getStage()._getPointerById(R.pointerId);if(P){var Y={x:P.x-R.offset.x,y:P.y-R.offset.y},X=this.dragBoundFunc();if(void 0!==X){const te=X.call(this,Y,_);te?Y=te:N.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==Y.x||this._lastPos.y!==Y.y)&&(this.setAbsolutePosition(Y),this._requestDraw()),this._lastPos=Y}}stopDrag(_){const R=k.DD._dragElements.get(this._id);R&&(R.dragStatus="stopped"),k.DD._endDragBefore(_),k.DD._endDragAfter(_)}setDraggable(_){this._setAttr("draggable",_),this._dragChange()}isDragging(){const _=k.DD._dragElements.get(this._id);return!!_&&"dragging"===_.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(_){if((void 0===_.evt.button||q.Konva.dragButtons.indexOf(_.evt.button)>=0)&&!this.isDragging()){var Y=!1;k.DD._dragElements.forEach(X=>{this.isAncestorOf(X.node)&&(Y=!0)}),Y||this._createDragElement(_)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const R=k.DD._dragElements.get(this._id),Y=R&&"ready"===R.dragStatus;R&&"dragging"===R.dragStatus?this.stopDrag():Y&&k.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(_={x:0,y:0}){const R=this.getStage();if(!R)return!1;const P={x:-_.x,y:-_.y,width:R.width()+2*_.x,height:R.height()+2*_.y};return N.Util.haveIntersection(P,this.getClientRect())}static create(_,R){return N.Util._isString(_)&&(_=JSON.parse(_)),this._createNode(_,R)}static _createNode(_,R){var X,te,ne,P=W.prototype.getClassName.call(_),Y=_.children;if(R&&(_.attrs.container=R),q.Konva[P]||(N.Util.warn('Can not find a node with class name "'+P+'". Fallback to "Shape".'),P="Shape"),X=new(0,q.Konva[P])(_.attrs),Y)for(te=Y.length,ne=0;ne<te;ne++)X.add(W._createNode(Y[ne]));return X}}x.Node=W,W.prototype.nodeType="Node",W.prototype._attrsAffectingSize=[],W.prototype.eventListeners={},W.prototype.on.call(W.prototype,O,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache($),this._clearSelfAndDescendantCache(y))}),W.prototype.on.call(W.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(G)}),W.prototype.on.call(W.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(p)}),W.prototype.on.call(W.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(C)});const Q=H.Factory.addGetterSetter;Q(W,"zIndex"),Q(W,"absolutePosition"),Q(W,"position"),Q(W,"x",0,(0,T.getNumberValidator)()),Q(W,"y",0,(0,T.getNumberValidator)()),Q(W,"globalCompositeOperation","source-over",(0,T.getStringValidator)()),Q(W,"opacity",1,(0,T.getNumberValidator)()),Q(W,"name","",(0,T.getStringValidator)()),Q(W,"id","",(0,T.getStringValidator)()),Q(W,"rotation",0,(0,T.getNumberValidator)()),H.Factory.addComponentsGetterSetter(W,"scale",["x","y"]),Q(W,"scaleX",1,(0,T.getNumberValidator)()),Q(W,"scaleY",1,(0,T.getNumberValidator)()),H.Factory.addComponentsGetterSetter(W,"skew",["x","y"]),Q(W,"skewX",0,(0,T.getNumberValidator)()),Q(W,"skewY",0,(0,T.getNumberValidator)()),H.Factory.addComponentsGetterSetter(W,"offset",["x","y"]),Q(W,"offsetX",0,(0,T.getNumberValidator)()),Q(W,"offsetY",0,(0,T.getNumberValidator)()),Q(W,"dragDistance",null,(0,T.getNumberValidator)()),Q(W,"width",0,(0,T.getNumberValidator)()),Q(W,"height",0,(0,T.getNumberValidator)()),Q(W,"listening",!0,(0,T.getBooleanValidator)()),Q(W,"preventDefault",!0,(0,T.getBooleanValidator)()),Q(W,"filters",null,function(re){return this._filterUpToDate=!1,re}),Q(W,"visible",!0,(0,T.getBooleanValidator)()),Q(W,"transformsEnabled","all",(0,T.getStringValidator)()),Q(W,"size"),Q(W,"dragBoundFunc"),Q(W,"draggable",!1,(0,T.getBooleanValidator)()),H.Factory.backCompat(W,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},7209:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.releaseCapture=x.setPointerCapture=x.hasPointerCapture=x.createEvent=x.getCapturedShape=void 0;const N=F(3602),H=new Map,z=void 0!==N.Konva._global.PointerEvent;function k(y){return{evt:y,pointerId:y.pointerId}}function g(y,D){const S=H.get(y);S&&(S.getStage(),H.delete(y),z&&S._fire("lostpointercapture",k(new PointerEvent("lostpointercapture"))))}x.getCapturedShape=function q(y){return H.get(y)},x.createEvent=k,x.hasPointerCapture=function T(y,D){return H.get(y)===D},x.setPointerCapture=function C(y,D){g(y),D.getStage()&&(H.set(y,D),z&&D._fire("gotpointercapture",k(new PointerEvent("gotpointercapture"))))},x.releaseCapture=g},7293:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Shape=x.shapes=void 0;const N=F(3602),H=F(7675),z=F(4362),q=F(1272),k=F(5340),T=F(3602),C=F(7209);var g="hasShadow",y="shadowRGBA",D="patternImage",S="linearGradient",b="radialGradient";let v;function m(){return v||(v=H.Util.createCanvasElement().getContext("2d"),v)}x.shapes={};class j extends q.Node{constructor(O){let U;for(super(O);U=H.Util.getRandomColor(),!U||U in x.shapes;);this.colorKey=U,x.shapes[U]=this}getContext(){return H.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return H.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(g,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(D,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const U=m().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(U&&U.setTransform){const W=new H.Transform;W.translate(this.fillPatternX(),this.fillPatternY()),W.rotate(N.Konva.getAngle(this.fillPatternRotation())),W.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),W.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const Q=W.getMatrix(),re=typeof DOMMatrix>"u"?{a:Q[0],b:Q[1],c:Q[2],d:Q[3],e:Q[4],f:Q[5]}:new DOMMatrix(Q);U.setTransform(re)}return U}}_getLinearGradient(){return this._getCache(S,this.__getLinearGradient)}__getLinearGradient(){var O=this.fillLinearGradientColorStops();if(O){for(var U=m(),W=this.fillLinearGradientStartPoint(),Q=this.fillLinearGradientEndPoint(),re=U.createLinearGradient(W.x,W.y,Q.x,Q.y),_=0;_<O.length;_+=2)re.addColorStop(O[_],O[_+1]);return re}}_getRadialGradient(){return this._getCache(b,this.__getRadialGradient)}__getRadialGradient(){var O=this.fillRadialGradientColorStops();if(O){for(var U=m(),W=this.fillRadialGradientStartPoint(),Q=this.fillRadialGradientEndPoint(),re=U.createRadialGradient(W.x,W.y,this.fillRadialGradientStartRadius(),Q.x,Q.y,this.fillRadialGradientEndRadius()),_=0;_<O.length;_+=2)re.addColorStop(O[_],O[_+1]);return re}}getShadowRGBA(){return this._getCache(y,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var O=H.Util.colorToRGBA(this.shadowColor());if(O)return"rgba("+O.r+","+O.g+","+O.b+","+O.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const O=this.hitStrokeWidth();return"auto"===O?this.hasStroke():this.strokeEnabled()&&!!O}intersects(O){var W=this.getStage().bufferHitCanvas;return W.getContext().clear(),this.drawHit(W,null,!0),W.context.getImageData(Math.round(O.x),Math.round(O.y),1,1).data[3]>0}destroy(){return q.Node.prototype.destroy.call(this),delete x.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(O){var U;if(!this.getStage()||null!==(U=this.attrs.perfectDrawEnabled)&&void 0!==U&&!U)return!1;const Q=O||this.hasFill(),re=this.hasStroke(),_=1!==this.getAbsoluteOpacity();if(Q&&re&&_)return!0;const R=this.hasShadow(),P=this.shadowForStrokeEnabled();return!!(Q&&re&&R&&P)}setStrokeHitEnabled(O){H.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),this.hitStrokeWidth(O?"auto":0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var O=this.size();return{x:this._centroid?-O.width/2:0,y:this._centroid?-O.height/2:0,width:O.width,height:O.height}}getClientRect(O={}){const U=O.skipTransform,W=O.relativeTo,Q=this.getSelfRect(),_=!O.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,R=Q.width+_,P=Q.height+_,Y=!O.skipShadow&&this.hasShadow(),X=Y?this.shadowOffsetX():0,te=Y?this.shadowOffsetY():0,ne=R+Math.abs(X),he=P+Math.abs(te),pe=Y&&this.shadowBlur()||0,ve={width:ne+2*pe,height:he+2*pe,x:-(_/2+pe)+Math.min(X,0)+Q.x,y:-(_/2+pe)+Math.min(te,0)+Q.y};return U?ve:this._transformedRect(ve,W)}drawScene(O,U){var X,te,W=this.getLayer(),Q=O||W.getCanvas(),re=Q.getContext(),_=this._getCanvasCache(),R=this.getSceneFunc(),P=this.hasShadow(),ne=Q.isCache,he=U===this;if(!this.isVisible()&&!he)return this;if(_){re.save();var pe=this.getAbsoluteTransform(U).getMatrix();return re.transform(pe[0],pe[1],pe[2],pe[3],pe[4],pe[5]),this._drawCachedSceneCanvas(re),re.restore(),this}if(!R)return this;if(re.save(),this._useBufferCanvas()&&!ne){(te=(X=this.getStage().bufferCanvas).getContext()).clear(),te.save(),te._applyLineJoin(this);var ce=this.getAbsoluteTransform(U).getMatrix();te.transform(ce[0],ce[1],ce[2],ce[3],ce[4],ce[5]),R.call(this,te,this),te.restore();var Me=X.pixelRatio;P&&re._applyShadow(this),re._applyOpacity(this),re._applyGlobalCompositeOperation(this),re.drawImage(X._canvas,0,0,X.width/Me,X.height/Me)}else re._applyLineJoin(this),he||(ce=this.getAbsoluteTransform(U).getMatrix(),re.transform(ce[0],ce[1],ce[2],ce[3],ce[4],ce[5]),re._applyOpacity(this),re._applyGlobalCompositeOperation(this)),P&&re._applyShadow(this),R.call(this,re,this);return re.restore(),this}drawHit(O,U,W=!1){if(!this.shouldDrawHit(U,W))return this;var Q=this.getLayer(),re=O||Q.hitCanvas,_=re&&re.getContext(),R=this.hitFunc()||this.sceneFunc(),P=this._getCanvasCache(),Y=P&&P.hit;if(this.colorKey||H.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),Y){_.save();var X=this.getAbsoluteTransform(U).getMatrix();return _.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._drawCachedHitCanvas(_),_.restore(),this}if(!R)return this;if(_.save(),_._applyLineJoin(this),this!==U){var ne=this.getAbsoluteTransform(U).getMatrix();_.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5])}return R.call(this,_,this),_.restore(),this}drawHitFromCache(O=0){var P,Y,X,te,ne,U=this._getCanvasCache(),W=this._getCachedSceneCanvas(),Q=U.hit,re=Q.getContext(),_=Q.getWidth(),R=Q.getHeight();re.clear(),re.drawImage(W._canvas,0,0,_,R);try{for(X=(Y=(P=re.getImageData(0,0,_,R)).data).length,te=H.Util._hexToRgb(this.colorKey),ne=0;ne<X;ne+=4)Y[ne+3]>O?(Y[ne]=te.r,Y[ne+1]=te.g,Y[ne+2]=te.b,Y[ne+3]=255):Y[ne+3]=0;re.putImageData(P,0,0)}catch(pe){H.Util.error("Unable to draw hit graph from cached scene canvas. "+pe.message)}return this}hasPointerCapture(O){return C.hasPointerCapture(O,this)}setPointerCapture(O){C.setPointerCapture(O,this)}releaseCapture(O){C.releaseCapture(O,this)}}x.Shape=j,j.prototype._fillFunc=function p(G){const O=this.attrs.fillRule;O?G.fill(O):G.fill()},j.prototype._strokeFunc=function M(G){G.stroke()},j.prototype._fillFuncHit=function w(G){G.fill()},j.prototype._strokeFuncHit=function B(G){G.stroke()},j.prototype._centroid=!1,j.prototype.nodeType="Shape",(0,T._registerNode)(j),j.prototype.eventListeners={},j.prototype.on.call(j.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function u(){this._clearCache(g)}),j.prototype.on.call(j.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function f(){this._clearCache(y)}),j.prototype.on.call(j.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function E(){this._clearCache(D)}),j.prototype.on.call(j.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function V(){this._clearCache(S)}),j.prototype.on.call(j.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function $(){this._clearCache(b)}),z.Factory.addGetterSetter(j,"stroke",void 0,(0,k.getStringOrGradientValidator)()),z.Factory.addGetterSetter(j,"strokeWidth",2,(0,k.getNumberValidator)()),z.Factory.addGetterSetter(j,"fillAfterStrokeEnabled",!1),z.Factory.addGetterSetter(j,"hitStrokeWidth","auto",(0,k.getNumberOrAutoValidator)()),z.Factory.addGetterSetter(j,"strokeHitEnabled",!0,(0,k.getBooleanValidator)()),z.Factory.addGetterSetter(j,"perfectDrawEnabled",!0,(0,k.getBooleanValidator)()),z.Factory.addGetterSetter(j,"shadowForStrokeEnabled",!0,(0,k.getBooleanValidator)()),z.Factory.addGetterSetter(j,"lineJoin"),z.Factory.addGetterSetter(j,"lineCap"),z.Factory.addGetterSetter(j,"sceneFunc"),z.Factory.addGetterSetter(j,"hitFunc"),z.Factory.addGetterSetter(j,"dash"),z.Factory.addGetterSetter(j,"dashOffset",0,(0,k.getNumberValidator)()),z.Factory.addGetterSetter(j,"shadowColor",void 0,(0,k.getStringValidator)()),z.Factory.addGetterSetter(j,"shadowBlur",0,(0,k.getNumberValidator)()),z.Factory.addGetterSetter(j,"shadowOpacity",1,(0,k.getNumberValidator)()),z.Factory.addComponentsGetterSetter(j,"shadowOffset",["x","y"]),z.Factory.addGetterSetter(j,"shadowOffsetX",0,(0,k.getNumberValidator)()),z.Factory.addGetterSetter(j,"shadowOffsetY",0,(0,k.getNumberValidator)()),z.Factory.addGetterSetter(j,"fillPatternImage"),z.Factory.addGetterSetter(j,"fill",void 0,(0,k.getStringOrGradientValidator)()),z.Factory.addGetterSetter(j,"fillPatternX",0,(0,k.getNumberValidator)()),z.Factory.addGetterSetter(j,"fillPatternY",0,(0,k.getNumberValidator)()),z.Factory.addGetterSetter(j,"fillLinearGradientColorStops"),z.Factory.addGetterSetter(j,"strokeLinearGradientColorStops"),z.Factory.addGetterSetter(j,"fillRadialGradientStartRadius",0),z.Factory.addGetterSetter(j,"fillRadialGradientEndRadius",0),z.Factory.addGetterSetter(j,"fillRadialGradientColorStops"),z.Factory.addGetterSetter(j,"fillPatternRepeat","repeat"),z.Factory.addGetterSetter(j,"fillEnabled",!0),z.Factory.addGetterSetter(j,"strokeEnabled",!0),z.Factory.addGetterSetter(j,"shadowEnabled",!0),z.Factory.addGetterSetter(j,"dashEnabled",!0),z.Factory.addGetterSetter(j,"strokeScaleEnabled",!0),z.Factory.addGetterSetter(j,"fillPriority","color"),z.Factory.addComponentsGetterSetter(j,"fillPatternOffset",["x","y"]),z.Factory.addGetterSetter(j,"fillPatternOffsetX",0,(0,k.getNumberValidator)()),z.Factory.addGetterSetter(j,"fillPatternOffsetY",0,(0,k.getNumberValidator)()),z.Factory.addComponentsGetterSetter(j,"fillPatternScale",["x","y"]),z.Factory.addGetterSetter(j,"fillPatternScaleX",1,(0,k.getNumberValidator)()),z.Factory.addGetterSetter(j,"fillPatternScaleY",1,(0,k.getNumberValidator)()),z.Factory.addComponentsGetterSetter(j,"fillLinearGradientStartPoint",["x","y"]),z.Factory.addComponentsGetterSetter(j,"strokeLinearGradientStartPoint",["x","y"]),z.Factory.addGetterSetter(j,"fillLinearGradientStartPointX",0),z.Factory.addGetterSetter(j,"strokeLinearGradientStartPointX",0),z.Factory.addGetterSetter(j,"fillLinearGradientStartPointY",0),z.Factory.addGetterSetter(j,"strokeLinearGradientStartPointY",0),z.Factory.addComponentsGetterSetter(j,"fillLinearGradientEndPoint",["x","y"]),z.Factory.addComponentsGetterSetter(j,"strokeLinearGradientEndPoint",["x","y"]),z.Factory.addGetterSetter(j,"fillLinearGradientEndPointX",0),z.Factory.addGetterSetter(j,"strokeLinearGradientEndPointX",0),z.Factory.addGetterSetter(j,"fillLinearGradientEndPointY",0),z.Factory.addGetterSetter(j,"strokeLinearGradientEndPointY",0),z.Factory.addComponentsGetterSetter(j,"fillRadialGradientStartPoint",["x","y"]),z.Factory.addGetterSetter(j,"fillRadialGradientStartPointX",0),z.Factory.addGetterSetter(j,"fillRadialGradientStartPointY",0),z.Factory.addComponentsGetterSetter(j,"fillRadialGradientEndPoint",["x","y"]),z.Factory.addGetterSetter(j,"fillRadialGradientEndPointX",0),z.Factory.addGetterSetter(j,"fillRadialGradientEndPointY",0),z.Factory.addGetterSetter(j,"fillPatternRotation",0),z.Factory.addGetterSetter(j,"fillRule",void 0,(0,k.getStringValidator)()),z.Factory.backCompat(j,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},3338:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Stage=x.stages=void 0;const N=F(7675),H=F(4362),z=F(6221),q=F(3602),k=F(4091),T=F(1009),C=F(3602),g=F(7209);var v="mouseleave",m="mouseover",p="mouseenter",M="mousemove",w="mousedown",B="mouseup",u="pointermove",f="pointerdown",E="pointerup",V="pointercancel",j="pointerout",G="pointerleave",O="pointerover",U="pointerenter",W="contextmenu",Q="touchstart",re="touchend",_="touchmove",R="touchcancel",P="wheel",X=[[p,"_pointerenter"],[w,"_pointerdown"],[M,"_pointermove"],[B,"_pointerup"],[v,"_pointerleave"],[Q,"_pointerdown"],[_,"_pointermove"],[re,"_pointerup"],[R,"_pointercancel"],[m,"_pointerover"],[P,"_wheel"],[W,"_contextmenu"],[f,"_pointerdown"],[u,"_pointermove"],[E,"_pointerup"],[V,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const te={mouse:{[j]:"mouseout",[G]:v,[O]:m,[U]:p,[u]:M,[f]:w,[E]:B,[V]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[j]:"touchout",[G]:"touchleave",[O]:"touchover",[U]:"touchenter",[u]:_,[f]:Q,[E]:re,[V]:R,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[j]:j,[G]:G,[O]:O,[U]:U,[u]:u,[f]:f,[E]:E,[V]:V,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ne=ve=>ve.indexOf("pointer")>=0?"pointer":ve.indexOf("touch")>=0?"touch":"mouse",he=ve=>{const J=ne(ve);return"pointer"===J?q.Konva.pointerEventsEnabled&&te.pointer:"touch"===J?te.touch:"mouse"===J?te.mouse:void 0};function pe(ve={}){return(ve.clipFunc||ve.clipWidth||ve.clipHeight)&&N.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ve}x.stages=[];class Me extends z.Container{constructor(J){super(pe(J)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),x.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{pe(this.attrs)}),this._checkVisibility()}_validateAdd(J){const ue="Layer"===J.getType(),se="FastLayer"===J.getType();ue||se||N.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const J=this.visible()?"":"none";this.content.style.display=J}setContainer(J){if("string"==typeof J){if("."===J.charAt(0)){var ue=J.slice(1);J=document.getElementsByClassName(ue)[0]}else{var se;se="#"!==J.charAt(0)?J:J.slice(1),J=document.getElementById(se)}if(!J)throw"Can not find container in document with id "+se}return this._setAttr("container",J),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),J.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var se,J=this.children,ue=J.length;for(se=0;se<ue;se++)J[se].clear();return this}clone(J){return J||(J={}),J.container=typeof document<"u"&&document.createElement("div"),z.Container.prototype.clone.call(this,J)}destroy(){super.destroy();var J=this.content;J&&N.Util._isInDocument(J)&&this.container().removeChild(J);var ue=x.stages.indexOf(this);return ue>-1&&x.stages.splice(ue,1),N.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const J=this._pointerPositions[0]||this._changedPointerPositions[0];return J?{x:J.x,y:J.y}:(N.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(J){return this._pointerPositions.find(ue=>ue.id===J)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(J){(J=J||{}).x=J.x||0,J.y=J.y||0,J.width=J.width||this.width(),J.height=J.height||this.height();var ue=new k.SceneCanvas({width:J.width,height:J.height,pixelRatio:J.pixelRatio||1}),se=ue.getContext()._context,De=this.children;return(J.x||J.y)&&se.translate(-1*J.x,-1*J.y),De.forEach(function(Ae){if(Ae.isVisible()){var ke=Ae._toKonvaCanvas(J);se.drawImage(ke._canvas,J.x,J.y,ke.getWidth()/ke.getPixelRatio(),ke.getHeight()/ke.getPixelRatio())}}),ue}getIntersection(J){if(!J)return null;var Ae,ue=this.children;for(Ae=ue.length-1;Ae>=0;Ae--){const ke=ue[Ae].getIntersection(J);if(ke)return ke}return null}_resizeDOM(){var J=this.width(),ue=this.height();this.content&&(this.content.style.width=J+"px",this.content.style.height=ue+"px"),this.bufferCanvas.setSize(J,ue),this.bufferHitCanvas.setSize(J,ue),this.children.forEach(se=>{se.setSize({width:J,height:ue}),se.draw()})}add(J,...ue){if(arguments.length>1){for(var se=0;se<arguments.length;se++)this.add(arguments[se]);return this}super.add(J);var De=this.children.length;return De>5&&N.Util.warn("The stage has "+De+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),J.setSize({width:this.width(),height:this.height()}),J.draw(),q.Konva.isBrowser&&this.content.appendChild(J.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(J){return g.hasPointerCapture(J,this)}setPointerCapture(J){g.setPointerCapture(J,this)}releaseCapture(J){g.releaseCapture(J,this)}getLayers(){return this.children}_bindContentEvents(){q.Konva.isBrowser&&X.forEach(([J,ue])=>{this.content.addEventListener(J,se=>{this[ue](se)},{passive:!1})})}_pointerenter(J){this.setPointersPositions(J);const ue=he(J.type);this._fire(ue.pointerenter,{evt:J,target:this,currentTarget:this})}_pointerover(J){this.setPointersPositions(J);const ue=he(J.type);this._fire(ue.pointerover,{evt:J,target:this,currentTarget:this})}_getTargetShape(J){let ue=this[J+"targetShape"];return ue&&!ue.getStage()&&(ue=null),ue}_pointerleave(J){const ue=he(J.type),se=ne(J.type);if(ue){this.setPointersPositions(J);var De=this._getTargetShape(se),Ae=!T.DD.isDragging||q.Konva.hitOnDragEnabled;De&&Ae?(De._fireAndBubble(ue.pointerout,{evt:J}),De._fireAndBubble(ue.pointerleave,{evt:J}),this._fire(ue.pointerleave,{evt:J,target:this,currentTarget:this}),this[se+"targetShape"]=null):Ae&&(this._fire(ue.pointerleave,{evt:J,target:this,currentTarget:this}),this._fire(ue.pointerout,{evt:J,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(J){const ue=he(J.type),se=ne(J.type);if(ue){this.setPointersPositions(J);var De=!1;this._changedPointerPositions.forEach(Ae=>{var ke=this.getIntersection(Ae);if(T.DD.justDragged=!1,q.Konva["_"+se+"ListenClick"]=!0,!ke||!ke.isListening())return;q.Konva.capturePointerEventsEnabled&&ke.setPointerCapture(Ae.id),this[se+"ClickStartShape"]=ke,ke._fireAndBubble(ue.pointerdown,{evt:J,pointerId:Ae.id}),De=!0;const Nt=J.type.indexOf("touch")>=0;ke.preventDefault()&&J.cancelable&&Nt&&J.preventDefault()}),De||this._fire(ue.pointerdown,{evt:J,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(J){const ue=he(J.type),se=ne(J.type);if(!ue)return;if(T.DD.isDragging&&T.DD.node.preventDefault()&&J.cancelable&&J.preventDefault(),this.setPointersPositions(J),T.DD.isDragging&&!q.Konva.hitOnDragEnabled)return;var Ae={};let ke=!1;var Ze=this._getTargetShape(se);this._changedPointerPositions.forEach(Nt=>{const Ge=g.getCapturedShape(Nt.id)||this.getIntersection(Nt),Gt=Nt.id,mt={evt:J,pointerId:Gt};var it=Ze!==Ge;if(it&&Ze&&(Ze._fireAndBubble(ue.pointerout,Object.assign({},mt),Ge),Ze._fireAndBubble(ue.pointerleave,Object.assign({},mt),Ge)),Ge){if(Ae[Ge._id])return;Ae[Ge._id]=!0}Ge&&Ge.isListening()?(ke=!0,it&&(Ge._fireAndBubble(ue.pointerover,Object.assign({},mt),Ze),Ge._fireAndBubble(ue.pointerenter,Object.assign({},mt),Ze),this[se+"targetShape"]=Ge),Ge._fireAndBubble(ue.pointermove,Object.assign({},mt))):Ze&&(this._fire(ue.pointerover,{evt:J,target:this,currentTarget:this,pointerId:Gt}),this[se+"targetShape"]=null)}),ke||this._fire(ue.pointermove,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(J){const ue=he(J.type),se=ne(J.type);if(!ue)return;this.setPointersPositions(J);const De=this[se+"ClickStartShape"],Ae=this[se+"ClickEndShape"];var ke={};let Ze=!1;this._changedPointerPositions.forEach(Nt=>{const Ge=g.getCapturedShape(Nt.id)||this.getIntersection(Nt);if(Ge){if(Ge.releaseCapture(Nt.id),ke[Ge._id])return;ke[Ge._id]=!0}const Gt=Nt.id,mt={evt:J,pointerId:Gt};let it=!1;q.Konva["_"+se+"InDblClickWindow"]?(it=!0,clearTimeout(this[se+"DblTimeout"])):T.DD.justDragged||(q.Konva["_"+se+"InDblClickWindow"]=!0,clearTimeout(this[se+"DblTimeout"])),this[se+"DblTimeout"]=setTimeout(function(){q.Konva["_"+se+"InDblClickWindow"]=!1},q.Konva.dblClickWindow),Ge&&Ge.isListening()?(Ze=!0,this[se+"ClickEndShape"]=Ge,Ge._fireAndBubble(ue.pointerup,Object.assign({},mt)),q.Konva["_"+se+"ListenClick"]&&De&&De===Ge&&(Ge._fireAndBubble(ue.pointerclick,Object.assign({},mt)),it&&Ae&&Ae===Ge&&Ge._fireAndBubble(ue.pointerdblclick,Object.assign({},mt)))):(this[se+"ClickEndShape"]=null,q.Konva["_"+se+"ListenClick"]&&this._fire(ue.pointerclick,{evt:J,target:this,currentTarget:this,pointerId:Gt}),it&&this._fire(ue.pointerdblclick,{evt:J,target:this,currentTarget:this,pointerId:Gt}))}),Ze||this._fire(ue.pointerup,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),q.Konva["_"+se+"ListenClick"]=!1,J.cancelable&&"touch"!==se&&J.preventDefault()}_contextmenu(J){this.setPointersPositions(J);var ue=this.getIntersection(this.getPointerPosition());ue&&ue.isListening()?ue._fireAndBubble(W,{evt:J}):this._fire(W,{evt:J,target:this,currentTarget:this})}_wheel(J){this.setPointersPositions(J);var ue=this.getIntersection(this.getPointerPosition());ue&&ue.isListening()?ue._fireAndBubble(P,{evt:J}):this._fire(P,{evt:J,target:this,currentTarget:this})}_pointercancel(J){this.setPointersPositions(J);const ue=g.getCapturedShape(J.pointerId)||this.getIntersection(this.getPointerPosition());ue&&ue._fireAndBubble(E,g.createEvent(J)),g.releaseCapture(J.pointerId)}_lostpointercapture(J){g.releaseCapture(J.pointerId)}setPointersPositions(J){var ue=this._getContentPosition(),se=null,De=null;void 0!==(J=J||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(J.touches,Ae=>{this._pointerPositions.push({id:Ae.identifier,x:(Ae.clientX-ue.left)/ue.scaleX,y:(Ae.clientY-ue.top)/ue.scaleY})}),Array.prototype.forEach.call(J.changedTouches||J.touches,Ae=>{this._changedPointerPositions.push({id:Ae.identifier,x:(Ae.clientX-ue.left)/ue.scaleX,y:(Ae.clientY-ue.top)/ue.scaleY})})):(this.pointerPos={x:se=(J.clientX-ue.left)/ue.scaleX,y:De=(J.clientY-ue.top)/ue.scaleY},this._pointerPositions=[{x:se,y:De,id:N.Util._getFirstPointerId(J)}],this._changedPointerPositions=[{x:se,y:De,id:N.Util._getFirstPointerId(J)}])}_setPointerPosition(J){N.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(J)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var J=this.content.getBoundingClientRect();return{top:J.top,left:J.left,scaleX:J.width/this.content.clientWidth||1,scaleY:J.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new k.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new k.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),q.Konva.isBrowser){var J=this.container();if(!J)throw"Stage has no container. A container is required.";J.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),J.appendChild(this.content),this._resizeDOM()}}cache(){return N.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(J){J.batchDraw()}),this}}x.Stage=Me,Me.prototype.nodeType="Stage",(0,C._registerNode)(Me),H.Factory.addGetterSetter(Me,"container")},6708:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Easings=x.Tween=void 0;const N=F(7675),H=F(4909),z=F(1272),q=F(3602);var k={node:1,duration:1,easing:1,onFinish:1,yoyo:1},y=0,D=["fill","stroke","shadowColor"];class S{constructor(m,p,M,w,B,u,f){this.prop=m,this.propFunc=p,this.begin=w,this._pos=w,this.duration=u,this._change=0,this.prevPos=0,this.yoyo=f,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=M,this._change=B-this.begin,this.pause()}fire(m){var p=this[m];p&&p()}setTime(m){m>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():m<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=m,this.update())}getTime(){return this._time}setPosition(m){this.prevPos=this._pos,this.propFunc(m),this._pos=m}getPosition(m){return void 0===m&&(m=this._time),this.func(m,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(m){this.pause(),this._time=m,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var m=this.getTimer()-this._startTime;2===this.state?this.setTime(m):3===this.state&&this.setTime(this.duration-m)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class b{constructor(m){var B,E,p=this,M=m.node,w=M._id,u=m.easing||x.Easings.Linear,f=!!m.yoyo;B=typeof m.duration>"u"?.3:0===m.duration?.001:m.duration,this.node=M,this._id=y++;var V=M.getLayer()||(M instanceof q.Konva.Stage?M.getLayers():null);for(E in V||N.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new H.Animation(function(){p.tween.onEnterFrame()},V),this.tween=new S(E,function($){p._tweenFunc($)},u,0,1,1e3*B,f),this._addListeners(),b.attrs[w]||(b.attrs[w]={}),b.attrs[w][this._id]||(b.attrs[w][this._id]={}),b.tweens[w]||(b.tweens[w]={}),m)void 0===k[E]&&this._addAttr(E,m[E]);this.reset(),this.onFinish=m.onFinish,this.onReset=m.onReset,this.onUpdate=m.onUpdate}_addAttr(m,p){var B,u,f,E,V,$,j,G,M=this.node,w=M._id;if((f=b.tweens[w][m])&&delete b.attrs[w][f][m],B=M.getAttr(m),N.Util._isArray(p))if(u=[],V=Math.max(p.length,B.length),"points"===m&&p.length!==B.length&&(p.length>B.length?(j=B,B=N.Util._prepareArrayForTween(B,p,M.closed())):($=p,p=N.Util._prepareArrayForTween(p,B,M.closed()))),0===m.indexOf("fill"))for(E=0;E<V;E++)if(E%2==0)u.push(p[E]-B[E]);else{var O=N.Util.colorToRGBA(B[E]);G=N.Util.colorToRGBA(p[E]),B[E]=O,u.push({r:G.r-O.r,g:G.g-O.g,b:G.b-O.b,a:G.a-O.a})}else for(E=0;E<V;E++)u.push(p[E]-B[E]);else-1!==D.indexOf(m)?(B=N.Util.colorToRGBA(B),u={r:(G=N.Util.colorToRGBA(p)).r-B.r,g:G.g-B.g,b:G.b-B.b,a:G.a-B.a}):u=p-B;b.attrs[w][this._id][m]={start:B,diff:u,end:p,trueEnd:$,trueStart:j},b.tweens[w][m]=this._id}_tweenFunc(m){var w,B,u,f,E,V,$,j,p=this.node,M=b.attrs[p._id][this._id];for(w in M){if(f=(B=M[w]).diff,j=B.end,N.Util._isArray(u=B.start))if(E=[],$=Math.max(u.length,j.length),0===w.indexOf("fill"))for(V=0;V<$;V++)E.push(V%2==0?(u[V]||0)+f[V]*m:"rgba("+Math.round(u[V].r+f[V].r*m)+","+Math.round(u[V].g+f[V].g*m)+","+Math.round(u[V].b+f[V].b*m)+","+(u[V].a+f[V].a*m)+")");else for(V=0;V<$;V++)E.push((u[V]||0)+f[V]*m);else E=-1!==D.indexOf(w)?"rgba("+Math.round(u.r+f.r*m)+","+Math.round(u.g+f.g*m)+","+Math.round(u.b+f.b*m)+","+(u.a+f.a*m)+")":u+f*m;p.setAttr(w,E)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var m=this.node,p=b.attrs[m._id][this._id];p.points&&p.points.trueEnd&&m.setAttr("points",p.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var m=this.node,p=b.attrs[m._id][this._id];p.points&&p.points.trueStart&&m.points(p.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(m){return this.tween.seek(1e3*m),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var w,m=this.node._id,p=this._id,M=b.tweens[m];for(w in this.pause(),M)delete b.tweens[m][w];delete b.attrs[m][p]}}x.Tween=b,b.attrs={},b.tweens={},z.Node.prototype.to=function(v){var m=v.onFinish;v.node=this,v.onFinish=function(){this.destroy(),m&&m()},new b(v).play()},x.Easings={BackEaseIn(v,m,p,M){var w=1.70158;return p*(v/=M)*v*((w+1)*v-w)+m},BackEaseOut(v,m,p,M){var w=1.70158;return p*((v=v/M-1)*v*((w+1)*v+w)+1)+m},BackEaseInOut(v,m,p,M){var w=1.70158;return(v/=M/2)<1?p/2*(v*v*((1+(w*=1.525))*v-w))+m:p/2*((v-=2)*v*((1+(w*=1.525))*v+w)+2)+m},ElasticEaseIn(v,m,p,M,w,B){var u=0;return 0===v?m:1==(v/=M)?m+p:(B||(B=.3*M),!w||w<Math.abs(p)?(w=p,u=B/4):u=B/(2*Math.PI)*Math.asin(p/w),-w*Math.pow(2,10*(v-=1))*Math.sin((v*M-u)*(2*Math.PI)/B)+m)},ElasticEaseOut(v,m,p,M,w,B){var u=0;return 0===v?m:1==(v/=M)?m+p:(B||(B=.3*M),!w||w<Math.abs(p)?(w=p,u=B/4):u=B/(2*Math.PI)*Math.asin(p/w),w*Math.pow(2,-10*v)*Math.sin((v*M-u)*(2*Math.PI)/B)+p+m)},ElasticEaseInOut(v,m,p,M,w,B){var u=0;return 0===v?m:2==(v/=M/2)?m+p:(B||(B=M*(.3*1.5)),!w||w<Math.abs(p)?(w=p,u=B/4):u=B/(2*Math.PI)*Math.asin(p/w),v<1?w*Math.pow(2,10*(v-=1))*Math.sin((v*M-u)*(2*Math.PI)/B)*-.5+m:w*Math.pow(2,-10*(v-=1))*Math.sin((v*M-u)*(2*Math.PI)/B)*.5+p+m)},BounceEaseOut:(v,m,p,M)=>(v/=M)<1/2.75?p*(7.5625*v*v)+m:v<2/2.75?p*(7.5625*(v-=1.5/2.75)*v+.75)+m:v<2.5/2.75?p*(7.5625*(v-=2.25/2.75)*v+.9375)+m:p*(7.5625*(v-=2.625/2.75)*v+.984375)+m,BounceEaseIn:(v,m,p,M)=>p-x.Easings.BounceEaseOut(M-v,0,p,M)+m,BounceEaseInOut:(v,m,p,M)=>v<M/2?.5*x.Easings.BounceEaseIn(2*v,0,p,M)+m:.5*x.Easings.BounceEaseOut(2*v-M,0,p,M)+.5*p+m,EaseIn:(v,m,p,M)=>p*(v/=M)*v+m,EaseOut:(v,m,p,M)=>-p*(v/=M)*(v-2)+m,EaseInOut:(v,m,p,M)=>(v/=M/2)<1?p/2*v*v+m:-p/2*(--v*(v-2)-1)+m,StrongEaseIn:(v,m,p,M)=>p*(v/=M)*v*v*v*v+m,StrongEaseOut:(v,m,p,M)=>p*((v=v/M-1)*v*v*v*v+1)+m,StrongEaseInOut:(v,m,p,M)=>(v/=M/2)<1?p/2*v*v*v*v*v+m:p/2*((v-=2)*v*v*v*v+2)+m,Linear:(v,m,p,M)=>p*v/M+m}},7675:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Util=x.Transform=void 0;const N=F(3602);class H{constructor(f=[1,0,0,1,0,0]){this.dirty=!1,this.m=f&&f.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new H(this.m)}copyInto(f){f.m[0]=this.m[0],f.m[1]=this.m[1],f.m[2]=this.m[2],f.m[3]=this.m[3],f.m[4]=this.m[4],f.m[5]=this.m[5]}point(f){var E=this.m;return{x:E[0]*f.x+E[2]*f.y+E[4],y:E[1]*f.x+E[3]*f.y+E[5]}}translate(f,E){return this.m[4]+=this.m[0]*f+this.m[2]*E,this.m[5]+=this.m[1]*f+this.m[3]*E,this}scale(f,E){return this.m[0]*=f,this.m[1]*=f,this.m[2]*=E,this.m[3]*=E,this}rotate(f){var E=Math.cos(f),V=Math.sin(f),j=this.m[1]*E+this.m[3]*V,G=this.m[0]*-V+this.m[2]*E,O=this.m[1]*-V+this.m[3]*E;return this.m[0]=this.m[0]*E+this.m[2]*V,this.m[1]=j,this.m[2]=G,this.m[3]=O,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(f,E){var $=this.m[1]+this.m[3]*E,j=this.m[2]+this.m[0]*f,G=this.m[3]+this.m[1]*f;return this.m[0]=this.m[0]+this.m[2]*E,this.m[1]=$,this.m[2]=j,this.m[3]=G,this}multiply(f){var V=this.m[1]*f.m[0]+this.m[3]*f.m[1],$=this.m[0]*f.m[2]+this.m[2]*f.m[3],j=this.m[1]*f.m[2]+this.m[3]*f.m[3],G=this.m[0]*f.m[4]+this.m[2]*f.m[5]+this.m[4],O=this.m[1]*f.m[4]+this.m[3]*f.m[5]+this.m[5];return this.m[0]=this.m[0]*f.m[0]+this.m[2]*f.m[1],this.m[1]=V,this.m[2]=$,this.m[3]=j,this.m[4]=G,this.m[5]=O,this}invert(){var f=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),V=-this.m[1]*f,$=-this.m[2]*f,j=this.m[0]*f,G=f*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),O=f*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=this.m[3]*f,this.m[1]=V,this.m[2]=$,this.m[3]=j,this.m[4]=G,this.m[5]=O,this}getMatrix(){return this.m}decompose(){var f=this.m[0],E=this.m[1],V=this.m[2],$=this.m[3],O=f*$-E*V;let U={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=f||0!=E){var W=Math.sqrt(f*f+E*E);U.rotation=E>0?Math.acos(f/W):-Math.acos(f/W),U.scaleX=W,U.scaleY=O/W,U.skewX=(f*V+E*$)/O,U.skewY=0}else if(0!=V||0!=$){var Q=Math.sqrt(V*V+$*$);U.rotation=Math.PI/2-($>0?Math.acos(-V/Q):-Math.acos(V/Q)),U.scaleX=O/Q,U.scaleY=Q,U.skewX=0,U.skewY=(f*V+E*$)/O}return U.rotation=x.Util._getRotation(U.rotation),U}}x.Transform=H;var C=Math.PI/180,g=180/Math.PI,v="Konva error: ",p={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},M=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,w=[];const B=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(u){setTimeout(u,60)};x.Util={_isElement:u=>!(!u||1!=u.nodeType),_isFunction:u=>!!(u&&u.constructor&&u.call&&u.apply),_isPlainObject:u=>!!u&&u.constructor===Object,_isArray:u=>"[object Array]"===Object.prototype.toString.call(u),_isNumber:u=>"[object Number]"===Object.prototype.toString.call(u)&&!isNaN(u)&&isFinite(u),_isString:u=>"[object String]"===Object.prototype.toString.call(u),_isBoolean:u=>"[object Boolean]"===Object.prototype.toString.call(u),isObject:u=>u instanceof Object,isValidSelector(u){if("string"!=typeof u)return!1;var f=u[0];return"#"===f||"."===f||f===f.toUpperCase()},_sign:u=>0===u||u>0?1:-1,requestAnimFrame(u){w.push(u),1===w.length&&B(function(){const f=w;w=[],f.forEach(function(E){E()})})},createCanvasElement(){var u=document.createElement("canvas");try{u.style=u.style||{}}catch{}return u},createImageElement:()=>document.createElement("img"),_isInDocument(u){for(;u=u.parentNode;)if(u==document)return!0;return!1},_urlToImage(u,f){var E=x.Util.createImageElement();E.onload=function(){f(E)},E.src=u},_rgbToHex:(u,f,E)=>((1<<24)+(u<<16)+(f<<8)+E).toString(16).slice(1),_hexToRgb(u){u=u.replace("#","");var f=parseInt(u,16);return{r:f>>16&255,g:f>>8&255,b:255&f}},getRandomColor(){for(var u=(16777215*Math.random()<<0).toString(16);u.length<6;)u="0"+u;return"#"+u},getRGB(u){var f;return u in p?{r:(f=p[u])[0],g:f[1],b:f[2]}:"#"===u[0]?this._hexToRgb(u.substring(1)):"rgb("===u.substr(0,4)?(f=M.exec(u.replace(/ /g,"")),{r:parseInt(f[1],10),g:parseInt(f[2],10),b:parseInt(f[3],10)}):{r:0,g:0,b:0}},colorToRGBA:u=>x.Util._namedColorToRBA(u=u||"black")||x.Util._hex3ColorToRGBA(u)||x.Util._hex4ColorToRGBA(u)||x.Util._hex6ColorToRGBA(u)||x.Util._hex8ColorToRGBA(u)||x.Util._rgbColorToRGBA(u)||x.Util._rgbaColorToRGBA(u)||x.Util._hslColorToRGBA(u),_namedColorToRBA(u){var f=p[u.toLowerCase()];return f?{r:f[0],g:f[1],b:f[2],a:1}:null},_rgbColorToRGBA(u){if(0===u.indexOf("rgb(")){var f=(u=u.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:f[0],g:f[1],b:f[2],a:1}}},_rgbaColorToRGBA(u){if(0===u.indexOf("rgba(")){var f=(u=u.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((E,V)=>"%"===E.slice(-1)?3===V?parseInt(E)/100:parseInt(E)/100*255:Number(E));return{r:f[0],g:f[1],b:f[2],a:f[3]}}},_hex8ColorToRGBA(u){if("#"===u[0]&&9===u.length)return{r:parseInt(u.slice(1,3),16),g:parseInt(u.slice(3,5),16),b:parseInt(u.slice(5,7),16),a:parseInt(u.slice(7,9),16)/255}},_hex6ColorToRGBA(u){if("#"===u[0]&&7===u.length)return{r:parseInt(u.slice(1,3),16),g:parseInt(u.slice(3,5),16),b:parseInt(u.slice(5,7),16),a:1}},_hex4ColorToRGBA(u){if("#"===u[0]&&5===u.length)return{r:parseInt(u[1]+u[1],16),g:parseInt(u[2]+u[2],16),b:parseInt(u[3]+u[3],16),a:parseInt(u[4]+u[4],16)/255}},_hex3ColorToRGBA(u){if("#"===u[0]&&4===u.length)return{r:parseInt(u[1]+u[1],16),g:parseInt(u[2]+u[2],16),b:parseInt(u[3]+u[3],16),a:1}},_hslColorToRGBA(u){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(u)){const[f,...E]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(u),V=Number(E[0])/360,$=Number(E[1])/100,j=Number(E[2])/100;let G,O,U;if(0===$)return U=255*j,{r:Math.round(U),g:Math.round(U),b:Math.round(U),a:1};G=j<.5?j*(1+$):j+$-j*$;const W=2*j-G,Q=[0,0,0];for(let re=0;re<3;re++)O=V+1/3*-(re-1),O<0&&O++,O>1&&O--,U=6*O<1?W+6*(G-W)*O:2*O<1?G:3*O<2?W+(G-W)*(2/3-O)*6:W,Q[re]=255*U;return{r:Math.round(Q[0]),g:Math.round(Q[1]),b:Math.round(Q[2]),a:1}}},haveIntersection:(u,f)=>!(f.x>u.x+u.width||f.x+f.width<u.x||f.y>u.y+u.height||f.y+f.height<u.y),cloneObject(u){var f={};for(var E in u)f[E]=this._isPlainObject(u[E])?this.cloneObject(u[E]):this._isArray(u[E])?this.cloneArray(u[E]):u[E];return f},cloneArray:u=>u.slice(0),degToRad:u=>u*C,radToDeg:u=>u*g,_degToRad:u=>(x.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),x.Util.degToRad(u)),_radToDeg:u=>(x.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),x.Util.radToDeg(u)),_getRotation:u=>N.Konva.angleDeg?x.Util.radToDeg(u):u,_capitalize:u=>u.charAt(0).toUpperCase()+u.slice(1),throw(u){throw new Error(v+u)},error(u){console.error(v+u)},warn(u){N.Konva.showWarnings&&console.warn("Konva warning: "+u)},each(u,f){for(var E in u)f(E,u[E])},_inRange:(u,f,E)=>f<=u&&u<E,_getProjectionToSegment(u,f,E,V,$,j){var G,O,U,W=(u-E)*(u-E)+(f-V)*(f-V);if(0==W)G=u,O=f,U=($-E)*($-E)+(j-V)*(j-V);else{var Q=(($-u)*(E-u)+(j-f)*(V-f))/W;Q<0?(G=u,O=f,U=(u-$)*(u-$)+(f-j)*(f-j)):Q>1?(G=E,O=V,U=(E-$)*(E-$)+(V-j)*(V-j)):U=((G=u+Q*(E-u))-$)*(G-$)+((O=f+Q*(V-f))-j)*(O-j)}return[G,O,U]},_getProjectionToLine(u,f,E){var V=x.Util.cloneObject(u),$=Number.MAX_VALUE;return f.forEach(function(j,G){if(E||G!==f.length-1){var O=f[(G+1)%f.length],U=x.Util._getProjectionToSegment(j.x,j.y,O.x,O.y,u.x,u.y),Q=U[1],re=U[2];re<$&&(V.x=U[0],V.y=Q,$=re)}}),V},_prepareArrayForTween(u,f,E){var V,$=[],j=[];if(u.length>f.length){var G=f;f=u,u=G}for(V=0;V<u.length;V+=2)$.push({x:u[V],y:u[V+1]});for(V=0;V<f.length;V+=2)j.push({x:f[V],y:f[V+1]});var O=[];return j.forEach(function(U){var W=x.Util._getProjectionToLine(U,$,E);O.push(W.x),O.push(W.y)}),O},_prepareToStringify(u){var f;for(var E in u.visitedByCircularReferenceRemoval=!0,u)if(u.hasOwnProperty(E)&&u[E]&&"object"==typeof u[E])if(f=Object.getOwnPropertyDescriptor(u,E),u[E].visitedByCircularReferenceRemoval||x.Util._isElement(u[E])){if(!f.configurable)return null;delete u[E]}else if(null===x.Util._prepareToStringify(u[E])){if(!f.configurable)return null;delete u[E]}return delete u.visitedByCircularReferenceRemoval,u},_assign(u,f){for(var E in f)u[E]=f[E];return u},_getFirstPointerId:u=>u.touches?u.changedTouches[0].identifier:u.pointerId||999,releaseCanvas(...u){N.Konva.releaseCanvasOnDestroy&&u.forEach(f=>{f.width=0,f.height=0})},drawRoundedRectPath(u,f,E,V){let $=0,j=0,G=0,O=0;"number"==typeof V?$=j=G=O=Math.min(V,f/2,E/2):($=Math.min(V[0]||0,f/2,E/2),j=Math.min(V[1]||0,f/2,E/2),O=Math.min(V[2]||0,f/2,E/2),G=Math.min(V[3]||0,f/2,E/2)),u.moveTo($,0),u.lineTo(f-j,0),u.arc(f-j,j,j,3*Math.PI/2,0,!1),u.lineTo(f,E-O),u.arc(f-O,E-O,O,0,Math.PI/2,!1),u.lineTo(G,E),u.arc(G,E-G,G,Math.PI/2,Math.PI,!1),u.lineTo(0,$),u.arc($,$,$,Math.PI,3*Math.PI/2,!1)}}},5340:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.getComponentValidator=x.getBooleanValidator=x.getNumberArrayValidator=x.getFunctionValidator=x.getStringOrGradientValidator=x.getStringValidator=x.getNumberOrAutoValidator=x.getNumberOrArrayOfNumbersValidator=x.getNumberValidator=x.alphaComponent=x.RGBComponent=void 0;const N=F(3602),H=F(7675);function z(p){return H.Util._isString(p)?'"'+p+'"':"[object Number]"===Object.prototype.toString.call(p)||H.Util._isBoolean(p)?p:Object.prototype.toString.call(p)}x.RGBComponent=function q(p){return p>255?255:p<0?0:Math.round(p)},x.alphaComponent=function k(p){return p>1?1:p<1e-4?1e-4:p},x.getNumberValidator=function T(){if(N.Konva.isUnminified)return function(p,M){return H.Util._isNumber(p)||H.Util.warn(z(p)+' is a not valid value for "'+M+'" attribute. The value should be a number.'),p}},x.getNumberOrArrayOfNumbersValidator=function C(p){if(N.Konva.isUnminified)return function(M,w){let B=H.Util._isNumber(M),u=H.Util._isArray(M)&&M.length==p;return!B&&!u&&H.Util.warn(z(M)+' is a not valid value for "'+w+'" attribute. The value should be a number or Array<number>('+p+")"),M}},x.getNumberOrAutoValidator=function g(){if(N.Konva.isUnminified)return function(p,M){return H.Util._isNumber(p)||"auto"===p||H.Util.warn(z(p)+' is a not valid value for "'+M+'" attribute. The value should be a number or "auto".'),p}},x.getStringValidator=function y(){if(N.Konva.isUnminified)return function(p,M){return H.Util._isString(p)||H.Util.warn(z(p)+' is a not valid value for "'+M+'" attribute. The value should be a string.'),p}},x.getStringOrGradientValidator=function D(){if(N.Konva.isUnminified)return function(p,M){const w=H.Util._isString(p),B="[object CanvasGradient]"===Object.prototype.toString.call(p)||p&&p.addColorStop;return w||B||H.Util.warn(z(p)+' is a not valid value for "'+M+'" attribute. The value should be a string or a native gradient.'),p}},x.getFunctionValidator=function S(){if(N.Konva.isUnminified)return function(p,M){return H.Util._isFunction(p)||H.Util.warn(z(p)+' is a not valid value for "'+M+'" attribute. The value should be a function.'),p}},x.getNumberArrayValidator=function b(){if(N.Konva.isUnminified)return function(p,M){const w=Int8Array?Object.getPrototypeOf(Int8Array):null;return w&&p instanceof w||(H.Util._isArray(p)?p.forEach(function(B){H.Util._isNumber(B)||H.Util.warn('"'+M+'" attribute has non numeric element '+B+". Make sure that all elements are numbers.")}):H.Util.warn(z(p)+' is a not valid value for "'+M+'" attribute. The value should be a array of numbers.')),p}},x.getBooleanValidator=function v(){if(N.Konva.isUnminified)return function(p,M){return!0===p||!1===p||H.Util.warn(z(p)+' is a not valid value for "'+M+'" attribute. The value should be a boolean.'),p}},x.getComponentValidator=function m(p){if(N.Konva.isUnminified)return function(M,w){return null==M||H.Util.isObject(M)||H.Util.warn(z(M)+' is a not valid value for "'+w+'" attribute. The value should be an object with properties '+p),M}}},4251:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Konva=void 0;const N=F(3602),H=F(7675),z=F(1272),q=F(6221),k=F(3338),T=F(8729),C=F(9376),g=F(1298),y=F(1009),D=F(7293),S=F(4909),b=F(6708),v=F(6480),m=F(4091);x.Konva=H.Util._assign(N.Konva,{Util:H.Util,Transform:H.Transform,Node:z.Node,Container:q.Container,Stage:k.Stage,stages:k.stages,Layer:T.Layer,FastLayer:C.FastLayer,Group:g.Group,DD:y.DD,Shape:D.Shape,shapes:D.shapes,Animation:S.Animation,Tween:b.Tween,Easings:b.Easings,Context:v.Context,Canvas:m.Canvas}),x.default=x.Konva},4334:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Konva=void 0;const N=F(4251),H=F(6917),z=F(2488),q=F(8263),k=F(4185),T=F(3766),C=F(1905),g=F(1525),y=F(9188),D=F(9),S=F(4886),b=F(3277),v=F(5421),m=F(4704),p=F(4977),M=F(769),w=F(7536),B=F(942),u=F(6484),f=F(3017),E=F(8758),V=F(8215),$=F(5010),j=F(4134),G=F(969),O=F(8533),U=F(8049),W=F(4070),Q=F(7193),re=F(6103),_=F(6979),R=F(6055),P=F(8884),Y=F(8089),X=F(9086),te=F(396),ne=F(9907);x.Konva=N.Konva.Util._assign(N.Konva,{Arc:H.Arc,Arrow:z.Arrow,Circle:q.Circle,Ellipse:k.Ellipse,Image:T.Image,Label:C.Label,Tag:C.Tag,Line:g.Line,Path:y.Path,Rect:D.Rect,RegularPolygon:S.RegularPolygon,Ring:b.Ring,Sprite:v.Sprite,Star:m.Star,Text:p.Text,TextPath:M.TextPath,Transformer:w.Transformer,Wedge:B.Wedge,Filters:{Blur:u.Blur,Brighten:f.Brighten,Contrast:E.Contrast,Emboss:V.Emboss,Enhance:$.Enhance,Grayscale:j.Grayscale,HSL:G.HSL,HSV:O.HSV,Invert:U.Invert,Kaleidoscope:W.Kaleidoscope,Mask:Q.Mask,Noise:re.Noise,Pixelate:_.Pixelate,Posterize:R.Posterize,RGB:P.RGB,RGBA:Y.RGBA,Sepia:X.Sepia,Solarize:te.Solarize,Threshold:ne.Threshold}})},6484:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Blur=void 0;const N=F(4362),H=F(1272),z=F(5340);function q(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var k=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],T=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];x.Blur=function(D){var S=Math.round(this.blurRadius());S>0&&function C(y,D){var m,p,M,w,B,u,f,E,V,$,j,G,O,U,W,Q,re,_,R,P,Y,X,te,ne,S=y.data,b=y.width,v=y.height,he=D+D+1,pe=b-1,ce=v-1,Me=D+1,ve=Me*(Me+1)/2,J=new q,ue=null,se=J,De=null,Ae=null,ke=k[D],Ze=T[D];for(M=1;M<he;M++)se=se.next=new q,M===Me&&(ue=se);for(se.next=J,f=u=0,p=0;p<v;p++){for(Q=re=_=R=E=V=$=j=0,G=Me*(P=S[u]),O=Me*(Y=S[u+1]),U=Me*(X=S[u+2]),W=Me*(te=S[u+3]),E+=ve*P,V+=ve*Y,$+=ve*X,j+=ve*te,se=J,M=0;M<Me;M++)se.r=P,se.g=Y,se.b=X,se.a=te,se=se.next;for(M=1;M<Me;M++)E+=(se.r=P=S[w=u+((pe<M?pe:M)<<2)])*(ne=Me-M),V+=(se.g=Y=S[w+1])*ne,$+=(se.b=X=S[w+2])*ne,j+=(se.a=te=S[w+3])*ne,Q+=P,re+=Y,_+=X,R+=te,se=se.next;for(De=J,Ae=ue,m=0;m<b;m++)S[u+3]=te=j*ke>>Ze,0!==te?(S[u]=(E*ke>>Ze)*(te=255/te),S[u+1]=(V*ke>>Ze)*te,S[u+2]=($*ke>>Ze)*te):S[u]=S[u+1]=S[u+2]=0,E-=G,V-=O,$-=U,j-=W,G-=De.r,O-=De.g,U-=De.b,W-=De.a,w=f+((w=m+D+1)<pe?w:pe)<<2,E+=Q+=De.r=S[w],V+=re+=De.g=S[w+1],$+=_+=De.b=S[w+2],j+=R+=De.a=S[w+3],De=De.next,G+=P=Ae.r,O+=Y=Ae.g,U+=X=Ae.b,W+=te=Ae.a,Q-=P,re-=Y,_-=X,R-=te,Ae=Ae.next,u+=4;f+=b}for(m=0;m<b;m++){for(re=_=R=Q=V=$=j=E=0,G=Me*(P=S[u=m<<2]),O=Me*(Y=S[u+1]),U=Me*(X=S[u+2]),W=Me*(te=S[u+3]),E+=ve*P,V+=ve*Y,$+=ve*X,j+=ve*te,se=J,M=0;M<Me;M++)se.r=P,se.g=Y,se.b=X,se.a=te,se=se.next;for(B=b,M=1;M<=D;M++)E+=(se.r=P=S[u=B+m<<2])*(ne=Me-M),V+=(se.g=Y=S[u+1])*ne,$+=(se.b=X=S[u+2])*ne,j+=(se.a=te=S[u+3])*ne,Q+=P,re+=Y,_+=X,R+=te,se=se.next,M<ce&&(B+=b);for(u=m,De=J,Ae=ue,p=0;p<v;p++)S[3+(w=u<<2)]=te=j*ke>>Ze,te>0?(S[w]=(E*ke>>Ze)*(te=255/te),S[w+1]=(V*ke>>Ze)*te,S[w+2]=($*ke>>Ze)*te):S[w]=S[w+1]=S[w+2]=0,E-=G,V-=O,$-=U,j-=W,G-=De.r,O-=De.g,U-=De.b,W-=De.a,w=m+((w=p+Me)<ce?w:ce)*b<<2,E+=Q+=De.r=S[w],V+=re+=De.g=S[w+1],$+=_+=De.b=S[w+2],j+=R+=De.a=S[w+3],De=De.next,G+=P=Ae.r,O+=Y=Ae.g,U+=X=Ae.b,W+=te=Ae.a,Q-=P,re-=Y,_-=X,R-=te,Ae=Ae.next,u+=b}}(D,S)},N.Factory.addGetterSetter(H.Node,"blurRadius",0,(0,z.getNumberValidator)(),N.Factory.afterSetFilter)},3017:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Brighten=void 0;const N=F(4362),H=F(1272),z=F(5340);x.Brighten=function(k){var y,T=255*this.brightness(),C=k.data,g=C.length;for(y=0;y<g;y+=4)C[y]+=T,C[y+1]+=T,C[y+2]+=T},N.Factory.addGetterSetter(H.Node,"brightness",0,(0,z.getNumberValidator)(),N.Factory.afterSetFilter)},8758:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Contrast=void 0;const N=F(4362),H=F(1272),z=F(5340);x.Contrast=function(k){var b,T=Math.pow((this.contrast()+100)/100,2),C=k.data,g=C.length,y=150,D=150,S=150;for(b=0;b<g;b+=4)y=C[b],D=C[b+1],S=C[b+2],y/=255,y-=.5,y*=T,y+=.5,D/=255,D-=.5,D*=T,D+=.5,S/=255,S-=.5,S*=T,S+=.5,D=(D*=255)<0?0:D>255?255:D,S=(S*=255)<0?0:S>255?255:S,C[b]=y=(y*=255)<0?0:y>255?255:y,C[b+1]=D,C[b+2]=S},N.Factory.addGetterSetter(H.Node,"contrast",0,(0,z.getNumberValidator)(),N.Factory.afterSetFilter)},8215:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Emboss=void 0;const N=F(4362),H=F(1272),z=F(7675),q=F(5340);x.Emboss=function(T){var C=10*this.embossStrength(),g=255*this.embossWhiteLevel(),y=this.embossDirection(),D=this.embossBlend(),S=0,b=0,v=T.data,m=T.width,p=T.height,M=4*m,w=p;switch(y){case"top-left":S=-1,b=-1;break;case"top":S=-1,b=0;break;case"top-right":S=-1,b=1;break;case"right":S=0,b=1;break;case"bottom-right":S=1,b=1;break;case"bottom":S=1,b=0;break;case"bottom-left":S=1,b=-1;break;case"left":S=0,b=-1;break;default:z.Util.error("Unknown emboss direction: "+y)}do{var B=(w-1)*M,u=S;w+u<1&&(u=0),w+u>p&&(u=0);var f=(w-1+u)*m*4,E=m;do{var V=B+4*(E-1),$=b;E+$<1&&($=0),E+$>m&&($=0);var j=f+4*(E-1+$),O=v[V+1]-v[j+1],U=v[V+2]-v[j+2],W=v[V]-v[j],Q=W>0?W:-W;if((O>0?O:-O)>Q&&(W=O),(U>0?U:-U)>Q&&(W=U),W*=C,D){var R=v[V]+W,P=v[V+1]+W,Y=v[V+2]+W;v[V]=R>255?255:R<0?0:R,v[V+1]=P>255?255:P<0?0:P,v[V+2]=Y>255?255:Y<0?0:Y}else{var X=g-W;X<0?X=0:X>255&&(X=255),v[V]=v[V+1]=v[V+2]=X}}while(--E)}while(--w)},N.Factory.addGetterSetter(H.Node,"embossStrength",.5,(0,q.getNumberValidator)(),N.Factory.afterSetFilter),N.Factory.addGetterSetter(H.Node,"embossWhiteLevel",.5,(0,q.getNumberValidator)(),N.Factory.afterSetFilter),N.Factory.addGetterSetter(H.Node,"embossDirection","top-left",null,N.Factory.afterSetFilter),N.Factory.addGetterSetter(H.Node,"embossBlend",!1,null,N.Factory.afterSetFilter)},5010:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Enhance=void 0;const N=F(4362),H=F(1272),z=F(5340);function q(T,C,g,y,D){var S=g-C,b=D-y;return 0===S?y+b/2:0===b?y:b*((T-C)/S)+y}x.Enhance=function(T){var S,m,w,B,C=T.data,g=C.length,y=C[0],D=y,b=C[1],v=b,p=C[2],M=p,u=this.enhance();if(0!==u){for(B=0;B<g;B+=4)(S=C[B+0])<y?y=S:S>D&&(D=S),(m=C[B+1])<b?b=m:m>v&&(v=m),(w=C[B+2])<p?p=w:w>M&&(M=w);var f,E,V,$,j,G,O,U,W;for(D===y&&(D=255,y=0),v===b&&(v=255,b=0),M===p&&(M=255,p=0),u>0?(E=D+u*(255-D),V=y-u*(y-0),j=v+u*(255-v),G=b-u*(b-0),U=M+u*(255-M),W=p-u*(p-0)):(E=D+u*(D-(f=.5*(D+y))),V=y+u*(y-f),j=v+u*(v-($=.5*(v+b))),G=b+u*(b-$),U=M+u*(M-(O=.5*(M+p))),W=p+u*(p-O)),B=0;B<g;B+=4)C[B+0]=q(C[B+0],y,D,V,E),C[B+1]=q(C[B+1],b,v,G,j),C[B+2]=q(C[B+2],p,M,W,U)}},N.Factory.addGetterSetter(H.Node,"enhance",0,(0,z.getNumberValidator)(),N.Factory.afterSetFilter)},4134:(Se,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Grayscale=void 0,x.Grayscale=function(N){var q,k,H=N.data,z=H.length;for(q=0;q<z;q+=4)H[q]=k=.34*H[q]+.5*H[q+1]+.16*H[q+2],H[q+1]=k,H[q+2]=k}},969:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.HSL=void 0;const N=F(4362),H=F(1272),z=F(5340);N.Factory.addGetterSetter(H.Node,"hue",0,(0,z.getNumberValidator)(),N.Factory.afterSetFilter),N.Factory.addGetterSetter(H.Node,"saturation",0,(0,z.getNumberValidator)(),N.Factory.afterSetFilter),N.Factory.addGetterSetter(H.Node,"luminance",0,(0,z.getNumberValidator)(),N.Factory.afterSetFilter),x.HSL=function(k){var b,j,G,O,U,T=k.data,C=T.length,y=Math.pow(2,this.saturation()),D=Math.abs(this.hue()+360)%360,S=127*this.luminance(),v=1*y*Math.cos(D*Math.PI/180),m=1*y*Math.sin(D*Math.PI/180),p=.299+.701*v+.167*m,M=.587-.587*v+.33*m,w=.114-.114*v-.497*m,B=.299-.299*v-.328*m,u=.587+.413*v+.035*m,f=.114-.114*v+.293*m,E=.299-.3*v+1.25*m,V=.587-.586*v-1.05*m,$=.114+.886*v-.2*m;for(b=0;b<C;b+=4)U=T[b+3],T[b+0]=p*(j=T[b+0])+M*(G=T[b+1])+w*(O=T[b+2])+S,T[b+1]=B*j+u*G+f*O+S,T[b+2]=E*j+V*G+$*O+S,T[b+3]=U}},8533:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.HSV=void 0;const N=F(4362),H=F(1272),z=F(5340);x.HSV=function(k){var S,$,j,G,O,T=k.data,C=T.length,g=Math.pow(2,this.value()),y=Math.pow(2,this.saturation()),D=Math.abs(this.hue()+360)%360,b=g*y*Math.cos(D*Math.PI/180),v=g*y*Math.sin(D*Math.PI/180),m=.299*g+.701*b+.167*v,p=.587*g-.587*b+.33*v,M=.114*g-.114*b-.497*v,w=.299*g-.299*b-.328*v,B=.587*g+.413*b+.035*v,u=.114*g-.114*b+.293*v,f=.299*g-.3*b+1.25*v,E=.587*g-.586*b-1.05*v,V=.114*g+.886*b-.2*v;for(S=0;S<C;S+=4)O=T[S+3],T[S+0]=m*($=T[S+0])+p*(j=T[S+1])+M*(G=T[S+2]),T[S+1]=w*$+B*j+u*G,T[S+2]=f*$+E*j+V*G,T[S+3]=O},N.Factory.addGetterSetter(H.Node,"hue",0,(0,z.getNumberValidator)(),N.Factory.afterSetFilter),N.Factory.addGetterSetter(H.Node,"saturation",0,(0,z.getNumberValidator)(),N.Factory.afterSetFilter),N.Factory.addGetterSetter(H.Node,"value",0,(0,z.getNumberValidator)(),N.Factory.afterSetFilter)},8049:(Se,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Invert=void 0,x.Invert=function(N){var q,H=N.data,z=H.length;for(q=0;q<z;q+=4)H[q]=255-H[q],H[q+1]=255-H[q+1],H[q+2]=255-H[q+2]}},4070:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Kaleidoscope=void 0;const N=F(4362),H=F(1272),z=F(7675),q=F(5340);x.Kaleidoscope=function(g){var S,b,v,m,M,w,B,u,f,y=g.width,D=g.height,E=Math.round(this.kaleidoscopePower()),V=Math.round(this.kaleidoscopeAngle()),$=Math.floor(y*(V%360)/360);if(!(E<1)){var j=z.Util.createCanvasElement();j.width=y,j.height=D;var G=j.getContext("2d").getImageData(0,0,y,D);z.Util.releaseCanvas(j),function(g,y,D){var w,B,u,j,S=g.data,b=y.data,v=g.width,m=g.height,p=D.polarCenterX||v/2,M=D.polarCenterY||m/2,f=0,E=0,V=0,$=0,G=Math.sqrt(p*p+M*M);B=v-p,u=m-M,G=(j=Math.sqrt(B*B+u*u))>G?j:G;var W,Q,_,R,O=m,U=v,re=360/U*Math.PI/180;for(Q=0;Q<U;Q+=1)for(_=Math.sin(Q*re),R=Math.cos(Q*re),W=0;W<O;W+=1)B=Math.floor(p+G*W/O*R),f=S[0+(w=4*((u=Math.floor(M+G*W/O*_))*v+B))],E=S[w+1],V=S[w+2],$=S[w+3],b[0+(w=4*(Q+W*v))]=f,b[w+1]=E,b[w+2]=V,b[w+3]=$}(g,G,{polarCenterX:y/2,polarCenterY:D/2});for(var O=y/Math.pow(2,E);O<=8;)O*=2,E-=1;var U=O=Math.ceil(O),W=0,Q=U,re=1;for($+O>y&&(W=U,Q=0,re=-1),b=0;b<D;b+=1)for(S=W;S!==Q;S+=re)v=Math.round(S+$)%y,M=G.data[1+(u=4*(y*b+v))],w=G.data[u+2],B=G.data[u+3],G.data[0+(f=4*(y*b+S))]=G.data[u+0],G.data[f+1]=M,G.data[f+2]=w,G.data[f+3]=B;for(b=0;b<D;b+=1)for(U=Math.floor(O),m=0;m<E;m+=1){for(S=0;S<U+1;S+=1)M=G.data[1+(u=4*(y*b+S))],w=G.data[u+2],B=G.data[u+3],G.data[0+(f=4*(y*b+2*U-S-1))]=G.data[u+0],G.data[f+1]=M,G.data[f+2]=w,G.data[f+3]=B;U*=2}!function(g,y,D){var w,B,u,f,E,O,S=g.data,b=y.data,v=g.width,m=g.height,p=D.polarCenterX||v/2,M=D.polarCenterY||m/2,V=0,$=0,j=0,G=0,U=Math.sqrt(p*p+M*M);B=v-p,u=m-M,U=(O=Math.sqrt(B*B+u*u))>U?O:U;var re,_,P,W=m,Q=v,R=D.polarRotation||0;for(B=0;B<v;B+=1)for(u=0;u<m;u+=1)f=B-p,E=u-M,re=Math.sqrt(f*f+E*E)*W/U,_=(_=(180*Math.atan2(E,f)/Math.PI+360+R)%360)*Q/360,P=Math.floor(_),V=S[0+(w=4*(Math.floor(re)*v+P))],$=S[w+1],j=S[w+2],G=S[w+3],b[0+(w=4*(u*v+B))]=V,b[w+1]=$,b[w+2]=j,b[w+3]=G}(G,g,{polarRotation:0})}},N.Factory.addGetterSetter(H.Node,"kaleidoscopePower",2,(0,q.getNumberValidator)(),N.Factory.afterSetFilter),N.Factory.addGetterSetter(H.Node,"kaleidoscopeAngle",0,(0,q.getNumberValidator)(),N.Factory.afterSetFilter)},7193:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Mask=void 0;const N=F(4362),H=F(1272),z=F(5340);function q(v,m,p){var M=4*(p*v.width+m),w=[];return w.push(v.data[M++],v.data[M++],v.data[M++],v.data[M++]),w}function k(v,m){return Math.sqrt(Math.pow(v[0]-m[0],2)+Math.pow(v[1]-m[1],2)+Math.pow(v[2]-m[2],2))}x.Mask=function(v){var p=function C(v,m){var p=q(v,0,0),M=q(v,v.width-1,0),w=q(v,0,v.height-1),B=q(v,v.width-1,v.height-1),u=m||10;if(k(p,M)<u&&k(M,B)<u&&k(B,w)<u&&k(w,p)<u){for(var f=function T(v){for(var m=[0,0,0],p=0;p<v.length;p++)m[0]+=v[p][0],m[1]+=v[p][1],m[2]+=v[p][2];return m[0]/=v.length,m[1]/=v.length,m[2]/=v.length,m}([M,p,B,w]),E=[],V=0;V<v.width*v.height;V++){var $=k(f,[v.data[4*V],v.data[4*V+1],v.data[4*V+2]]);E[V]=$<u?0:255}return E}}(v,this.threshold());return p&&(p=function y(v,m,p){for(var M=[1,1,1,1,0,1,1,1,1],w=Math.round(Math.sqrt(M.length)),B=Math.floor(w/2),u=[],f=0;f<p;f++)for(var E=0;E<m;E++){for(var V=f*m+E,$=0,j=0;j<w;j++)for(var G=0;G<w;G++){var O=f+j-B,U=E+G-B;O>=0&&O<p&&U>=0&&U<m&&($+=v[O*m+U]*M[j*w+G])}u[V]=2040===$?255:0}return u}(p,v.width,v.height),p=function D(v,m,p){for(var M=[1,1,1,1,1,1,1,1,1],w=Math.round(Math.sqrt(M.length)),B=Math.floor(w/2),u=[],f=0;f<p;f++)for(var E=0;E<m;E++){for(var V=f*m+E,$=0,j=0;j<w;j++)for(var G=0;G<w;G++){var O=f+j-B,U=E+G-B;O>=0&&O<p&&U>=0&&U<m&&($+=v[O*m+U]*M[j*w+G])}u[V]=$>=1020?255:0}return u}(p,v.width,v.height),p=function S(v,m,p){for(var M=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],w=Math.round(Math.sqrt(M.length)),B=Math.floor(w/2),u=[],f=0;f<p;f++)for(var E=0;E<m;E++){for(var V=f*m+E,$=0,j=0;j<w;j++)for(var G=0;G<w;G++){var O=f+j-B,U=E+G-B;O>=0&&O<p&&U>=0&&U<m&&($+=v[O*m+U]*M[j*w+G])}u[V]=$}return u}(p,v.width,v.height),function g(v,m){for(var p=0;p<v.width*v.height;p++)v.data[4*p+3]=m[p]}(v,p)),v},N.Factory.addGetterSetter(H.Node,"threshold",0,(0,z.getNumberValidator)(),N.Factory.afterSetFilter)},6103:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Noise=void 0;const N=F(4362),H=F(1272),z=F(5340);x.Noise=function(k){var D,T=255*this.noise(),C=k.data,g=C.length,y=T/2;for(D=0;D<g;D+=4)C[D+0]+=y-2*y*Math.random(),C[D+1]+=y-2*y*Math.random(),C[D+2]+=y-2*y*Math.random()},N.Factory.addGetterSetter(H.Node,"noise",.2,(0,z.getNumberValidator)(),N.Factory.afterSetFilter)},6979:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Pixelate=void 0;const N=F(4362),H=F(7675),z=F(1272),q=F(5340);x.Pixelate=function(T){var D,S,b,v,m,p,M,u,f,E,V,$,j,G,C=Math.ceil(this.pixelSize()),g=T.width,y=T.height,w=Math.ceil(g/C),B=Math.ceil(y/C),O=T.data;if(C<=0)H.Util.error("pixelSize value can not be <= 0");else for($=0;$<w;$+=1)for(j=0;j<B;j+=1){for(v=0,m=0,p=0,M=0,f=(u=$*C)+C,V=(E=j*C)+C,G=0,D=u;D<f;D+=1)if(!(D>=g))for(S=E;S<V;S+=1)S>=y||(v+=O[0+(b=4*(g*S+D))],m+=O[b+1],p+=O[b+2],M+=O[b+3],G+=1);for(v/=G,m/=G,p/=G,M/=G,D=u;D<f;D+=1)if(!(D>=g))for(S=E;S<V;S+=1)S>=y||(O[0+(b=4*(g*S+D))]=v,O[b+1]=m,O[b+2]=p,O[b+3]=M)}},N.Factory.addGetterSetter(z.Node,"pixelSize",8,(0,q.getNumberValidator)(),N.Factory.afterSetFilter)},6055:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Posterize=void 0;const N=F(4362),H=F(1272),z=F(5340);x.Posterize=function(k){var D,T=Math.round(254*this.levels())+1,C=k.data,g=C.length,y=255/T;for(D=0;D<g;D+=1)C[D]=Math.floor(C[D]/y)*y},N.Factory.addGetterSetter(H.Node,"levels",.5,(0,z.getNumberValidator)(),N.Factory.afterSetFilter)},8884:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.RGB=void 0;const N=F(4362),H=F(1272),z=F(5340);x.RGB=function(k){var S,b,T=k.data,C=T.length,g=this.red(),y=this.green(),D=this.blue();for(S=0;S<C;S+=4)T[S]=(b=(.34*T[S]+.5*T[S+1]+.16*T[S+2])/255)*g,T[S+1]=b*y,T[S+2]=b*D,T[S+3]=T[S+3]},N.Factory.addGetterSetter(H.Node,"red",0,function(k){return this._filterUpToDate=!1,k>255?255:k<0?0:Math.round(k)}),N.Factory.addGetterSetter(H.Node,"green",0,function(k){return this._filterUpToDate=!1,k>255?255:k<0?0:Math.round(k)}),N.Factory.addGetterSetter(H.Node,"blue",0,z.RGBComponent,N.Factory.afterSetFilter)},8089:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.RGBA=void 0;const N=F(4362),H=F(1272),z=F(5340);x.RGBA=function(k){var b,v,T=k.data,C=T.length,g=this.red(),y=this.green(),D=this.blue(),S=this.alpha();for(b=0;b<C;b+=4)T[b]=g*S+T[b]*(v=1-S),T[b+1]=y*S+T[b+1]*v,T[b+2]=D*S+T[b+2]*v},N.Factory.addGetterSetter(H.Node,"red",0,function(k){return this._filterUpToDate=!1,k>255?255:k<0?0:Math.round(k)}),N.Factory.addGetterSetter(H.Node,"green",0,function(k){return this._filterUpToDate=!1,k>255?255:k<0?0:Math.round(k)}),N.Factory.addGetterSetter(H.Node,"blue",0,z.RGBComponent,N.Factory.afterSetFilter),N.Factory.addGetterSetter(H.Node,"alpha",1,function(k){return this._filterUpToDate=!1,k>1?1:k<0?0:k})},9086:(Se,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Sepia=void 0,x.Sepia=function(N){var q,k,T,C,H=N.data,z=H.length;for(q=0;q<z;q+=4)k=H[q+0],T=H[q+1],C=H[q+2],H[q+0]=Math.min(255,.393*k+.769*T+.189*C),H[q+1]=Math.min(255,.349*k+.686*T+.168*C),H[q+2]=Math.min(255,.272*k+.534*T+.131*C)}},396:(Se,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Solarize=void 0,x.Solarize=function(N){var H=N.data,z=N.width,k=4*z,T=N.height;do{var C=(T-1)*k,g=z;do{var y=C+4*(g-1),D=H[y],S=H[y+1],b=H[y+2];D>127&&(D=255-D),S>127&&(S=255-S),b>127&&(b=255-b),H[y]=D,H[y+1]=S,H[y+2]=b}while(--g)}while(--T)}},9907:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Threshold=void 0;const N=F(4362),H=F(1272),z=F(5340);x.Threshold=function(k){var y,T=255*this.threshold(),C=k.data,g=C.length;for(y=0;y<g;y+=1)C[y]=C[y]<T?0:255},N.Factory.addGetterSetter(H.Node,"threshold",.5,(0,z.getNumberValidator)(),N.Factory.afterSetFilter)},6243:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0});const N=F(4334);Se.exports=N.Konva},6917:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Arc=void 0;const N=F(4362),H=F(7293),z=F(3602),q=F(5340),k=F(3602);class T extends H.Shape{_sceneFunc(g){var y=z.Konva.getAngle(this.angle()),D=this.clockwise();g.beginPath(),g.arc(0,0,this.outerRadius(),0,y,D),g.arc(0,0,this.innerRadius(),y,0,!D),g.closePath(),g.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(g){this.outerRadius(g/2)}setHeight(g){this.outerRadius(g/2)}getSelfRect(){const g=this.innerRadius(),y=this.outerRadius(),D=this.clockwise(),S=z.Konva.getAngle(D?360-this.angle():this.angle()),b=Math.cos(Math.min(S,Math.PI)),m=Math.sin(Math.min(Math.max(Math.PI,S),3*Math.PI/2)),p=Math.sin(Math.min(S,Math.PI/2)),M=b*(b>0?g:y),B=m*(m>0?g:y),u=p*(p>0?y:g);return{x:M,y:D?-1*u:B,width:1*y-M,height:u-B}}}x.Arc=T,T.prototype._centroid=!0,T.prototype.className="Arc",T.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,k._registerNode)(T),N.Factory.addGetterSetter(T,"innerRadius",0,(0,q.getNumberValidator)()),N.Factory.addGetterSetter(T,"outerRadius",0,(0,q.getNumberValidator)()),N.Factory.addGetterSetter(T,"angle",0,(0,q.getNumberValidator)()),N.Factory.addGetterSetter(T,"clockwise",!1,(0,q.getBooleanValidator)())},2488:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Arrow=void 0;const N=F(4362),H=F(1525),z=F(5340),q=F(3602),k=F(9188);class T extends H.Line{_sceneFunc(g){super._sceneFunc(g);var y=2*Math.PI,D=this.points(),S=D,b=0!==this.tension()&&D.length>4;b&&(S=this.getTensionPoints());var p,M,v=this.pointerLength(),m=D.length;if(b){const u=[S[S.length-4],S[S.length-3],S[S.length-2],S[S.length-1],D[m-2],D[m-1]],f=k.Path.calcLength(S[S.length-4],S[S.length-3],"C",u),E=k.Path.getPointOnQuadraticBezier(Math.min(1,1-v/f),u[0],u[1],u[2],u[3],u[4],u[5]);p=D[m-2]-E.x,M=D[m-1]-E.y}else p=D[m-2]-D[m-4],M=D[m-1]-D[m-3];var w=(Math.atan2(M,p)+y)%y,B=this.pointerWidth();this.pointerAtEnding()&&(g.save(),g.beginPath(),g.translate(D[m-2],D[m-1]),g.rotate(w),g.moveTo(0,0),g.lineTo(-v,B/2),g.lineTo(-v,-B/2),g.closePath(),g.restore(),this.__fillStroke(g)),this.pointerAtBeginning()&&(g.save(),g.beginPath(),g.translate(D[0],D[1]),b?(p=(S[0]+S[2])/2-D[0],M=(S[1]+S[3])/2-D[1]):(p=D[2]-D[0],M=D[3]-D[1]),g.rotate((Math.atan2(-M,-p)+y)%y),g.moveTo(0,0),g.lineTo(-v,B/2),g.lineTo(-v,-B/2),g.closePath(),g.restore(),this.__fillStroke(g))}__fillStroke(g){var y=this.dashEnabled();y&&(this.attrs.dashEnabled=!1,g.setLineDash([])),g.fillStrokeShape(this),y&&(this.attrs.dashEnabled=!0)}getSelfRect(){const g=super.getSelfRect(),y=this.pointerWidth()/2;return{x:g.x-y,y:g.y-y,width:g.width+2*y,height:g.height+2*y}}}x.Arrow=T,T.prototype.className="Arrow",(0,q._registerNode)(T),N.Factory.addGetterSetter(T,"pointerLength",10,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(T,"pointerWidth",10,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(T,"pointerAtBeginning",!1),N.Factory.addGetterSetter(T,"pointerAtEnding",!0)},8263:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Circle=void 0;const N=F(4362),H=F(7293),z=F(5340),q=F(3602);class k extends H.Shape{_sceneFunc(C){C.beginPath(),C.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),C.closePath(),C.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(C){this.radius()!==C/2&&this.radius(C/2)}setHeight(C){this.radius()!==C/2&&this.radius(C/2)}}x.Circle=k,k.prototype._centroid=!0,k.prototype.className="Circle",k.prototype._attrsAffectingSize=["radius"],(0,q._registerNode)(k),N.Factory.addGetterSetter(k,"radius",0,(0,z.getNumberValidator)())},4185:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Ellipse=void 0;const N=F(4362),H=F(7293),z=F(5340),q=F(3602);class k extends H.Shape{_sceneFunc(C){var g=this.radiusX(),y=this.radiusY();C.beginPath(),C.save(),g!==y&&C.scale(1,y/g),C.arc(0,0,g,0,2*Math.PI,!1),C.restore(),C.closePath(),C.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(C){this.radiusX(C/2)}setHeight(C){this.radiusY(C/2)}}x.Ellipse=k,k.prototype.className="Ellipse",k.prototype._centroid=!0,k.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,q._registerNode)(k),N.Factory.addComponentsGetterSetter(k,"radius",["x","y"]),N.Factory.addGetterSetter(k,"radiusX",0,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(k,"radiusY",0,(0,z.getNumberValidator)())},3766:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Image=void 0;const N=F(7675),H=F(4362),z=F(7293),q=F(3602),k=F(5340);class T extends z.Shape{constructor(g){super(g),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const g=this.image();g&&g.complete||g&&4===g.readyState||g&&g.addEventListener&&g.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(g){const y=this.getWidth(),D=this.getHeight(),S=this.cornerRadius(),b=this.attrs.image;let v;if(b){const m=this.attrs.cropWidth,p=this.attrs.cropHeight;v=m&&p?[b,this.cropX(),this.cropY(),m,p,0,0,y,D]:[b,0,0,y,D]}(this.hasFill()||this.hasStroke()||S)&&(g.beginPath(),S?N.Util.drawRoundedRectPath(g,y,D,S):g.rect(0,0,y,D),g.closePath(),g.fillStrokeShape(this)),b&&(S&&g.clip(),g.drawImage.apply(g,v))}_hitFunc(g){var y=this.width(),D=this.height(),S=this.cornerRadius();g.beginPath(),S?N.Util.drawRoundedRectPath(g,y,D,S):g.rect(0,0,y,D),g.closePath(),g.fillStrokeShape(this)}getWidth(){var g,y;return null!==(g=this.attrs.width)&&void 0!==g?g:null===(y=this.image())||void 0===y?void 0:y.width}getHeight(){var g,y;return null!==(g=this.attrs.height)&&void 0!==g?g:null===(y=this.image())||void 0===y?void 0:y.height}static fromURL(g,y,D=null){var S=N.Util.createImageElement();S.onload=function(){var b=new T({image:S});y(b)},S.onerror=D,S.crossOrigin="Anonymous",S.src=g}}x.Image=T,T.prototype.className="Image",(0,q._registerNode)(T),H.Factory.addGetterSetter(T,"cornerRadius",0,(0,k.getNumberOrArrayOfNumbersValidator)(4)),H.Factory.addGetterSetter(T,"image"),H.Factory.addComponentsGetterSetter(T,"crop",["x","y","width","height"]),H.Factory.addGetterSetter(T,"cropX",0,(0,k.getNumberValidator)()),H.Factory.addGetterSetter(T,"cropY",0,(0,k.getNumberValidator)()),H.Factory.addGetterSetter(T,"cropWidth",0,(0,k.getNumberValidator)()),H.Factory.addGetterSetter(T,"cropHeight",0,(0,k.getNumberValidator)())},1905:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Tag=x.Label=void 0;const N=F(4362),H=F(7293),z=F(1298),q=F(5340),k=F(3602);var T=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],y="up",D="right",S="down",b="left",v=T.length;class m extends z.Group{constructor(w){super(w),this.on("add.konva",function(B){this._addListeners(B.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(w){var u,B=this,f=function(){B._sync()};for(u=0;u<v;u++)w.on(T[u]+"Change.konva",f)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var u,f,E,V,$,j,G,w=this.getText(),B=this.getTag();if(w&&B){switch(u=w.width(),f=w.height(),E=B.pointerDirection(),V=B.pointerWidth(),G=B.pointerHeight(),$=0,j=0,E){case y:$=u/2,j=-1*G;break;case D:$=u+V,j=f/2;break;case S:$=u/2,j=f+G;break;case b:$=-1*V,j=f/2}B.setAttrs({x:-1*$,y:-1*j,width:u,height:f}),w.setAttrs({x:-1*$,y:-1*j})}}}x.Label=m,m.prototype.className="Label",(0,k._registerNode)(m);class p extends H.Shape{_sceneFunc(w){var B=this.width(),u=this.height(),f=this.pointerDirection(),E=this.pointerWidth(),V=this.pointerHeight(),$=this.cornerRadius();let j=0,G=0,O=0,U=0;"number"==typeof $?j=G=O=U=Math.min($,B/2,u/2):(j=Math.min($[0]||0,B/2,u/2),G=Math.min($[1]||0,B/2,u/2),U=Math.min($[2]||0,B/2,u/2),O=Math.min($[3]||0,B/2,u/2)),w.beginPath(),w.moveTo(j,0),f===y&&(w.lineTo((B-E)/2,0),w.lineTo(B/2,-1*V),w.lineTo((B+E)/2,0)),w.lineTo(B-G,0),w.arc(B-G,G,G,3*Math.PI/2,0,!1),f===D&&(w.lineTo(B,(u-V)/2),w.lineTo(B+E,u/2),w.lineTo(B,(u+V)/2)),w.lineTo(B,u-U),w.arc(B-U,u-U,U,0,Math.PI/2,!1),f===S&&(w.lineTo((B+E)/2,u),w.lineTo(B/2,u+V),w.lineTo((B-E)/2,u)),w.lineTo(O,u),w.arc(O,u-O,O,Math.PI/2,Math.PI,!1),f===b&&(w.lineTo(0,(u+V)/2),w.lineTo(-1*E,u/2),w.lineTo(0,(u-V)/2)),w.lineTo(0,j),w.arc(j,j,j,Math.PI,3*Math.PI/2,!1),w.closePath(),w.fillStrokeShape(this)}getSelfRect(){var w=0,B=0,u=this.pointerWidth(),f=this.pointerHeight(),E=this.pointerDirection(),V=this.width(),$=this.height();return E===y?(B-=f,$+=f):E===S?$+=f:E===b?(w-=1.5*u,V+=u):E===D&&(V+=1.5*u),{x:w,y:B,width:V,height:$}}}x.Tag=p,p.prototype.className="Tag",(0,k._registerNode)(p),N.Factory.addGetterSetter(p,"pointerDirection","none"),N.Factory.addGetterSetter(p,"pointerWidth",0,(0,q.getNumberValidator)()),N.Factory.addGetterSetter(p,"pointerHeight",0,(0,q.getNumberValidator)()),N.Factory.addGetterSetter(p,"cornerRadius",0,(0,q.getNumberOrArrayOfNumbersValidator)(4))},1525:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Line=void 0;const N=F(4362),H=F(7293),z=F(5340),q=F(3602);function k(g,y,D,S,b,v,m){var p=Math.sqrt(Math.pow(D-g,2)+Math.pow(S-y,2)),M=Math.sqrt(Math.pow(b-D,2)+Math.pow(v-S,2)),w=m*p/(p+M),B=m*M/(p+M);return[D-w*(b-g),S-w*(v-y),D+B*(b-g),S+B*(v-y)]}function T(g,y){var b,v,D=g.length,S=[];for(b=2;b<D-2;b+=2)v=k(g[b-2],g[b-1],g[b],g[b+1],g[b+2],g[b+3],y),!isNaN(v[0])&&(S.push(v[0]),S.push(v[1]),S.push(g[b]),S.push(g[b+1]),S.push(v[2]),S.push(v[3]));return S}class C extends H.Shape{constructor(y){super(y),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(y){var p,M,w,D=this.points(),S=D.length,b=this.tension(),v=this.closed(),m=this.bezier();if(S){if(y.beginPath(),y.moveTo(D[0],D[1]),0!==b&&S>4){for(M=(p=this.getTensionPoints()).length,w=v?0:4,v||y.quadraticCurveTo(p[0],p[1],p[2],p[3]);w<M-2;)y.bezierCurveTo(p[w++],p[w++],p[w++],p[w++],p[w++],p[w++]);v||y.quadraticCurveTo(p[M-2],p[M-1],D[S-2],D[S-1])}else if(m)for(w=2;w<S;)y.bezierCurveTo(D[w++],D[w++],D[w++],D[w++],D[w++],D[w++]);else for(w=2;w<S;w+=2)y.lineTo(D[w],D[w+1]);v?(y.closePath(),y.fillStrokeShape(this)):y.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():T(this.points(),this.tension())}_getTensionPointsClosed(){var y=this.points(),D=y.length,S=this.tension(),b=k(y[D-2],y[D-1],y[0],y[1],y[2],y[3],S),v=k(y[D-4],y[D-3],y[D-2],y[D-1],y[0],y[1],S),m=T(y,S);return[b[2],b[3]].concat(m).concat([v[0],v[1],y[D-2],y[D-1],v[2],v[3],b[0],b[1],y[0],y[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var y=this.points();if(y.length<4)return{x:y[0]||0,y:y[1]||0,width:0,height:0};for(var m,p,D=(y=0!==this.tension()?[y[0],y[1],...this._getTensionPoints(),y[y.length-2],y[y.length-1]]:this.points())[0],S=y[0],b=y[1],v=y[1],M=0;M<y.length/2;M++)m=y[2*M],p=y[2*M+1],D=Math.min(D,m),S=Math.max(S,m),b=Math.min(b,p),v=Math.max(v,p);return{x:D,y:b,width:S-D,height:v-b}}}x.Line=C,C.prototype.className="Line",C.prototype._attrsAffectingSize=["points","bezier","tension"],(0,q._registerNode)(C),N.Factory.addGetterSetter(C,"closed",!1),N.Factory.addGetterSetter(C,"bezier",!1),N.Factory.addGetterSetter(C,"tension",0,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(C,"points",[],(0,z.getNumberArrayValidator)())},9188:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Path=void 0;const N=F(4362),H=F(7293),z=F(3602),q=F(974);class k extends H.Shape{constructor(C){super(C),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=k.parsePathData(this.data()),this.pathLength=k.getPathLength(this.dataArray)}_sceneFunc(C){var g=this.dataArray;C.beginPath();for(var y=!1,D=0;D<g.length;D++){var b=g[D].points;switch(g[D].command){case"L":C.lineTo(b[0],b[1]);break;case"M":C.moveTo(b[0],b[1]);break;case"C":C.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5]);break;case"Q":C.quadraticCurveTo(b[0],b[1],b[2],b[3]);break;case"A":var v=b[0],m=b[1],p=b[2],M=b[3],w=b[4],B=b[5],u=b[6],f=b[7],E=p>M?p:M,V=p>M?1:p/M,$=p>M?M/p:1;C.translate(v,m),C.rotate(u),C.scale(V,$),C.arc(0,0,E,w,w+B,1-f),C.scale(1/V,1/$),C.rotate(-u),C.translate(-v,-m);break;case"z":y=!0,C.closePath()}}y||this.hasFill()?C.fillStrokeShape(this):C.strokeShape(this)}getSelfRect(){var C=[];this.dataArray.forEach(function(p){if("A"===p.command){var M=p.points[4],w=p.points[5],B=p.points[4]+w,u=Math.PI/180;if(Math.abs(M-B)<u&&(u=Math.abs(M-B)),w<0)for(let f=M-u;f>B;f-=u){const E=k.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],f,0);C.push(E.x,E.y)}else for(let f=M+u;f<B;f+=u){const E=k.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],f,0);C.push(E.x,E.y)}}else if("C"===p.command)for(let f=0;f<=1;f+=.01){const E=k.getPointOnCubicBezier(f,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3],p.points[4],p.points[5]);C.push(E.x,E.y)}else C=C.concat(p.points)});for(var b,v,g=C[0],y=C[0],D=C[1],S=C[1],m=0;m<C.length/2;m++)b=C[2*m],v=C[2*m+1],isNaN(b)||(g=Math.min(g,b),y=Math.max(y,b)),isNaN(v)||(D=Math.min(D,v),S=Math.max(S,v));return{x:g,y:D,width:y-g,height:S-D}}getLength(){return this.pathLength}getPointAtLength(C){return k.getPointAtLengthOfDataArray(C,this.dataArray)}static getLineLength(C,g,y,D){return Math.sqrt((y-C)*(y-C)+(D-g)*(D-g))}static getPathLength(C){let g=0;for(var y=0;y<C.length;++y)g+=C[y].pathLength;return g}static getPointAtLengthOfDataArray(C,g){var y,D=0,S=g.length;if(!S)return null;for(;D<S&&C>g[D].pathLength;)C-=g[D].pathLength,++D;if(D===S)return{x:(y=g[D-1].points.slice(-2))[0],y:y[1]};if(C<.01)return{x:(y=g[D].points.slice(0,2))[0],y:y[1]};var b=g[D],v=b.points;switch(b.command){case"L":return k.getPointOnLine(C,b.start.x,b.start.y,v[0],v[1]);case"C":return k.getPointOnCubicBezier((0,q.t2length)(C,k.getPathLength(g),E=>(0,q.getCubicArcLength)([b.start.x,v[0],v[2],v[4]],[b.start.y,v[1],v[3],v[5]],E)),b.start.x,b.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return k.getPointOnQuadraticBezier((0,q.t2length)(C,k.getPathLength(g),E=>(0,q.getQuadraticArcLength)([b.start.x,v[0],v[2]],[b.start.y,v[1],v[3]],E)),b.start.x,b.start.y,v[0],v[1],v[2],v[3]);case"A":var B=v[4];return k.getPointOnEllipticalArc(v[0],v[1],v[2],v[3],B+=v[5]*C/b.pathLength,v[6])}return null}static getPointOnLine(C,g,y,D,S,b,v){void 0===b&&(b=g),void 0===v&&(v=y);var m=(S-y)/(D-g+1e-8),p=Math.sqrt(C*C/(1+m*m));D<g&&(p*=-1);var w,M=m*p;if(D===g)w={x:b,y:v+M};else if((v-y)/(b-g+1e-8)===m)w={x:b+p,y:v+M};else{var B,u,f=this.getLineLength(g,y,D,S),E=(b-g)*(D-g)+(v-y)*(S-y),V=this.getLineLength(b,v,B=g+(E/=f*f)*(D-g),u=y+E*(S-y)),$=Math.sqrt(C*C-V*V);p=Math.sqrt($*$/(1+m*m)),D<g&&(p*=-1),w={x:B+p,y:u+(M=m*p)}}return w}static getPointOnCubicBezier(C,g,y,D,S,b,v,m,p){function M(V){return V*V*V}function w(V){return 3*V*V*(1-V)}function B(V){return 3*V*(1-V)*(1-V)}function u(V){return(1-V)*(1-V)*(1-V)}return{x:m*M(C)+b*w(C)+D*B(C)+g*u(C),y:p*M(C)+v*w(C)+S*B(C)+y*u(C)}}static getPointOnQuadraticBezier(C,g,y,D,S,b,v){function m(u){return u*u}function p(u){return 2*u*(1-u)}function M(u){return(1-u)*(1-u)}return{x:b*m(C)+D*p(C)+g*M(C),y:v*m(C)+S*p(C)+y*M(C)}}static getPointOnEllipticalArc(C,g,y,D,S,b){var v=Math.cos(b),m=Math.sin(b),p_x=y*Math.cos(S),p_y=D*Math.sin(S);return{x:C+(p_x*v-p_y*m),y:g+(p_x*m+p_y*v)}}static parsePathData(C){if(!C)return[];var g=C,y=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];g=g.replace(new RegExp(" ","g"),",");for(var D=0;D<y.length;D++)g=g.replace(new RegExp(y[D],"g"),"|"+y[D]);var w,S=g.split("|"),b=[],v=[],m=0,p=0,M=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(D=1;D<S.length;D++){var B=S[D],u=B.charAt(0);for(B=B.slice(1),v.length=0;w=M.exec(B);)v.push(w[0]);for(var f=[],E=0,V=v.length;E<V;E++)if("00"!==v[E]){var $=parseFloat(v[E]);isNaN($)?f.push(0):f.push($)}else f.push(0,0);for(;f.length>0&&!isNaN(f[0]);){var W,Q,re,_,R,P,Y,X,te,ne,j=null,G=[],O=m,U=p;switch(u){case"l":m+=f.shift(),p+=f.shift(),j="L",G.push(m,p);break;case"L":m=f.shift(),p=f.shift(),G.push(m,p);break;case"m":var he=f.shift(),pe=f.shift();if(m+=he,p+=pe,j="M",b.length>2&&"z"===b[b.length-1].command)for(var ce=b.length-2;ce>=0;ce--)if("M"===b[ce].command){m=b[ce].points[0]+he,p=b[ce].points[1]+pe;break}G.push(m,p),u="l";break;case"M":m=f.shift(),p=f.shift(),j="M",G.push(m,p),u="L";break;case"h":m+=f.shift(),j="L",G.push(m,p);break;case"H":m=f.shift(),j="L",G.push(m,p);break;case"v":p+=f.shift(),j="L",G.push(m,p);break;case"V":p=f.shift(),j="L",G.push(m,p);break;case"C":G.push(f.shift(),f.shift(),f.shift(),f.shift()),m=f.shift(),p=f.shift(),G.push(m,p);break;case"c":G.push(m+f.shift(),p+f.shift(),m+f.shift(),p+f.shift()),m+=f.shift(),p+=f.shift(),j="C",G.push(m,p);break;case"S":Q=m,re=p,"C"===(W=b[b.length-1]).command&&(Q=m+(m-W.points[2]),re=p+(p-W.points[3])),G.push(Q,re,f.shift(),f.shift()),m=f.shift(),p=f.shift(),j="C",G.push(m,p);break;case"s":Q=m,re=p,"C"===(W=b[b.length-1]).command&&(Q=m+(m-W.points[2]),re=p+(p-W.points[3])),G.push(Q,re,m+f.shift(),p+f.shift()),m+=f.shift(),p+=f.shift(),j="C",G.push(m,p);break;case"Q":G.push(f.shift(),f.shift()),m=f.shift(),p=f.shift(),G.push(m,p);break;case"q":G.push(m+f.shift(),p+f.shift()),m+=f.shift(),p+=f.shift(),j="Q",G.push(m,p);break;case"T":Q=m,re=p,"Q"===(W=b[b.length-1]).command&&(Q=m+(m-W.points[0]),re=p+(p-W.points[1])),m=f.shift(),p=f.shift(),j="Q",G.push(Q,re,m,p);break;case"t":Q=m,re=p,"Q"===(W=b[b.length-1]).command&&(Q=m+(m-W.points[0]),re=p+(p-W.points[1])),m+=f.shift(),p+=f.shift(),j="Q",G.push(Q,re,m,p);break;case"A":_=f.shift(),R=f.shift(),P=f.shift(),Y=f.shift(),X=f.shift(),te=m,ne=p,m=f.shift(),p=f.shift(),j="A",G=this.convertEndpointToCenterParameterization(te,ne,m,p,Y,X,_,R,P);break;case"a":_=f.shift(),R=f.shift(),P=f.shift(),Y=f.shift(),X=f.shift(),te=m,ne=p,m+=f.shift(),p+=f.shift(),j="A",G=this.convertEndpointToCenterParameterization(te,ne,m,p,Y,X,_,R,P)}b.push({command:j||u,points:G,start:{x:O,y:U},pathLength:this.calcLength(O,U,j||u,G)})}("z"===u||"Z"===u)&&b.push({command:"z",points:[],start:void 0,pathLength:0})}return b}static calcLength(C,g,y,D){var S,b,v,m,p=k;switch(y){case"L":return p.getLineLength(C,g,D[0],D[1]);case"C":return(0,q.getCubicArcLength)([C,D[0],D[2],D[4]],[g,D[1],D[3],D[5]],1);case"Q":return(0,q.getQuadraticArcLength)([C,D[0],D[2]],[g,D[1],D[3]],1);case"A":S=0;var M=D[4],w=D[5],B=D[4]+w,u=Math.PI/180;if(Math.abs(M-B)<u&&(u=Math.abs(M-B)),b=p.getPointOnEllipticalArc(D[0],D[1],D[2],D[3],M,0),w<0)for(m=M-u;m>B;m-=u)v=p.getPointOnEllipticalArc(D[0],D[1],D[2],D[3],m,0),S+=p.getLineLength(b.x,b.y,v.x,v.y),b=v;else for(m=M+u;m<B;m+=u)v=p.getPointOnEllipticalArc(D[0],D[1],D[2],D[3],m,0),S+=p.getLineLength(b.x,b.y,v.x,v.y),b=v;return v=p.getPointOnEllipticalArc(D[0],D[1],D[2],D[3],B,0),S+p.getLineLength(b.x,b.y,v.x,v.y)}return 0}static convertEndpointToCenterParameterization(C,g,y,D,S,b,v,m,p){var M=p*(Math.PI/180),w=Math.cos(M)*(C-y)/2+Math.sin(M)*(g-D)/2,B=-1*Math.sin(M)*(C-y)/2+Math.cos(M)*(g-D)/2,u=w*w/(v*v)+B*B/(m*m);u>1&&(v*=Math.sqrt(u),m*=Math.sqrt(u));var f=Math.sqrt((v*v*(m*m)-v*v*(B*B)-m*m*(w*w))/(v*v*(B*B)+m*m*(w*w)));S===b&&(f*=-1),isNaN(f)&&(f=0);var E=f*v*B/m,V=f*-m*w/v,$=(C+y)/2+Math.cos(M)*E-Math.sin(M)*V,j=(g+D)/2+Math.sin(M)*E+Math.cos(M)*V,G=function(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])},O=function(R,P){return(R[0]*P[0]+R[1]*P[1])/(G(R)*G(P))},U=function(R,P){return(R[0]*P[1]<R[1]*P[0]?-1:1)*Math.acos(O(R,P))},W=U([1,0],[(w-E)/v,(B-V)/m]),Q=[(w-E)/v,(B-V)/m],re=[(-1*w-E)/v,(-1*B-V)/m],_=U(Q,re);return O(Q,re)<=-1&&(_=Math.PI),O(Q,re)>=1&&(_=0),0===b&&_>0&&(_-=2*Math.PI),1===b&&_<0&&(_+=2*Math.PI),[$,j,v,m,W,_,M,b]}}x.Path=k,k.prototype.className="Path",k.prototype._attrsAffectingSize=["data"],(0,z._registerNode)(k),N.Factory.addGetterSetter(k,"data")},9:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Rect=void 0;const N=F(4362),H=F(7293),z=F(3602),q=F(7675),k=F(5340);class T extends H.Shape{_sceneFunc(g){var y=this.cornerRadius(),D=this.width(),S=this.height();g.beginPath(),y?q.Util.drawRoundedRectPath(g,D,S,y):g.rect(0,0,D,S),g.closePath(),g.fillStrokeShape(this)}}x.Rect=T,T.prototype.className="Rect",(0,z._registerNode)(T),N.Factory.addGetterSetter(T,"cornerRadius",0,(0,k.getNumberOrArrayOfNumbersValidator)(4))},4886:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.RegularPolygon=void 0;const N=F(4362),H=F(7293),z=F(5340),q=F(3602);class k extends H.Shape{_sceneFunc(C){const g=this._getPoints();C.beginPath(),C.moveTo(g[0].x,g[0].y);for(var y=1;y<g.length;y++)C.lineTo(g[y].x,g[y].y);C.closePath(),C.fillStrokeShape(this)}_getPoints(){const C=this.attrs.sides,g=this.attrs.radius||0,y=[];for(var D=0;D<C;D++)y.push({x:g*Math.sin(2*D*Math.PI/C),y:-1*g*Math.cos(2*D*Math.PI/C)});return y}getSelfRect(){const C=this._getPoints();var g=C[0].x,y=C[0].y,D=C[0].x,S=C[0].y;return C.forEach(b=>{g=Math.min(g,b.x),y=Math.max(y,b.x),D=Math.min(D,b.y),S=Math.max(S,b.y)}),{x:g,y:D,width:y-g,height:S-D}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(C){this.radius(C/2)}setHeight(C){this.radius(C/2)}}x.RegularPolygon=k,k.prototype.className="RegularPolygon",k.prototype._centroid=!0,k.prototype._attrsAffectingSize=["radius"],(0,q._registerNode)(k),N.Factory.addGetterSetter(k,"radius",0,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(k,"sides",0,(0,z.getNumberValidator)())},3277:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Ring=void 0;const N=F(4362),H=F(7293),z=F(5340),q=F(3602);var k=2*Math.PI;class T extends H.Shape{_sceneFunc(g){g.beginPath(),g.arc(0,0,this.innerRadius(),0,k,!1),g.moveTo(this.outerRadius(),0),g.arc(0,0,this.outerRadius(),k,0,!0),g.closePath(),g.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(g){this.outerRadius(g/2)}setHeight(g){this.outerRadius(g/2)}}x.Ring=T,T.prototype.className="Ring",T.prototype._centroid=!0,T.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,q._registerNode)(T),N.Factory.addGetterSetter(T,"innerRadius",0,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(T,"outerRadius",0,(0,z.getNumberValidator)())},5421:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Sprite=void 0;const N=F(4362),H=F(7293),z=F(4909),q=F(5340),k=F(3602);class T extends H.Shape{constructor(g){super(g),this._updated=!0,this.anim=new z.Animation(()=>{var y=this._updated;return this._updated=!1,y}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(g){var y=this.animation(),D=this.frameIndex(),S=4*D,b=this.animations()[y],v=this.frameOffsets(),m=b[S+0],p=b[S+1],M=b[S+2],w=b[S+3],B=this.image();if((this.hasFill()||this.hasStroke())&&(g.beginPath(),g.rect(0,0,M,w),g.closePath(),g.fillStrokeShape(this)),B)if(v){var u=v[y],f=2*D;g.drawImage(B,m,p,M,w,u[f+0],u[f+1],M,w)}else g.drawImage(B,m,p,M,w,0,0,M,w)}_hitFunc(g){var y=this.animation(),D=this.frameIndex(),S=4*D,b=this.animations()[y],v=this.frameOffsets(),m=b[S+2],p=b[S+3];if(g.beginPath(),v){var M=v[y],w=2*D;g.rect(M[w+0],M[w+1],m,p)}else g.rect(0,0,m,p);g.closePath(),g.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var g=this;this.interval=setInterval(function(){g._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var g=this.getLayer();this.anim.setLayers(g),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var g=this.frameIndex(),y=this.animation(),D=this.animations();this.frameIndex(g<D[y].length/4-1?g+1:0)}}x.Sprite=T,T.prototype.className="Sprite",(0,k._registerNode)(T),N.Factory.addGetterSetter(T,"animation"),N.Factory.addGetterSetter(T,"animations"),N.Factory.addGetterSetter(T,"frameOffsets"),N.Factory.addGetterSetter(T,"image"),N.Factory.addGetterSetter(T,"frameIndex",0,(0,q.getNumberValidator)()),N.Factory.addGetterSetter(T,"frameRate",17,(0,q.getNumberValidator)()),N.Factory.backCompat(T,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},4704:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Star=void 0;const N=F(4362),H=F(7293),z=F(5340),q=F(3602);class k extends H.Shape{_sceneFunc(C){var g=this.innerRadius(),y=this.outerRadius(),D=this.numPoints();C.beginPath(),C.moveTo(0,0-y);for(var S=1;S<2*D;S++){var b=S%2==0?y:g,v=b*Math.sin(S*Math.PI/D),m=-1*b*Math.cos(S*Math.PI/D);C.lineTo(v,m)}C.closePath(),C.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(C){this.outerRadius(C/2)}setHeight(C){this.outerRadius(C/2)}}x.Star=k,k.prototype.className="Star",k.prototype._centroid=!0,k.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,q._registerNode)(k),N.Factory.addGetterSetter(k,"numPoints",5,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(k,"innerRadius",0,(0,z.getNumberValidator)()),N.Factory.addGetterSetter(k,"outerRadius",0,(0,z.getNumberValidator)())},4977:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Text=x.stringToArray=void 0;const N=F(7675),H=F(4362),z=F(7293),q=F(5340),k=F(3602);function T(te){return Array.from(te)}x.stringToArray=T;var re,C="auto",y="justify",v="left",B="middle",u="normal",E=" ",G="none",U=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],W=U.length;function _(){return re||(re=N.Util.createCanvasElement().getContext("2d"))}class X extends z.Shape{constructor(ne){super(function Y(te){return!(te=te||{}).fillLinearGradientColorStops&&!te.fillRadialGradientColorStops&&!te.fillPatternImage&&(te.fill=te.fill||"black"),te}(ne)),this._partialTextX=0,this._partialTextY=0;for(var he=0;he<W;he++)this.on(U[he]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(ne){var he=this.textArr,pe=he.length;if(this.text()){var Gt,ce=this.padding(),Me=this.fontSize(),ve=this.lineHeight()*Me,J=this.verticalAlign(),ue=0,se=this.align(),De=this.getWidth(),Ae=this.letterSpacing(),ke=this.fill(),Ze=this.textDecoration(),Nt=-1!==Ze.indexOf("underline"),Ge=-1!==Ze.indexOf("line-through"),mt=0,it=(mt=ve/2,0),bn=0;for(ne.setAttr("font",this._getContextFont()),ne.setAttr("textBaseline",B),ne.setAttr("textAlign",v),J===B?ue=(this.getHeight()-pe*ve-2*ce)/2:"bottom"===J&&(ue=this.getHeight()-pe*ve-2*ce),ne.translate(ce,ue+ce),Gt=0;Gt<pe;Gt++){it=0,bn=0;var Ct,Pn,zn,bt=he[Gt],Jt=bt.text,zt=bt.width,Cn=bt.lastInParagraph;if(ne.save(),"right"===se?it+=De-zt-2*ce:"center"===se&&(it+=(De-zt-2*ce)/2),Nt){ne.save(),ne.beginPath(),ne.moveTo(it,mt+bn+Math.round(Me/2)),Pn=0==(Ct=Jt.split(" ").length-1),zn=se!==y||Cn?zt:De-2*ce,ne.lineTo(it+Math.round(zn),mt+bn+Math.round(Me/2)),ne.lineWidth=Me/15;const pi=this._getLinearGradient();ne.strokeStyle=pi||ke,ne.stroke(),ne.restore()}if(Ge){ne.save(),ne.beginPath(),ne.moveTo(it,mt+bn),Pn=0==(Ct=Jt.split(" ").length-1),zn=se===y&&Cn&&!Pn?De-2*ce:zt,ne.lineTo(it+Math.round(zn),mt+bn),ne.lineWidth=Me/15;const pi=this._getLinearGradient();ne.strokeStyle=pi||ke,ne.stroke(),ne.restore()}if(0!==Ae||se===y){Ct=Jt.split(" ").length-1;for(var fi=T(Jt),zr=0;zr<fi.length;zr++){var or=fi[zr];" "===or&&!Cn&&se===y&&(it+=(De-2*ce-zt)/Ct),this._partialTextX=it,this._partialTextY=mt+bn,this._partialText=or,ne.fillStrokeShape(this),it+=this.measureSize(or).width+Ae}}else this._partialTextX=it,this._partialTextY=mt+bn,this._partialText=Jt,ne.fillStrokeShape(this);ne.restore(),pe>1&&(mt+=ve)}}}_hitFunc(ne){var he=this.getWidth(),pe=this.getHeight();ne.beginPath(),ne.rect(0,0,he,pe),ne.closePath(),ne.fillStrokeShape(this)}setText(ne){var he=N.Util._isString(ne)?ne:null==ne?"":ne+"";return this._setAttr("text",he),this}getWidth(){return this.attrs.width===C||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===C||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return N.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(ne){var ce,he=_(),pe=this.fontSize();return he.save(),he.font=this._getContextFont(),ce=he.measureText(ne),he.restore(),{width:ce.width,height:pe}}_getContextFont(){return this.fontStyle()+E+this.fontVariant()+E+(this.fontSize()+"px ")+function Q(te){return te.split(",").map(ne=>{const he=(ne=ne.trim()).indexOf(" ")>=0,pe=ne.indexOf('"')>=0||ne.indexOf("'")>=0;return he&&!pe&&(ne=`"${ne}"`),ne}).join(", ")}(this.fontFamily())}_addTextLine(ne){this.align()===y&&(ne=ne.trim());var pe=this._getTextWidth(ne);return this.textArr.push({text:ne,width:pe,lastInParagraph:!1})}_getTextWidth(ne){var he=this.letterSpacing(),pe=ne.length;return _().measureText(ne).width+(pe?he*(pe-1):0)}_setTextData(){var ne=this.text().split("\n"),he=+this.fontSize(),pe=0,ce=this.lineHeight()*he,Me=this.attrs.width,ve=this.attrs.height,J=Me!==C&&void 0!==Me,ue=ve!==C&&void 0!==ve,se=this.padding(),De=Me-2*se,Ae=ve-2*se,ke=0,Ze=this.wrap(),Ge="char"!==Ze&&Ze!==G,Gt=this.ellipsis();this.textArr=[],_().font=this._getContextFont();for(var mt=Gt?this._getTextWidth("\u2026"):0,it=0,bn=ne.length;it<bn;++it){var bt=ne[it],Jt=this._getTextWidth(bt);if(J&&Jt>De)for(;bt.length>0;){for(var zt=0,Cn=bt.length,Ct="",Pn=0;zt<Cn;){var zn=zt+Cn>>>1,fi=bt.slice(0,zn+1),zr=this._getTextWidth(fi)+mt;zr<=De?(zt=zn+1,Ct=fi,Pn=zr):Cn=zn}if(!Ct)break;if(Ge){var or,Wn=bt[Ct.length];(or=(Wn===E||"-"===Wn)&&Pn<=De?Ct.length:Math.max(Ct.lastIndexOf(E),Ct.lastIndexOf("-"))+1)>0&&(Ct=Ct.slice(0,zt=or),Pn=this._getTextWidth(Ct))}if(Ct=Ct.trimRight(),this._addTextLine(Ct),pe=Math.max(pe,Pn),this._shouldHandleEllipsis(ke+=ce)){this._tryToAddEllipsisToLastLine();break}if((bt=(bt=bt.slice(zt)).trimLeft()).length>0&&(Jt=this._getTextWidth(bt))<=De){this._addTextLine(bt),ke+=ce,pe=Math.max(pe,Jt);break}}else this._addTextLine(bt),ke+=ce,pe=Math.max(pe,Jt),this._shouldHandleEllipsis(ke)&&it<bn-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),ue&&ke+ce>Ae)break}this.textHeight=he,this.textWidth=pe}_shouldHandleEllipsis(ne){var he=+this.fontSize(),pe=this.lineHeight()*he,ce=this.attrs.height,Me=ce!==C&&void 0!==ce,J=ce-2*this.padding();return!(this.wrap()!==G)||Me&&ne+pe>J}_tryToAddEllipsisToLastLine(){var ne=this.attrs.width,he=ne!==C&&void 0!==ne,ce=ne-2*this.padding(),Me=this.ellipsis(),ve=this.textArr[this.textArr.length-1];ve&&Me&&(he&&(this._getTextWidth(ve.text+"\u2026")<ce||(ve.text=ve.text.slice(0,ve.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ve.text+"\u2026"))}getStrokeScaleEnabled(){return!0}}x.Text=X,X.prototype._fillFunc=function R(te){te.fillText(this._partialText,this._partialTextX,this._partialTextY)},X.prototype._strokeFunc=function P(te){te.setAttr("miterLimit",2),te.strokeText(this._partialText,this._partialTextX,this._partialTextY)},X.prototype.className="Text",X.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,k._registerNode)(X),H.Factory.overWriteSetter(X,"width",(0,q.getNumberOrAutoValidator)()),H.Factory.overWriteSetter(X,"height",(0,q.getNumberOrAutoValidator)()),H.Factory.addGetterSetter(X,"fontFamily","Arial"),H.Factory.addGetterSetter(X,"fontSize",12,(0,q.getNumberValidator)()),H.Factory.addGetterSetter(X,"fontStyle",u),H.Factory.addGetterSetter(X,"fontVariant",u),H.Factory.addGetterSetter(X,"padding",0,(0,q.getNumberValidator)()),H.Factory.addGetterSetter(X,"align",v),H.Factory.addGetterSetter(X,"verticalAlign","top"),H.Factory.addGetterSetter(X,"lineHeight",1,(0,q.getNumberValidator)()),H.Factory.addGetterSetter(X,"wrap","word"),H.Factory.addGetterSetter(X,"ellipsis",!1,(0,q.getBooleanValidator)()),H.Factory.addGetterSetter(X,"letterSpacing",0,(0,q.getNumberValidator)()),H.Factory.addGetterSetter(X,"text","",(0,q.getStringValidator)()),H.Factory.addGetterSetter(X,"textDecoration","")},769:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TextPath=void 0;const N=F(7675),H=F(4362),z=F(7293),q=F(9188),k=F(4977),T=F(5340),C=F(3602);var y="normal";function D(v){v.fillText(this.partialText,0,0)}function S(v){v.strokeText(this.partialText,0,0)}class b extends z.Shape{constructor(m){super(m),this.dummyCanvas=N.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return q.Path.getPathLength(this.dataArray)}_getPointAtLength(m){return this.attrs.data?m-1>this.pathLength?null:q.Path.getPointAtLengthOfDataArray(m,this.dataArray):null}_readDataAttribute(){this.dataArray=q.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(m){m.setAttr("font",this._getContextFont()),m.setAttr("textBaseline",this.textBaseline()),m.setAttr("textAlign","left"),m.save();var p=this.textDecoration(),M=this.fill(),w=this.fontSize(),B=this.glyphInfo;"underline"===p&&m.beginPath();for(var u=0;u<B.length;u++){m.save();var f=B[u].p0;m.translate(f.x,f.y),m.rotate(B[u].rotation),this.partialText=B[u].text,m.fillStrokeShape(this),"underline"===p&&(0===u&&m.moveTo(0,w/2+1),m.lineTo(w,w/2+1)),m.restore()}"underline"===p&&(m.strokeStyle=M,m.lineWidth=w/20,m.stroke()),m.restore()}_hitFunc(m){m.beginPath();var p=this.glyphInfo;if(p.length>=1){var M=p[0].p0;m.moveTo(M.x,M.y)}for(var w=0;w<p.length;w++){var B=p[w].p1;m.lineTo(B.x,B.y)}m.setAttr("lineWidth",this.fontSize()),m.setAttr("strokeStyle",this.colorKey),m.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return N.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(m){return k.Text.prototype.setText.call(this,m)}_getContextFont(){return k.Text.prototype._getContextFont.call(this)}_getTextSize(m){var M=this.dummyCanvas.getContext("2d");M.save(),M.font=this._getContextFont();var w=M.measureText(m);return M.restore(),{width:w.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:m,height:p}=this._getTextSize(this.attrs.text);if(this.textWidth=m,this.textHeight=p,this.glyphInfo=[],!this.attrs.data)return null;const M=this.letterSpacing(),w=this.align(),B=this.kerningFunc(),u=Math.max(this.textWidth+((this.attrs.text||"").length-1)*M,0);let f=0;"center"===w&&(f=Math.max(0,this.pathLength/2-u/2)),"right"===w&&(f=Math.max(0,this.pathLength-u));const E=(0,k.stringToArray)(this.text());let V=f;for(var $=0;$<E.length;$++){const j=this._getPointAtLength(V);if(!j)return;let G=this._getTextSize(E[$]).width+M;if(" "===E[$]&&"justify"===w){const _=this.text().split(" ").length-1;G+=(this.pathLength-u)/_}const O=this._getPointAtLength(V+G);if(!O)return;const U=q.Path.getLineLength(j.x,j.y,O.x,O.y);let W=0;if(B)try{W=B(E[$-1],E[$])*this.fontSize()}catch{W=0}j.x+=W,O.x+=W,this.textWidth+=W;const Q=q.Path.getPointOnLine(W+U/2,j.x,j.y,O.x,O.y),re=Math.atan2(O.y-j.y,O.x-j.x);this.glyphInfo.push({transposeX:Q.x,transposeY:Q.y,text:E[$],rotation:re,p0:j,p1:O}),V+=G}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var m=[];this.glyphInfo.forEach(function($){m.push($.p0.x),m.push($.p0.y),m.push($.p1.x),m.push($.p1.y)});for(var u,f,p=m[0]||0,M=m[0]||0,w=m[1]||0,B=m[1]||0,E=0;E<m.length/2;E++)u=m[2*E],f=m[2*E+1],p=Math.min(p,u),M=Math.max(M,u),w=Math.min(w,f),B=Math.max(B,f);var V=this.fontSize();return{x:p-V/2,y:w-V/2,width:M-p+V,height:B-w+V}}destroy(){return N.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}x.TextPath=b,b.prototype._fillFunc=D,b.prototype._strokeFunc=S,b.prototype._fillFuncHit=D,b.prototype._strokeFuncHit=S,b.prototype.className="TextPath",b.prototype._attrsAffectingSize=["text","fontSize","data"],(0,C._registerNode)(b),H.Factory.addGetterSetter(b,"data"),H.Factory.addGetterSetter(b,"fontFamily","Arial"),H.Factory.addGetterSetter(b,"fontSize",12,(0,T.getNumberValidator)()),H.Factory.addGetterSetter(b,"fontStyle",y),H.Factory.addGetterSetter(b,"align","left"),H.Factory.addGetterSetter(b,"letterSpacing",0,(0,T.getNumberValidator)()),H.Factory.addGetterSetter(b,"textBaseline","middle"),H.Factory.addGetterSetter(b,"fontVariant",y),H.Factory.addGetterSetter(b,"text",""),H.Factory.addGetterSetter(b,"textDecoration",null),H.Factory.addGetterSetter(b,"kerningFunc",null)},7536:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Transformer=void 0;const N=F(7675),H=F(4362),z=F(1272),q=F(7293),k=F(9),T=F(1298),C=F(3602),g=F(5340),y=F(3602);var D="tr-konva",S=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(G=>G+`.${D}`).join(" "),b="nodesRect",v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],m={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const p="ontouchstart"in C.Konva._global;var w=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],B=1e8;function f(G,O,U){const W=U.x+(G.x-U.x)*Math.cos(O)-(G.y-U.y)*Math.sin(O),Q=U.y+(G.x-U.x)*Math.sin(O)+(G.y-U.y)*Math.cos(O);return Object.assign(Object.assign({},G),{rotation:G.rotation+O,x:W,y:Q})}class $ extends T.Group{constructor(O){super(O),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(S,this.update),this.getNode()&&this.update()}attachTo(O){return this.setNode(O),this}setNode(O){return N.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([O])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return D+this._id}setNodes(O=[]){this._nodes&&this._nodes.length&&this.detach();const U=O.filter(Q=>!Q.isAncestorOf(this)||(N.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1));return this._nodes=O=U,1===O.length&&this.useSingleNodeRotation()?this.rotation(O[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(Q=>{const re=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},_=Q._attrsAffectingSize.map(R=>R+"Change."+this._getEventNamespace()).join(" ");Q.on(_,re),Q.on(v.map(R=>R+`.${this._getEventNamespace()}`).join(" "),re),Q.on(`absoluteTransformChange.${this._getEventNamespace()}`,re),this._proxyDrag(Q)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(O){let U;O.on(`dragstart.${this._getEventNamespace()}`,W=>{U=O.getAbsolutePosition(),!this.isDragging()&&O!==this.findOne(".back")&&this.startDrag(W,!1)}),O.on(`dragmove.${this._getEventNamespace()}`,W=>{if(!U)return;const Q=O.getAbsolutePosition(),re=Q.x-U.x,_=Q.y-U.y;this.nodes().forEach(R=>{if(R===O||R.isDragging())return;const P=R.getAbsolutePosition();R.setAbsolutePosition({x:P.x+re,y:P.y+_}),R.startDrag(W)}),U=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(O=>{O.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(b),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(b,this.__getNodeRect)}__getNodeShape(O,U=this.rotation(),W){var Q=O.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),re=O.getAbsoluteScale(W),_=O.getAbsolutePosition(W),R=Q.x*re.x-O.offsetX()*re.x,P=Q.y*re.y-O.offsetY()*re.y;const Y=(C.Konva.getAngle(O.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return f({x:_.x+R*Math.cos(Y)+P*Math.sin(-Y),y:_.y+P*Math.cos(Y)+R*Math.sin(Y),width:Q.width*re.x,height:Q.height*re.y,rotation:Y},-C.Konva.getAngle(U),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-B,y:-B,width:0,height:0,rotation:0};const U=[];this.nodes().map(Y=>{const X=Y.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var te=[{x:X.x,y:X.y},{x:X.x+X.width,y:X.y},{x:X.x+X.width,y:X.y+X.height},{x:X.x,y:X.y+X.height}],ne=Y.getAbsoluteTransform();te.forEach(function(he){var pe=ne.point(he);U.push(pe)})});const W=new N.Transform;var Q,re,_,R;W.rotate(-C.Konva.getAngle(this.rotation())),U.forEach(function(Y){var X=W.point(Y);void 0===Q&&(Q=_=X.x,re=R=X.y),Q=Math.min(Q,X.x),re=Math.min(re,X.y),_=Math.max(_,X.x),R=Math.max(R,X.y)}),W.invert();const P=W.point({x:Q,y:re});return{x:P.x,y:P.y,width:_-Q,height:R-re,rotation:C.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),w.forEach(function(O){this._createAnchor(O)}.bind(this)),this._createAnchor("rotater")}_createAnchor(O){var U=new k.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:O+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:p?10:"auto"}),W=this;U.on("mousedown touchstart",function(Q){W._handleMouseDown(Q)}),U.on("dragstart",Q=>{U.stopDrag(),Q.cancelBubble=!0}),U.on("dragend",Q=>{Q.cancelBubble=!0}),U.on("mouseenter",()=>{var Q=C.Konva.getAngle(this.rotation()),re=function M(G,O){if("rotater"===G)return"crosshair";O+=N.Util.degToRad(m[G]||0);var U=(N.Util.radToDeg(O)%360+360)%360;return N.Util._inRange(U,337.5,360)||N.Util._inRange(U,0,22.5)?"ns-resize":N.Util._inRange(U,22.5,67.5)?"nesw-resize":N.Util._inRange(U,67.5,112.5)?"ew-resize":N.Util._inRange(U,112.5,157.5)?"nwse-resize":N.Util._inRange(U,157.5,202.5)?"ns-resize":N.Util._inRange(U,202.5,247.5)?"nesw-resize":N.Util._inRange(U,247.5,292.5)?"ew-resize":N.Util._inRange(U,292.5,337.5)?"nwse-resize":(N.Util.error("Transformer has unknown angle for cursor detection: "+U),"pointer")}(O,Q);U.getStage().content&&(U.getStage().content.style.cursor=re),this._cursorChange=!0}),U.on("mouseout",()=>{U.getStage().content&&(U.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(U)}_createBack(){var O=new q.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(U){var W=this.getParent(),Q=W.padding();U.beginPath(),U.rect(-Q,-Q,this.width()+2*Q,this.height()+2*Q),U.moveTo(this.width()/2,-Q),W.rotateEnabled()&&U.lineTo(this.width()/2,-W.rotateAnchorOffset()*N.Util._sign(this.height())-Q),U.fillStrokeShape(this)},hitFunc:(U,W)=>{if(this.shouldOverdrawWholeArea()){var Q=this.padding();U.beginPath(),U.rect(-Q,-Q,W.width()+2*Q,W.height()+2*Q),U.fillStrokeShape(W)}}});this.add(O),this._proxyDrag(O),O.on("dragstart",U=>{U.cancelBubble=!0}),O.on("dragmove",U=>{U.cancelBubble=!0}),O.on("dragend",U=>{U.cancelBubble=!0}),this.on("dragmove",U=>{this.update()})}_handleMouseDown(O){this._movingAnchorName=O.target.name().split(" ")[0];var U=this._getNodeRect(),W=U.width,Q=U.height,re=Math.sqrt(Math.pow(W,2)+Math.pow(Q,2));this.sin=Math.abs(Q/re),this.cos=Math.abs(W/re),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var _=O.target.getAbsolutePosition(),R=O.target.getStage().getPointerPosition();this._anchorDragOffset={x:R.x-_.x,y:R.y-_.y},this._fire("transformstart",{evt:O.evt,target:this.getNode()}),this._nodes.forEach(P=>{P._fire("transformstart",{evt:O.evt,target:P})})}_handleMouseMove(O){var U,W,Q,re=this.findOne("."+this._movingAnchorName),_=re.getStage();_.setPointersPositions(O);const R=_.getPointerPosition();let P={x:R.x-this._anchorDragOffset.x,y:R.y-this._anchorDragOffset.y};const Y=re.getAbsolutePosition();this.anchorDragBoundFunc()&&(P=this.anchorDragBoundFunc()(Y,P,O)),re.setAbsolutePosition(P);const X=re.getAbsolutePosition();if(Y.x!==X.x||Y.y!==X.y){if("rotater"===this._movingAnchorName){var te=this._getNodeRect();U=re.x()-te.width/2,W=-re.y()+te.height/2;let it=Math.atan2(-W,U)+Math.PI/2;te.height<0&&(it-=Math.PI);const bn=C.Konva.getAngle(this.rotation())+it,bt=C.Konva.getAngle(this.rotationSnapTolerance()),zt=function V(G,O,U){let W=O;for(let Q=0;Q<G.length;Q++){const re=C.Konva.getAngle(G[Q]),_=Math.abs(re-O)%(2*Math.PI);Math.min(_,2*Math.PI-_)<U&&(W=re)}return W}(this.rotationSnaps(),bn,bt)-te.rotation,Cn=function E(G,O){const U=function u(G){return{x:G.x+G.width/2*Math.cos(G.rotation)+G.height/2*Math.sin(-G.rotation),y:G.y+G.height/2*Math.cos(G.rotation)+G.width/2*Math.sin(G.rotation)}}(G);return f(G,O,U)}(te,zt);return void this._fitNodesInto(Cn,O)}var pe,he=this.shiftBehavior();pe="inverted"===he?this.keepRatio()&&!O.shiftKey:"none"===he?this.keepRatio():this.keepRatio()||O.shiftKey;var ue=this.centeredScaling()||O.altKey;if("top-left"===this._movingAnchorName){if(pe){var ce=ue?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};Q=Math.sqrt(Math.pow(ce.x-re.x(),2)+Math.pow(ce.y-re.y(),2));var Me=this.findOne(".top-left").x()>ce.x?-1:1,ve=this.findOne(".top-left").y()>ce.y?-1:1;U=Q*this.cos*Me,W=Q*this.sin*ve,this.findOne(".top-left").x(ce.x-U),this.findOne(".top-left").y(ce.y-W)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(re.y());else if("top-right"===this._movingAnchorName){pe&&(ce=ue?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},Q=Math.sqrt(Math.pow(re.x()-ce.x,2)+Math.pow(ce.y-re.y(),2)),Me=this.findOne(".top-right").x()<ce.x?-1:1,ve=this.findOne(".top-right").y()>ce.y?-1:1,U=Q*this.cos*Me,W=Q*this.sin*ve,this.findOne(".top-right").x(ce.x+U),this.findOne(".top-right").y(ce.y-W));var J=re.position();this.findOne(".top-left").y(J.y),this.findOne(".bottom-right").x(J.x)}else"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(re.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(re.x()):"bottom-left"===this._movingAnchorName?(pe&&(ce=ue?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},Q=Math.sqrt(Math.pow(ce.x-re.x(),2)+Math.pow(re.y()-ce.y,2)),Me=ce.x<re.x()?-1:1,ve=re.y()<ce.y?-1:1,W=Q*this.sin*ve,re.x(ce.x-(U=Q*this.cos*Me)),re.y(ce.y+W)),J=re.position(),this.findOne(".top-left").x(J.x),this.findOne(".bottom-right").y(J.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(re.y()):"bottom-right"===this._movingAnchorName?pe&&(ce=ue?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},Q=Math.sqrt(Math.pow(re.x()-ce.x,2)+Math.pow(re.y()-ce.y,2)),Me=this.findOne(".bottom-right").x()<ce.x?-1:1,ve=this.findOne(".bottom-right").y()<ce.y?-1:1,U=Q*this.cos*Me,W=Q*this.sin*ve,this.findOne(".bottom-right").x(ce.x+U),this.findOne(".bottom-right").y(ce.y+W)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(ue=this.centeredScaling()||O.altKey){var se=this.findOne(".top-left"),De=this.findOne(".bottom-right"),Ae=se.x(),ke=se.y(),Ze=this.getWidth()-De.x(),Nt=this.getHeight()-De.y();De.move({x:-Ae,y:-ke}),se.move({x:Ze,y:Nt})}var Ge=this.findOne(".top-left").getAbsolutePosition();U=Ge.x,W=Ge.y;var Gt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),mt=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:U,y:W,width:Gt,height:mt,rotation:C.Konva.getAngle(this.rotation())},O)}}_handleMouseUp(O){this._removeEvents(O)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(O){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var U=this.getNode();this._fire("transformend",{evt:O,target:U}),U&&this._nodes.forEach(W=>{W._fire("transformend",{evt:O,target:W})}),this._movingAnchorName=null}}_fitNodesInto(O,U){var W=this._getNodeRect();if(N.Util._inRange(O.width,2*-this.padding()-1,1))return void this.update();if(N.Util._inRange(O.height,2*-this.padding()-1,1))return void this.update();const re=this.flipEnabled();var _=new N.Transform;if(_.rotate(C.Konva.getAngle(this.rotation())),this._movingAnchorName&&O.width<0&&this._movingAnchorName.indexOf("left")>=0){const te=_.point({x:2*-this.padding(),y:0});if(O.x+=te.x,O.y+=te.y,O.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=te.x,this._anchorDragOffset.y-=te.y,!re)return void this.update()}else if(this._movingAnchorName&&O.width<0&&this._movingAnchorName.indexOf("right")>=0){const te=_.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=te.x,this._anchorDragOffset.y-=te.y,O.width+=2*this.padding(),!re)return void this.update()}if(this._movingAnchorName&&O.height<0&&this._movingAnchorName.indexOf("top")>=0){const te=_.point({x:0,y:2*-this.padding()});if(O.x+=te.x,O.y+=te.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=te.x,this._anchorDragOffset.y-=te.y,O.height+=2*this.padding(),!re)return void this.update()}else if(this._movingAnchorName&&O.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const te=_.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=te.x,this._anchorDragOffset.y-=te.y,O.height+=2*this.padding(),!re)return void this.update()}if(this.boundBoxFunc()){const te=this.boundBoxFunc()(W,O);te?O=te:N.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const R=1e7,P=new N.Transform;P.translate(W.x,W.y),P.rotate(W.rotation),P.scale(W.width/R,W.height/R);const Y=new N.Transform;Y.translate(O.x,O.y),Y.rotate(O.rotation),Y.scale(O.width/R,O.height/R);const X=Y.multiply(P.invert());this._nodes.forEach(te=>{var ne;const he=te.getParent().getAbsoluteTransform(),pe=te.getTransform().copy();pe.translate(te.offsetX(),te.offsetY());const ce=new N.Transform;ce.multiply(he.copy().invert()).multiply(X).multiply(he).multiply(pe);const Me=ce.decompose();te.setAttrs(Me),this._fire("transform",{evt:U,target:te}),te._fire("transform",{evt:U,target:te}),null===(ne=te.getLayer())||void 0===ne||ne.batchDraw()}),this.rotation(N.Util._getRotation(O.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(O,U){this.findOne(O).setAttrs(U)}update(){var O,U=this._getNodeRect();this.rotation(N.Util._getRotation(U.rotation));var W=U.width,Q=U.height,re=this.enabledAnchors(),_=this.resizeEnabled(),R=this.padding(),P=this.anchorSize();const Y=this.find("._anchor");Y.forEach(te=>{te.setAttrs({width:P,height:P,offsetX:P/2,offsetY:P/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:P/2+R,offsetY:P/2+R,visible:_&&re.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:W/2,y:0,offsetY:P/2+R,visible:_&&re.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:W,y:0,offsetX:P/2-R,offsetY:P/2+R,visible:_&&re.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:Q/2,offsetX:P/2+R,visible:_&&re.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:W,y:Q/2,offsetX:P/2-R,visible:_&&re.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:Q,offsetX:P/2+R,offsetY:P/2-R,visible:_&&re.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:W/2,y:Q,offsetY:P/2-R,visible:_&&re.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:W,y:Q,offsetX:P/2-R,offsetY:P/2-R,visible:_&&re.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:W/2,y:-this.rotateAnchorOffset()*N.Util._sign(Q)-R,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:W,height:Q,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const X=this.anchorStyleFunc();X&&Y.forEach(te=>{X(te)}),null===(O=this.getLayer())||void 0===O||O.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var O=this.findOne("."+this._movingAnchorName);O&&O.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),T.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return z.Node.prototype.toObject.call(this)}clone(O){return z.Node.prototype.clone.call(this,O)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}x.Transformer=$,$.prototype.className="Transformer",(0,y._registerNode)($),H.Factory.addGetterSetter($,"enabledAnchors",w,function j(G){return G instanceof Array||N.Util.warn("enabledAnchors value should be an array"),G instanceof Array&&G.forEach(function(O){-1===w.indexOf(O)&&N.Util.warn("Unknown anchor name: "+O+". Available names are: "+w.join(", "))}),G||[]}),H.Factory.addGetterSetter($,"flipEnabled",!0,(0,g.getBooleanValidator)()),H.Factory.addGetterSetter($,"resizeEnabled",!0),H.Factory.addGetterSetter($,"anchorSize",10,(0,g.getNumberValidator)()),H.Factory.addGetterSetter($,"rotateEnabled",!0),H.Factory.addGetterSetter($,"rotationSnaps",[]),H.Factory.addGetterSetter($,"rotateAnchorOffset",50,(0,g.getNumberValidator)()),H.Factory.addGetterSetter($,"rotationSnapTolerance",5,(0,g.getNumberValidator)()),H.Factory.addGetterSetter($,"borderEnabled",!0),H.Factory.addGetterSetter($,"anchorStroke","rgb(0, 161, 255)"),H.Factory.addGetterSetter($,"anchorStrokeWidth",1,(0,g.getNumberValidator)()),H.Factory.addGetterSetter($,"anchorFill","white"),H.Factory.addGetterSetter($,"anchorCornerRadius",0,(0,g.getNumberValidator)()),H.Factory.addGetterSetter($,"borderStroke","rgb(0, 161, 255)"),H.Factory.addGetterSetter($,"borderStrokeWidth",1,(0,g.getNumberValidator)()),H.Factory.addGetterSetter($,"borderDash"),H.Factory.addGetterSetter($,"keepRatio",!0),H.Factory.addGetterSetter($,"shiftBehavior","default"),H.Factory.addGetterSetter($,"centeredScaling",!1),H.Factory.addGetterSetter($,"ignoreStroke",!1),H.Factory.addGetterSetter($,"padding",0,(0,g.getNumberValidator)()),H.Factory.addGetterSetter($,"node"),H.Factory.addGetterSetter($,"nodes"),H.Factory.addGetterSetter($,"boundBoxFunc"),H.Factory.addGetterSetter($,"anchorDragBoundFunc"),H.Factory.addGetterSetter($,"anchorStyleFunc"),H.Factory.addGetterSetter($,"shouldOverdrawWholeArea",!1),H.Factory.addGetterSetter($,"useSingleNodeRotation",!0),H.Factory.backCompat($,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},942:(Se,x,F)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Wedge=void 0;const N=F(4362),H=F(7293),z=F(3602),q=F(5340),k=F(3602);class T extends H.Shape{_sceneFunc(g){g.beginPath(),g.arc(0,0,this.radius(),0,z.Konva.getAngle(this.angle()),this.clockwise()),g.lineTo(0,0),g.closePath(),g.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(g){this.radius(g/2)}setHeight(g){this.radius(g/2)}}x.Wedge=T,T.prototype.className="Wedge",T.prototype._centroid=!0,T.prototype._attrsAffectingSize=["radius"],(0,k._registerNode)(T),N.Factory.addGetterSetter(T,"radius",0,(0,q.getNumberValidator)()),N.Factory.addGetterSetter(T,"angle",0,(0,q.getNumberValidator)()),N.Factory.addGetterSetter(T,"clockwise",!1),N.Factory.backCompat(T,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})}},Se=>{Se(Se.s=3604)}]);
